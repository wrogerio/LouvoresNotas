import{b as dp,c as fp,f as FD,g as hp}from"./chunk-LJ5XHLMQ.js";import{a as w,b as L,d as Qt,f as kD,g as PD,h}from"./chunk-FK42CRUA.js";var Hh=Qt(Uh=>{"use strict";Object.defineProperty(Uh,"__esModule",{value:!0});var Bh=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};Uh.default=Bh});var qh=Qt(fs=>{"use strict";var Cw=fs&&fs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fs,"__esModule",{value:!0});var Cx=Cw((hp(),PD(FD))),Ex=Cw(Hh()),zh=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=Cx.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=Object.assign({},this.headers),this.headers[n]=e,this}then(n,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>h(this,null,function*(){var s,a,l;let c=null,u=null,d=null,p=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){let x=yield i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=x:u=JSON.parse(x))}let _=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),C=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&C&&C.length>1&&(d=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,p=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let _=yield i.text();try{c=JSON.parse(_),Array.isArray(c)&&i.status===404&&(u=[],c=null,p=200,f="OK")}catch{i.status===404&&_===""?(p=204,f="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,p=200,f="OK"),c&&this.shouldThrowOnError)throw new Ex.default(c)}return{error:c,data:u,count:d,status:p,statusText:f}}));return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,l;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),o.then(n,e)}returns(){return this}overrideTypes(){return this}};fs.default=zh});var Wh=Qt(hs=>{"use strict";var Ix=hs&&hs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hs,"__esModule",{value:!0});var Sx=Ix(qh()),Gh=class extends Sx.default{select(n){let e=!1,r=(n??"*").split("").map(o=>/\s/.test(o)&&!e?"":(o==='"'&&(e=!e),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:e=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:r=e}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${n}`),this}range(n,e,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${n}`),this.url.searchParams.set(s,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:e=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let l=[n?"analyze":null,e?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};hs.default=Gh});var _c=Qt(ps=>{"use strict";var Mx=ps&&ps.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ps,"__esModule",{value:!0});var Tx=Mx(Wh()),Zh=class extends Tx.default{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}in(n,e){let r=Array.from(new Set(e)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${i}fts${s}.${e}`),this}match(n){return Object.entries(n).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(n,e,r){return this.url.searchParams.append(n,`not.${e}.${r}`),this}or(n,{foreignTable:e,referencedTable:r=e}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${n})`),this}filter(n,e,r){return this.url.searchParams.append(n,`${e}.${r}`),this}};ps.default=Zh});var Yh=Qt(ms=>{"use strict";var xx=ms&&ms.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ms,"__esModule",{value:!0});var gs=xx(_c()),Kh=class{constructor(n,{headers:e={},schema:r,fetch:o}){this.url=n,this.headers=e,this.schema=r,this.fetch=o}select(n,{head:e=!1,count:r}={}){let o=e?"HEAD":"GET",i=!1,s=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new gs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:e,defaultToNull:r=!0}={}){let o="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push(`count=${e}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(n)){let s=n.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new gs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:e,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(n)){let l=n.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new gs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:e}={}){let r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),e&&o.push(`count=${e}`),this.headers.Prefer=o.join(","),new gs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){let e="DELETE",r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new gs.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ms.default=Kh});var Ew=Qt(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.version=void 0;wc.version="0.0.0-automated"});var Iw=Qt(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.DEFAULT_HEADERS=void 0;var Ax=Ew();Dc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ax.version}`}});var Mw=Qt(vs=>{"use strict";var Sw=vs&&vs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vs,"__esModule",{value:!0});var Nx=Sw(Yh()),Rx=Sw(_c()),Ox=Iw(),Qh=class t{constructor(n,{headers:e={},schema:r,fetch:o}={}){this.url=n,this.headers=Object.assign(Object.assign({},Ox.DEFAULT_HEADERS),e),this.schemaName=r,this.fetch=o}from(n){let e=new URL(`${this.url}/${n}`);return new Nx.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new t(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,e={},{head:r=!1,get:o=!1,count:i}={}){let s,a=new URL(`${this.url}/rpc/${n}`),l;r||o?(s=r?"HEAD":"GET",Object.entries(e).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",l=e);let c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Rx.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};vs.default=Qh});var kw=Qt(Se=>{"use strict";var No=Se&&Se.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Se,"__esModule",{value:!0});Se.PostgrestError=Se.PostgrestBuilder=Se.PostgrestTransformBuilder=Se.PostgrestFilterBuilder=Se.PostgrestQueryBuilder=Se.PostgrestClient=void 0;var Tw=No(Mw());Se.PostgrestClient=Tw.default;var xw=No(Yh());Se.PostgrestQueryBuilder=xw.default;var Aw=No(_c());Se.PostgrestFilterBuilder=Aw.default;var Nw=No(Wh());Se.PostgrestTransformBuilder=Nw.default;var Rw=No(qh());Se.PostgrestBuilder=Rw.default;var Ow=No(Hh());Se.PostgrestError=Ow.default;Se.default={PostgrestClient:Tw.default,PostgrestQueryBuilder:xw.default,PostgrestFilterBuilder:Aw.default,PostgrestTransformBuilder:Nw.default,PostgrestBuilder:Rw.default,PostgrestError:Ow.default}});function tu(t,n){return Object.is(t,n)}var ve=null,Rs=!1,nu=1,Qe=Symbol("SIGNAL");function j(t){let n=ve;return ve=t,n}function ru(){return ve}var Go={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Wo(t){if(Rs)throw new Error("");if(ve===null)return;ve.consumerOnSignalRead(t);let n=ve.nextProducerIndex++;if(Fs(ve),n<ve.producerNode.length&&ve.producerNode[n]!==t&&qo(ve)){let e=ve.producerNode[n];Ps(e,ve.producerIndexOfThis[n])}ve.producerNode[n]!==t&&(ve.producerNode[n]=t,ve.producerIndexOfThis[n]=qo(ve)?gp(t,ve,n):0),ve.producerLastReadVersion[n]=t.version}function pp(){nu++}function ou(t){if(!(qo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===nu)){if(!t.producerMustRecompute(t)&&!lu(t)){eu(t);return}t.producerRecomputeValue(t),eu(t)}}function iu(t){if(t.liveConsumerNode===void 0)return;let n=Rs;Rs=!0;try{for(let e of t.liveConsumerNode)e.dirty||LD(e)}finally{Rs=n}}function su(){return ve?.consumerAllowSignalWrites!==!1}function LD(t){t.dirty=!0,iu(t),t.consumerMarkedDirty?.(t)}function eu(t){t.dirty=!1,t.lastCleanEpoch=nu}function ks(t){return t&&(t.nextProducerIndex=0),j(t)}function au(t,n){if(j(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(qo(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Ps(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function lu(t){Fs(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],r=t.producerLastReadVersion[n];if(r!==e.version||(ou(e),r!==e.version))return!0}return!1}function cu(t){if(Fs(t),qo(t))for(let n=0;n<t.producerNode.length;n++)Ps(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function gp(t,n,e){if(mp(t),t.liveConsumerNode.length===0&&vp(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=gp(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function Ps(t,n){if(mp(t),t.liveConsumerNode.length===1&&vp(t))for(let r=0;r<t.producerNode.length;r++)Ps(t.producerNode[r],t.producerIndexOfThis[r]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[n],o=t.liveConsumerNode[n];Fs(o),o.producerIndexOfThis[r]=n}}function qo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Fs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function mp(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function vp(t){return t.producerNode!==void 0}function uu(t,n){let e=Object.create(jD);e.computation=t,n!==void 0&&(e.equal=n);let r=()=>{if(ou(e),Wo(e),e.value===Os)throw e.error;return e.value};return r[Qe]=e,r}var Jc=Symbol("UNSET"),Xc=Symbol("COMPUTING"),Os=Symbol("ERRORED"),jD=L(w({},Go),{value:Jc,dirty:!0,error:null,equal:tu,kind:"computed",producerMustRecompute(t){return t.value===Jc||t.value===Xc},producerRecomputeValue(t){if(t.value===Xc)throw new Error("Detected cycle in computations.");let n=t.value;t.value=Xc;let e=ks(t),r,o=!1;try{r=t.computation(),j(null),o=n!==Jc&&n!==Os&&r!==Os&&t.equal(n,r)}catch(i){r=Os,t.error=i}finally{au(t,e)}if(o){t.value=n;return}t.value=r,t.version++}});function VD(){throw new Error}var yp=VD;function _p(t){yp(t)}function du(t){yp=t}var $D=null;function fu(t,n){let e=Object.create(Ls);e.value=t,n!==void 0&&(e.equal=n);let r=()=>(Wo(e),e.value);return r[Qe]=e,r}function Zo(t,n){su()||_p(t),t.equal(t.value,n)||(t.value=n,BD(t))}function hu(t,n){su()||_p(t),Zo(t,n(t.value))}var Ls=L(w({},Go),{equal:tu,value:void 0,kind:"signal"});function BD(t){t.version++,pp(),iu(t),$D?.()}function pu(t){let n=j(null);try{return t()}finally{j(n)}}var gu;function Ko(){return gu}function Jt(t){let n=gu;return gu=t,n}var js=Symbol("NotFound");function R(t){return typeof t=="function"}function xr(t){let e=t(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Vs=xr(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Yo(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var le=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let i of e)i.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(R(r))try{r()}catch(i){n=i instanceof Vs?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{wp(i)}catch(s){n=n??[],s instanceof Vs?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Vs(n)}}add(n){var e;if(n&&n!==this)if(this.closed)wp(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Yo(e,n)}remove(n){let{_finalizers:e}=this;e&&Yo(e,n),n instanceof t&&n._removeParent(this)}};le.EMPTY=(()=>{let t=new le;return t.closed=!0,t})();var mu=le.EMPTY;function $s(t){return t instanceof le||t&&"closed"in t&&R(t.remove)&&R(t.add)&&R(t.unsubscribe)}function wp(t){R(t)?t():t.unsubscribe()}var pt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ar={setTimeout(t,n,...e){let{delegate:r}=Ar;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=Ar;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Bs(t){Ar.setTimeout(()=>{let{onUnhandledError:n}=pt;if(n)n(t);else throw t})}function Qo(){}var Dp=vu("C",void 0,void 0);function bp(t){return vu("E",void 0,t)}function Cp(t){return vu("N",t,void 0)}function vu(t,n,e){return{kind:t,value:n,error:e}}var zn=null;function Nr(t){if(pt.useDeprecatedSynchronousErrorHandling){let n=!zn;if(n&&(zn={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:r}=zn;if(zn=null,e)throw r}}else t()}function Ep(t){pt.useDeprecatedSynchronousErrorHandling&&zn&&(zn.errorThrown=!0,zn.error=t)}var qn=class extends le{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,$s(n)&&n.add(this)):this.destination=WD}static create(n,e,r){return new Rr(n,e,r)}next(n){this.isStopped?_u(Cp(n),this):this._next(n)}error(n){this.isStopped?_u(bp(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?_u(Dp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},qD=Function.prototype.bind;function yu(t,n){return qD.call(t,n)}var wu=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){Us(r)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){Us(r)}else Us(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Us(e)}}},Rr=class extends qn{constructor(n,e,r){super();let o;if(R(n)||!n)o={next:n??void 0,error:e??void 0,complete:r??void 0};else{let i;this&&pt.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&yu(n.next,i),error:n.error&&yu(n.error,i),complete:n.complete&&yu(n.complete,i)}):o=n}this.destination=new wu(o)}};function Us(t){pt.useDeprecatedSynchronousErrorHandling?Ep(t):Bs(t)}function GD(t){throw t}function _u(t,n){let{onStoppedNotification:e}=pt;e&&Ar.setTimeout(()=>e(t,n))}var WD={closed:!0,next:Qo,error:GD,complete:Qo};var Or=typeof Symbol=="function"&&Symbol.observable||"@@observable";function He(t){return t}function Du(...t){return bu(t)}function bu(t){return t.length===0?He:t.length===1?t[0]:function(e){return t.reduce((r,o)=>o(r),e)}}var Y=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,o){let i=KD(e)?e:new Rr(e,r,o);return Nr(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=Ip(r),new r((o,i)=>{let s=new Rr({next:a=>{try{e(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[Or](){return this}pipe(...e){return bu(e)(this)}toPromise(e){return e=Ip(e),new e((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=n=>new t(n),t})();function Ip(t){var n;return(n=t??pt.Promise)!==null&&n!==void 0?n:Promise}function ZD(t){return t&&R(t.next)&&R(t.error)&&R(t.complete)}function KD(t){return t&&t instanceof qn||ZD(t)&&$s(t)}function Cu(t){return R(t?.lift)}function G(t){return n=>{if(Cu(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function H(t,n,e,r,o){return new Eu(t,n,e,r,o)}var Eu=class extends qn{constructor(n,e,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function kr(){return G((t,n)=>{let e=null;t._refCount++;let r=H(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let o=t._connection,i=e;e=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}var Pr=class extends Y{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Cu(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new le;let e=this.getSubject();n.add(this.source.subscribe(H(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=le.EMPTY)}return n}refCount(){return kr()(this)}};var Sp=xr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=(()=>{class t extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Hs(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Sp}next(e){Nr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){Nr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){Nr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:o,observers:i}=this;return r||o?mu:(this.currentObservers=null,i.push(e),new le(()=>{this.currentObservers=null,Yo(i,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:o,isStopped:i}=this;r?e.error(o):i&&e.complete()}asObservable(){let e=new Y;return e.source=this,e}}return t.create=(n,e)=>new Hs(n,e),t})(),Hs=class extends ce{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,n)}error(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&r!==void 0?r:mu}};var Ee=class extends ce{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var Oe=new Y(t=>t.complete());function Mp(t){return t&&R(t.schedule)}function Tp(t){return t[t.length-1]}function zs(t){return R(Tp(t))?t.pop():void 0}function wn(t){return Mp(Tp(t))?t.pop():void 0}function Ap(t,n,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})}function xp(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gn(t){return this instanceof Gn?(this.v=t,this):new Gn(t)}function Np(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(t,n||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(o[f]=function(_){return new Promise(function(C,x){i.push([f,_,C,x])>1||l(f,_)})},g&&(o[f]=g(o[f])))}function l(f,g){try{c(r[f](g))}catch(_){p(i[0][3],_)}}function c(f){f.value instanceof Gn?Promise.resolve(f.value.v).then(u,d):p(i[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function p(f,g){f(g),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Rp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof xp=="function"?xp(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=t[i]&&function(s){return new Promise(function(a,l){s=t[i](s),o(a,l,s.done,s.value)})}}function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}}var qs=t=>t&&typeof t.length=="number"&&typeof t!="function";function Gs(t){return R(t?.then)}function Ws(t){return R(t[Or])}function Zs(t){return Symbol.asyncIterator&&R(t?.[Symbol.asyncIterator])}function Ks(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function YD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ys=YD();function Qs(t){return R(t?.[Ys])}function Js(t){return Np(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:r,done:o}=yield Gn(e.read());if(o)return yield Gn(void 0);yield yield Gn(r)}}finally{e.releaseLock()}})}function Xs(t){return R(t?.getReader)}function ue(t){if(t instanceof Y)return t;if(t!=null){if(Ws(t))return QD(t);if(qs(t))return JD(t);if(Gs(t))return XD(t);if(Zs(t))return Op(t);if(Qs(t))return eb(t);if(Xs(t))return tb(t)}throw Ks(t)}function QD(t){return new Y(n=>{let e=t[Or]();if(R(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function JD(t){return new Y(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function XD(t){return new Y(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Bs)})}function eb(t){return new Y(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function Op(t){return new Y(n=>{nb(t,n).catch(e=>n.error(e))})}function tb(t){return Op(Js(t))}function nb(t,n){var e,r,o,i;return Ap(this,void 0,void 0,function*(){try{for(e=Rp(t);r=yield e.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(o)throw o.error}}n.complete()})}function ke(t,n,e,r=0,o=!1){let i=n.schedule(function(){e(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function ea(t,n=0){return G((e,r)=>{e.subscribe(H(r,o=>ke(r,t,()=>r.next(o),n),()=>ke(r,t,()=>r.complete(),n),o=>ke(r,t,()=>r.error(o),n)))})}function ta(t,n=0){return G((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function kp(t,n){return ue(t).pipe(ta(n),ea(n))}function Pp(t,n){return ue(t).pipe(ta(n),ea(n))}function Fp(t,n){return new Y(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}function Lp(t,n){return new Y(e=>{let r;return ke(e,n,()=>{r=t[Ys](),ke(e,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){e.error(s);return}i?e.complete():e.next(o)},0,!0)}),()=>R(r?.return)&&r.return()})}function na(t,n){if(!t)throw new Error("Iterable cannot be null");return new Y(e=>{ke(e,n,()=>{let r=t[Symbol.asyncIterator]();ke(e,n,()=>{r.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function jp(t,n){return na(Js(t),n)}function Vp(t,n){if(t!=null){if(Ws(t))return kp(t,n);if(qs(t))return Fp(t,n);if(Gs(t))return Pp(t,n);if(Zs(t))return na(t,n);if(Qs(t))return Lp(t,n);if(Xs(t))return jp(t,n)}throw Ks(t)}function ee(t,n){return n?Vp(t,n):ue(t)}function N(...t){let n=wn(t);return ee(t,n)}function Fr(t,n){let e=R(t)?t:()=>t,r=o=>o.error(e());return new Y(n?o=>n.schedule(r,0,o):r)}function Iu(t){return!!t&&(t instanceof Y||R(t.lift)&&R(t.subscribe))}var Xt=xr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function q(t,n){return G((e,r)=>{let o=0;e.subscribe(H(r,i=>{r.next(t.call(n,i,o++))}))})}var{isArray:rb}=Array;function ob(t,n){return rb(n)?t(...n):t(n)}function ra(t){return q(n=>ob(t,n))}var{isArray:ib}=Array,{getPrototypeOf:sb,prototype:ab,keys:lb}=Object;function oa(t){if(t.length===1){let n=t[0];if(ib(n))return{args:n,keys:null};if(cb(n)){let e=lb(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}function cb(t){return t&&typeof t=="object"&&sb(t)===ab}function ia(t,n){return t.reduce((e,r,o)=>(e[r]=n[o],e),{})}function Jo(...t){let n=wn(t),e=zs(t),{args:r,keys:o}=oa(t);if(r.length===0)return ee([],n);let i=new Y(ub(r,n,o?s=>ia(o,s):He));return e?i.pipe(ra(e)):i}function ub(t,n,e=He){return r=>{$p(n,()=>{let{length:o}=t,i=new Array(o),s=o,a=o;for(let l=0;l<o;l++)$p(n,()=>{let c=ee(t[l],n),u=!1;c.subscribe(H(r,d=>{i[l]=d,u||(u=!0,a--),a||r.next(e(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function $p(t,n,e){t?ke(e,t,n):n()}function Bp(t,n,e,r,o,i,s,a){let l=[],c=0,u=0,d=!1,p=()=>{d&&!l.length&&!c&&n.complete()},f=_=>c<r?g(_):l.push(_),g=_=>{i&&n.next(_),c++;let C=!1;ue(e(_,u++)).subscribe(H(n,x=>{o?.(x),i?f(x):n.next(x)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<r;){let x=l.shift();s?ke(n,s,()=>g(x)):g(x)}p()}catch(x){n.error(x)}}))};return t.subscribe(H(n,f,()=>{d=!0,p()})),()=>{a?.()}}function se(t,n,e=1/0){return R(n)?se((r,o)=>q((i,s)=>n(r,i,o,s))(ue(t(r,o))),e):(typeof n=="number"&&(e=n),G((r,o)=>Bp(r,o,t,e)))}function Lr(t=1/0){return se(He,t)}function Up(){return Lr(1)}function jr(...t){return Up()(ee(t,wn(t)))}function sa(t){return new Y(n=>{ue(t()).subscribe(n)})}function Su(...t){let n=zs(t),{args:e,keys:r}=oa(t),o=new Y(i=>{let{length:s}=e;if(!s){i.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;ue(e[u]).subscribe(H(i,p=>{d||(d=!0,c--),a[u]=p},()=>l--,void 0,()=>{(!l||!d)&&(c||i.next(r?ia(r,a):a),i.complete())}))}});return n?o.pipe(ra(n)):o}function ze(t,n){return G((e,r)=>{let o=0;e.subscribe(H(r,i=>t.call(n,i,o++)&&r.next(i)))})}function en(t){return G((n,e)=>{let r=null,o=!1,i;r=n.subscribe(H(e,void 0,void 0,s=>{i=ue(t(s,en(t)(n))),r?(r.unsubscribe(),r=null,i.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(e))})}function Hp(t,n,e,r,o){return(i,s)=>{let a=e,l=n,c=0;i.subscribe(H(s,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}function Dn(t,n){return R(n)?se(t,n,1):se(t,1)}function bn(t){return G((n,e)=>{let r=!1;n.subscribe(H(e,o=>{r=!0,e.next(o)},()=>{r||e.next(t),e.complete()}))})}function tn(t){return t<=0?()=>Oe:G((n,e)=>{let r=0;n.subscribe(H(e,o=>{++r<=t&&(e.next(o),t<=r&&e.complete())}))})}function aa(t=db){return G((n,e)=>{let r=!1;n.subscribe(H(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(t())))})}function db(){return new Xt}function Xo(t){return G((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function nn(t,n){let e=arguments.length>=2;return r=>r.pipe(t?ze((o,i)=>t(o,i,r)):He,tn(1),e?bn(n):aa(()=>new Xt))}function Vr(t){return t<=0?()=>Oe:G((n,e)=>{let r=[];n.subscribe(H(e,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(let o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function Mu(t,n){let e=arguments.length>=2;return r=>r.pipe(t?ze((o,i)=>t(o,i,r)):He,Vr(1),e?bn(n):aa(()=>new Xt))}function Tu(t,n){return G(Hp(t,n,arguments.length>=2,!0))}function xu(...t){let n=wn(t);return G((e,r)=>{(n?jr(t,e,n):jr(t,e)).subscribe(r)})}function Je(t,n){return G((e,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();e.subscribe(H(r,l=>{o?.unsubscribe();let c=0,u=i++;ue(t(l,u)).subscribe(o=H(r,d=>r.next(n?n(l,d,u,c++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Au(t){return G((n,e)=>{ue(t).subscribe(H(e,()=>e.complete(),Qo)),!e.closed&&n.subscribe(e)})}function Ie(t,n,e){let r=R(t)||n||e?{next:t,error:n,complete:e}:t;return r?G((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(H(i,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),i.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),i.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),i.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):He}var Lg="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",E=class extends Error{code;constructor(n,e){super(Gd(n,e)),this.code=n}};function fb(t){return`NG0${Math.abs(t)}`}function Gd(t,n){return`${fb(t)}${n?": "+n:""}`}var jg=Symbol("InputSignalNode#UNSET"),hb=L(w({},Ls),{transformFn:void 0,applyValueToInputSignal(t,n){Zo(t,n)}});function Vg(t,n){let e=Object.create(hb);e.value=t,e.transformFn=n?.transform;function r(){if(Wo(e),e.value===jg){let o=null;throw new E(-950,o)}return e.value}return r[Qe]=e,r}function hi(t){return{toString:t}.toString()}var la="__parameters__";function pb(t){return function(...e){if(t){let r=t(...e);for(let o in r)this[o]=r[o]}}}function $g(t,n,e){return hi(()=>{let r=pb(n);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(la)?l[la]:Object.defineProperty(l,la,{value:[]})[la];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return o.prototype.ngMetadataName=t,o.annotationCls=o,o})}var Gr=globalThis;function J(t){for(let n in t)if(t[n]===J)return n;throw Error("Could not find renamed property on target object.")}function gb(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Fe(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Fe).join(", ")}]`;if(t==null)return""+t;let n=t.overriddenName||t.name;if(n)return`${n}`;let e=t.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r>=0?e.slice(0,r):e}function zp(t,n){return t?n?`${t} ${n}`:t:n||""}var mb=J({__forward_ref__:J});function yt(t){return t.__forward_ref__=yt,t.toString=function(){return Fe(this())},t}function xe(t){return Bg(t)?t():t}function Bg(t){return typeof t=="function"&&t.hasOwnProperty(mb)&&t.__forward_ref__===yt}function I(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Pt(t){return{providers:t.providers||[],imports:t.imports||[]}}function za(t){return qp(t,Hg)||qp(t,zg)}function Ug(t){return za(t)!==null}function qp(t,n){return t.hasOwnProperty(n)?t[n]:null}function vb(t){let n=t&&(t[Hg]||t[zg]);return n||null}function Gp(t){return t&&(t.hasOwnProperty(Wp)||t.hasOwnProperty(yb))?t[Wp]:null}var Hg=J({\u0275prov:J}),Wp=J({\u0275inj:J}),zg=J({ngInjectableDef:J}),yb=J({ngInjectorDef:J}),S=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,e){this._desc=n,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=I({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function qg(t){return t&&!!t.\u0275providers}var _b=J({\u0275cmp:J}),wb=J({\u0275dir:J}),Db=J({\u0275pipe:J}),bb=J({\u0275mod:J}),ya=J({\u0275fac:J}),ri=J({__NG_ELEMENT_ID__:J}),Zp=J({__NG_ENV_ID__:J});function Kn(t){return typeof t=="string"?t:t==null?"":String(t)}function Cb(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Kn(t)}function Gg(t,n){throw new E(-200,t)}function Wd(t,n){throw new E(-201,!1)}var V=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(V||{}),qu;function Wg(){return qu}function Pe(t){let n=qu;return qu=t,n}function Zg(t,n,e){let r=za(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&V.Optional)return null;if(n!==void 0)return n;Wd(t,"Injector")}var Eb={},Wn=Eb,Gu="__NG_DI_FLAG__",_a=class{injector;constructor(n){this.injector=n}retrieve(n,e){let r=e;return this.injector.get(n,r.optional?js:Wn,r)}},wa="ngTempTokenPath",Ib="ngTokenPath",Sb=/\n/gm,Mb="\u0275",Kp="__source";function Tb(t,n=V.Default){if(Ko()===void 0)throw new E(-203,!1);if(Ko()===null)return Zg(t,void 0,n);{let e=Ko(),r;return e instanceof _a?r=e.injector:r=e,r.get(t,n&V.Optional?null:void 0,n)}}function A(t,n=V.Default){return(Wg()||Tb)(xe(t),n)}function y(t,n=V.Default){return A(t,qa(n))}function qa(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Wu(t){let n=[];for(let e=0;e<t.length;e++){let r=xe(t[e]);if(Array.isArray(r)){if(r.length===0)throw new E(900,!1);let o,i=V.Default;for(let s=0;s<r.length;s++){let a=r[s],l=xb(a);typeof l=="number"?l===-1?o=a.token:i|=l:o=a}n.push(A(o,i))}else n.push(A(r))}return n}function Kg(t,n){return t[Gu]=n,t.prototype[Gu]=n,t}function xb(t){return t[Gu]}function Ab(t,n,e,r){let o=t[wa];throw n[Kp]&&o.unshift(n[Kp]),t.message=Nb(`
`+t.message,o,e,r),t[Ib]=o,t[wa]=null,t}function Nb(t,n,e,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Mb?t.slice(2):t;let o=Fe(n);if(Array.isArray(n))o=n.map(Fe).join(" -> ");else if(typeof n=="object"){let i=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):Fe(a)))}o=`{${i.join(", ")}}`}return`${e}${r?"("+r+")":""}[${o}]: ${t.replace(Sb,`
  `)}`}var Yg=Kg($g("Optional"),8);var Rb=Kg($g("SkipSelf"),4);function Yn(t,n){let e=t.hasOwnProperty(ya);return e?t[ya]:null}function Zd(t,n){t.forEach(e=>Array.isArray(e)?Zd(e,n):n(e))}function Qg(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Da(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Ob(t,n,e,r){let o=t.length;if(o==n)t.push(e,r);else if(o===1)t.push(r,t[0]),t[0]=e;else{for(o--,t.push(t[o-1],t[o]);o>n;){let i=o-2;t[o]=t[i],o--}t[n]=e,t[n+1]=r}}function kb(t,n,e){let r=pi(t,n);return r>=0?t[r|1]=e:(r=~r,Ob(t,r,n,e)),r}function Nu(t,n){let e=pi(t,n);if(e>=0)return t[e|1]}function pi(t,n){return Pb(t,n,1)}function Pb(t,n,e){let r=0,o=t.length>>e;for(;o!==r;){let i=r+(o-r>>1),s=t[i<<e];if(n===s)return i<<e;s>n?o=i:r=i+1}return~(o<<e)}var Qn={},Xe=[],Wr=new S(""),Jg=new S("",-1),Xg=new S(""),ba=class{get(n,e=Wn){if(e===Wn){let r=new Error(`NullInjectorError: No provider for ${Fe(n)}!`);throw r.name="NullInjectorError",r}return e}};function em(t,n){let e=t[bb]||null;if(!e&&n===!0)throw new Error(`Type ${Fe(t)} does not have '\u0275mod' property.`);return e}function Jn(t){return t[_b]||null}function Fb(t){return t[wb]||null}function Lb(t){return t[Db]||null}function gi(t){return{\u0275providers:t}}function jb(...t){return{\u0275providers:tm(!0,t),\u0275fromNgModule:!0}}function tm(t,...n){let e=[],r=new Set,o,i=s=>{e.push(s)};return Zd(n,s=>{let a=s;Zu(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&nm(o,i),e}function nm(t,n){for(let e=0;e<t.length;e++){let{ngModule:r,providers:o}=t[e];Kd(o,i=>{n(i,r)})}}function Zu(t,n,e,r){if(t=xe(t),!t)return!1;let o=null,i=Gp(t),s=!i&&Jn(t);if(!i&&!s){let l=t.ngModule;if(i=Gp(l),i)o=l;else return!1}else{if(s&&!s.standalone)return!1;o=t}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Zu(c,n,e,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let c;try{Zd(i.imports,u=>{Zu(u,n,e,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&nm(c,n)}if(!a){let c=Yn(o)||(()=>new o);n({provide:o,useFactory:c,deps:Xe},o),n({provide:Xg,useValue:o,multi:!0},o),n({provide:Wr,useValue:()=>A(o),multi:!0},o)}let l=i.providers;if(l!=null&&!a){let c=t;Kd(l,u=>{n(u,c)})}}else return!1;return o!==t&&t.providers!==void 0}function Kd(t,n){for(let e of t)qg(e)&&(e=e.\u0275providers),Array.isArray(e)?Kd(e,n):n(e)}var Vb=J({provide:String,useValue:J});function rm(t){return t!==null&&typeof t=="object"&&Vb in t}function $b(t){return!!(t&&t.useExisting)}function Bb(t){return!!(t&&t.useFactory)}function Zr(t){return typeof t=="function"}function Ub(t){return!!t.useClass}var Ga=new S(""),ha={},Yp={},Ru;function Yd(){return Ru===void 0&&(Ru=new ba),Ru}var Le=class{},oi=class extends Le{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,e,r,o){super(),this.parent=e,this.source=r,this.scopes=o,Yu(n,s=>this.processProvider(s)),this.records.set(Jg,$r(void 0,this)),o.has("environment")&&this.records.set(Le,$r(void 0,this));let i=this.records.get(Ga);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Xg,Xe,V.Self))}retrieve(n,e){let r=e;return this.get(n,r.optional?js:Wn,r)}destroy(){ti(this),this._destroyed=!0;let n=j(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),j(n)}}onDestroy(n){return ti(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){ti(this);let e=Jt(this),r=Pe(void 0),o;try{return n()}finally{Jt(e),Pe(r)}}get(n,e=Wn,r=V.Default){if(ti(this),n.hasOwnProperty(Zp))return n[Zp](this);r=qa(r);let o,i=Jt(this),s=Pe(void 0);try{if(!(r&V.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=Wb(n)&&za(n);c&&this.injectableDefInScope(c)?l=$r(Ku(n),ha):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=r&V.Self?Yd():this.parent;return e=r&V.Optional&&e===Wn?null:e,a.get(n,e)}catch(a){if(a.name==="NullInjectorError"){if((a[wa]=a[wa]||[]).unshift(Fe(n)),i)throw a;return Ab(a,n,"R3InjectorError",this.source)}else throw a}finally{Pe(s),Jt(i)}}resolveInjectorInitializers(){let n=j(null),e=Jt(this),r=Pe(void 0),o;try{let i=this.get(Wr,Xe,V.Self);for(let s of i)s()}finally{Jt(e),Pe(r),j(n)}}toString(){let n=[],e=this.records;for(let r of e.keys())n.push(Fe(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=xe(n);let e=Zr(n)?n:xe(n&&n.provide),r=zb(n);if(!Zr(n)&&n.multi===!0){let o=this.records.get(e);o||(o=$r(void 0,ha,!0),o.factory=()=>Wu(o.multi),this.records.set(e,o)),e=n,o.multi.push(n)}this.records.set(e,r)}hydrate(n,e){let r=j(null);try{return e.value===Yp?Gg(Fe(n)):e.value===ha&&(e.value=Yp,e.value=e.factory()),typeof e.value=="object"&&e.value&&Gb(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{j(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=xe(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Ku(t){let n=za(t),e=n!==null?n.factory:Yn(t);if(e!==null)return e;if(t instanceof S)throw new E(204,!1);if(t instanceof Function)return Hb(t);throw new E(204,!1)}function Hb(t){if(t.length>0)throw new E(204,!1);let e=vb(t);return e!==null?()=>e.factory(t):()=>new t}function zb(t){if(rm(t))return $r(void 0,t.useValue);{let n=om(t);return $r(n,ha)}}function om(t,n,e){let r;if(Zr(t)){let o=xe(t);return Yn(o)||Ku(o)}else if(rm(t))r=()=>xe(t.useValue);else if(Bb(t))r=()=>t.useFactory(...Wu(t.deps||[]));else if($b(t))r=()=>A(xe(t.useExisting));else{let o=xe(t&&(t.useClass||t.provide));if(qb(t))r=()=>new o(...Wu(t.deps));else return Yn(o)||Ku(o)}return r}function ti(t){if(t.destroyed)throw new E(205,!1)}function $r(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function qb(t){return!!t.deps}function Gb(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Wb(t){return typeof t=="function"||typeof t=="object"&&t instanceof S}function Yu(t,n){for(let e of t)Array.isArray(e)?Yu(e,n):e&&qg(e)?Yu(e.\u0275providers,n):n(e)}function tt(t,n){let e;t instanceof oi?(ti(t),e=t):e=new _a(t);let r,o=Jt(e),i=Pe(void 0);try{return n()}finally{Jt(o),Pe(i)}}function im(){return Wg()!==void 0||Ko()!=null}function Zb(t){if(!im())throw new E(-203,!1)}function Kb(t){return typeof t=="function"}var an=0,$=1,O=2,Ne=3,mt=4,_t=5,ii=6,Ca=7,ye=8,Xn=9,rn=10,fe=11,si=12,Qp=13,ro=14,vt=15,Kr=16,Br=17,Yr=18,Wa=19,sm=20,Cn=21,Ou=22,Ea=23,et=24,zr=25,Re=26,am=1;var er=7,Ia=8,Sa=9,Ae=10;function En(t){return Array.isArray(t)&&typeof t[am]=="object"}function ln(t){return Array.isArray(t)&&t[am]===!0}function lm(t){return(t.flags&4)!==0}function oo(t){return t.componentOffset>-1}function Qd(t){return(t.flags&1)===1}function xt(t){return!!t.template}function Ma(t){return(t[O]&512)!==0}function io(t){return(t[O]&256)===256}var Qu=class{previousValue;currentValue;firstChange;constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function cm(t,n,e,r){n!==null?n.applyValueToInputSignal(n,r):t[e]=r}var Ft=(()=>{let t=()=>um;return t.ngInherit=!0,t})();function um(t){return t.type.prototype.ngOnChanges&&(t.setInput=Qb),Yb}function Yb(){let t=fm(this),n=t?.current;if(n){let e=t.previous;if(e===Qn)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function Qb(t,n,e,r,o){let i=this.declaredInputs[r],s=fm(t)||Jb(t,{previous:Qn,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[i];a[i]=new Qu(c&&c.currentValue,e,l===Qn),cm(t,n,o,e)}var dm="__ngSimpleChanges__";function fm(t){return t[dm]||null}function Jb(t,n){return t[dm]=n}var Jp=null;var Q=function(t,n=null,e){Jp?.(t,n,e)},Xb="svg",e0="math";function At(t){for(;Array.isArray(t);)t=t[an];return t}function hm(t,n){return At(n[t])}function Lt(t,n){return At(n[t.index])}function Jd(t,n){return t.data[n]}function pm(t,n){return t[n]}function Nt(t,n){let e=n[t];return En(e)?e:e[an]}function Xd(t){return(t[O]&128)===128}function t0(t){return ln(t[Ne])}function Qr(t,n){return n==null?null:t[n]}function gm(t){t[Br]=0}function mm(t){t[O]&1024||(t[O]|=1024,Xd(t)&&mi(t))}function n0(t,n){for(;t>0;)n=n[ro],t--;return n}function Za(t){return!!(t[O]&9216||t[et]?.dirty)}function Ju(t){t[rn].changeDetectionScheduler?.notify(8),t[O]&64&&(t[O]|=1024),Za(t)&&mi(t)}function mi(t){t[rn].changeDetectionScheduler?.notify(0);let n=tr(t);for(;n!==null&&!(n[O]&8192||(n[O]|=8192,!Xd(n)));)n=tr(n)}function vm(t,n){if(io(t))throw new E(911,!1);t[Cn]===null&&(t[Cn]=[]),t[Cn].push(n)}function r0(t,n){if(t[Cn]===null)return;let e=t[Cn].indexOf(n);e!==-1&&t[Cn].splice(e,1)}function tr(t){let n=t[Ne];return ln(n)?n[Ne]:n}function ym(t){return t[Ca]??=[]}function _m(t){return t.cleanup??=[]}var B={lFrame:Tm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Xu=!1;function o0(){return B.lFrame.elementDepthCount}function i0(){B.lFrame.elementDepthCount++}function s0(){B.lFrame.elementDepthCount--}function wm(){return B.bindingsEnabled}function a0(){return B.skipHydrationRootTNode!==null}function l0(t){return B.skipHydrationRootTNode===t}function c0(){B.skipHydrationRootTNode=null}function z(){return B.lFrame.lView}function Te(){return B.lFrame.tView}function he(t){return B.lFrame.contextLView=t,t[ye]}function pe(t){return B.lFrame.contextLView=null,t}function je(){let t=Dm();for(;t!==null&&t.type===64;)t=t.parent;return t}function Dm(){return B.lFrame.currentTNode}function u0(){let t=B.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function vi(t,n){let e=B.lFrame;e.currentTNode=t,e.isParent=n}function bm(){return B.lFrame.isParent}function d0(){B.lFrame.isParent=!1}function f0(){return B.lFrame.contextLView}function Cm(){return Xu}function Xp(t){let n=Xu;return Xu=t,n}function Ka(){let t=B.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function h0(){return B.lFrame.bindingIndex}function p0(t){return B.lFrame.bindingIndex=t}function so(){return B.lFrame.bindingIndex++}function Em(t){let n=B.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function g0(){return B.lFrame.inI18n}function m0(t,n){let e=B.lFrame;e.bindingIndex=e.bindingRootIndex=t,ed(n)}function v0(){return B.lFrame.currentDirectiveIndex}function ed(t){B.lFrame.currentDirectiveIndex=t}function y0(t){let n=B.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function Im(t){B.lFrame.currentQueryIndex=t}function _0(t){let n=t[$];return n.type===2?n.declTNode:n.type===1?t[_t]:null}function Sm(t,n,e){if(e&V.SkipSelf){let o=n,i=t;for(;o=o.parent,o===null&&!(e&V.Host);)if(o=_0(i),o===null||(i=i[ro],o.type&10))break;if(o===null)return!1;n=o,t=i}let r=B.lFrame=Mm();return r.currentTNode=n,r.lView=t,!0}function ef(t){let n=Mm(),e=t[$];B.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Mm(){let t=B.lFrame,n=t===null?null:t.child;return n===null?Tm(t):n}function Tm(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function xm(){let t=B.lFrame;return B.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Am=xm;function tf(){let t=xm();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function w0(t){return(B.lFrame.contextLView=n0(t,B.lFrame.contextLView))[ye]}function Sn(){return B.lFrame.selectedIndex}function nr(t){B.lFrame.selectedIndex=t}function Ya(){let t=B.lFrame;return Jd(t.tView,t.selectedIndex)}function D0(){return B.lFrame.currentNamespace}var Nm=!0;function nf(){return Nm}function rf(t){Nm=t}function b0(t,n,e){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){let s=um(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}o&&(e.preOrderHooks??=[]).push(0-t,o),i&&((e.preOrderHooks??=[]).push(t,i),(e.preOrderCheckHooks??=[]).push(t,i))}function Rm(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){let i=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=i;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),u!=null&&(t.destroyHooks??=[]).push(e,u)}}function pa(t,n,e){Om(t,n,3,e)}function ga(t,n,e,r){(t[O]&3)===e&&Om(t,n,e,r)}function ku(t,n){let e=t[O];(e&3)===n&&(e&=16383,e+=1,t[O]=e)}function Om(t,n,e,r){let o=r!==void 0?t[Br]&65535:0,i=r??-1,s=n.length-1,a=0;for(let l=o;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(t[Br]+=65536),(a<i||i==-1)&&(C0(t,e,n,l),t[Br]=(t[Br]&4294901760)+l+2),l++}function eg(t,n){Q(4,t,n);let e=j(null);try{n.call(t)}finally{j(e),Q(5,t,n)}}function C0(t,n,e,r){let o=e[r]<0,i=e[r+1],s=o?-e[r]:e[r],a=t[s];o?t[O]>>14<t[Br]>>16&&(t[O]&3)===n&&(t[O]+=16384,eg(a,i)):eg(a,i)}var qr=-1,rr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,e,r){this.factory=n,this.canSeeViewProviders=e,this.injectImpl=r}};function E0(t){return(t.flags&8)!==0}function I0(t){return(t.flags&16)!==0}function S0(t,n,e){let r=0;for(;r<e.length;){let o=e[r];if(typeof o=="number"){if(o!==0)break;r++;let i=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,i)}else{let i=o,s=e[++r];M0(i)?t.setProperty(n,i,s):t.setAttribute(n,i,s),r++}}return r}function km(t){return t===3||t===4||t===6}function M0(t){return t.charCodeAt(0)===64}function ai(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){let o=n[r];typeof o=="number"?e=o:e===0||(e===-1||e===2?tg(t,e,o,null,n[++r]):tg(t,e,o,null,null))}}return t}function tg(t,n,e,r,o){let i=0,s=t.length;if(n===-1)s=-1;else for(;i<t.length;){let a=t[i++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=i-1;break}}}for(;i<t.length;){let a=t[i];if(typeof a=="number")break;if(a===e){o!==null&&(t[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(t.splice(s,0,n),i=s+1),t.splice(i++,0,e),o!==null&&t.splice(i++,0,o)}function Pm(t){return t!==qr}function Ta(t){return t&32767}function T0(t){return t>>16}function xa(t,n){let e=T0(t),r=n;for(;e>0;)r=r[ro],e--;return r}var td=!0;function Aa(t){let n=td;return td=t,n}var x0=256,Fm=x0-1,Lm=5,A0=0,Tt={};function N0(t,n,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(ri)&&(r=e[ri]),r==null&&(r=e[ri]=A0++);let o=r&Fm,i=1<<o;n.data[t+(o>>Lm)]|=i}function Na(t,n){let e=jm(t,n);if(e!==-1)return e;let r=n[$];r.firstCreatePass&&(t.injectorIndex=n.length,Pu(r.data,t),Pu(n,null),Pu(r.blueprint,null));let o=of(t,n),i=t.injectorIndex;if(Pm(o)){let s=Ta(o),a=xa(o,n),l=a[$].data;for(let c=0;c<8;c++)n[i+c]=a[s+c]|l[s+c]}return n[i+8]=o,i}function Pu(t,n){t.push(0,0,0,0,0,0,0,0,n)}function jm(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function of(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,r=null,o=n;for(;o!==null;){if(r=Hm(o),r===null)return qr;if(e++,o=o[ro],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return qr}function nd(t,n,e){N0(t,n,e)}function R0(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let r=e.length,o=0;for(;o<r;){let i=e[o];if(km(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof e[o]=="string";)o++;else{if(i===n)return e[o+1];o=o+2}}}return null}function Vm(t,n,e){if(e&V.Optional||t!==void 0)return t;Wd(n,"NodeInjector")}function $m(t,n,e,r){if(e&V.Optional&&r===void 0&&(r=null),(e&(V.Self|V.Host))===0){let o=t[Xn],i=Pe(void 0);try{return o?o.get(n,r,e&V.Optional):Zg(n,r,e&V.Optional)}finally{Pe(i)}}return Vm(r,n,e)}function Bm(t,n,e,r=V.Default,o){if(t!==null){if(n[O]&2048&&!(r&V.Self)){let s=L0(t,n,e,r,Tt);if(s!==Tt)return s}let i=Um(t,n,e,r,Tt);if(i!==Tt)return i}return $m(n,e,r,o)}function Um(t,n,e,r,o){let i=P0(e);if(typeof i=="function"){if(!Sm(n,t,r))return r&V.Host?Vm(o,e,r):$m(n,e,r,o);try{let s;if(s=i(r),s==null&&!(r&V.Optional))Wd(e);else return s}finally{Am()}}else if(typeof i=="number"){let s=null,a=jm(t,n),l=qr,c=r&V.Host?n[vt][_t]:null;for((a===-1||r&V.SkipSelf)&&(l=a===-1?of(t,n):n[a+8],l===qr||!rg(r,!1)?a=-1:(s=n[$],a=Ta(l),n=xa(l,n)));a!==-1;){let u=n[$];if(ng(i,a,u.data)){let d=O0(a,n,e,s,r,c);if(d!==Tt)return d}l=n[a+8],l!==qr&&rg(r,n[$].data[a+8]===c)&&ng(i,a,n)?(s=u,a=Ta(l),n=xa(l,n)):a=-1}}return o}function O0(t,n,e,r,o,i){let s=n[$],a=s.data[t+8],l=r==null?oo(a)&&td:r!=s&&(a.type&3)!==0,c=o&V.Host&&i===a,u=k0(a,s,e,l,c);return u!==null?Ra(n,s,u,a):Tt}function k0(t,n,e,r,o){let i=t.providerIndexes,s=n.data,a=i&1048575,l=t.directiveStart,c=t.directiveEnd,u=i>>20,d=r?a:a+u,p=o?a+u:c;for(let f=d;f<p;f++){let g=s[f];if(f<l&&e===g||f>=l&&g.type===e)return f}if(o){let f=s[l];if(f&&xt(f)&&f.type===e)return l}return null}function Ra(t,n,e,r){let o=t[e],i=n.data;if(o instanceof rr){let s=o;s.resolving&&Gg(Cb(i[e]));let a=Aa(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Pe(s.injectImpl):null,u=Sm(t,r,V.Default);try{o=t[e]=s.factory(void 0,i,t,r),n.firstCreatePass&&e>=r.directiveStart&&b0(e,i[e],n)}finally{c!==null&&Pe(c),Aa(a),s.resolving=!1,Am()}}return o}function P0(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(ri)?t[ri]:void 0;return typeof n=="number"?n>=0?n&Fm:F0:n}function ng(t,n,e){let r=1<<t;return!!(e[n+(t>>Lm)]&r)}function rg(t,n){return!(t&V.Self)&&!(t&V.Host&&n)}var Zn=class{_tNode;_lView;constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return Bm(this._tNode,this._lView,n,qa(r),e)}};function F0(){return new Zn(je(),z())}function cn(t){return hi(()=>{let n=t.prototype.constructor,e=n[ya]||rd(n),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let i=o[ya]||rd(o);if(i&&i!==e)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function rd(t){return Bg(t)?()=>{let n=rd(xe(t));return n&&n()}:Yn(t)}function L0(t,n,e,r,o){let i=t,s=n;for(;i!==null&&s!==null&&s[O]&2048&&!Ma(s);){let a=Um(i,s,e,r|V.Self,Tt);if(a!==Tt)return a;let l=i.parent;if(!l){let c=s[sm];if(c){let u=c.get(e,Tt,r);if(u!==Tt)return u}l=Hm(s),s=s[ro]}i=l}return o}function Hm(t){let n=t[$],e=n.type;return e===2?n.declTNode:e===1?t[_t]:null}function sf(t){return R0(je(),t)}function og(t,n=null,e=null,r){let o=zm(t,n,e,r);return o.resolveInjectorInitializers(),o}function zm(t,n=null,e=null,r,o=new Set){let i=[e||Xe,jb(t)];return r=r||(typeof t=="object"?void 0:Fe(t)),new oi(i,n||Yd(),r||null,o)}var qe=class t{static THROW_IF_NOT_FOUND=Wn;static NULL=new ba;static create(n,e){if(Array.isArray(n))return og({name:""},e,n,"");{let r=n.name??"";return og({name:r},n.parent,n.providers,r)}}static \u0275prov=I({token:t,providedIn:"any",factory:()=>A(Jg)});static __NG_ELEMENT_ID__=-1};var j0=new S("");j0.__NG_ELEMENT_ID__=t=>{let n=je();if(n===null)throw new E(204,!1);if(n.type&2)return n.value;if(t&V.Optional)return null;throw new E(204,!1)};var qm=!1,yi=(()=>{class t{static __NG_ELEMENT_ID__=V0;static __NG_ENV_ID__=e=>e}return t})(),od=class extends yi{_lView;constructor(n){super(),this._lView=n}onDestroy(n){let e=this._lView;return io(e)?(n(),()=>{}):(vm(e,n),()=>r0(e,n))}};function V0(){return new od(z())}var Jr=class{},Qa=new S("",{providedIn:"root",factory:()=>!1});var Gm=new S(""),Wm=new S(""),ao=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ee(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=I({token:t,providedIn:"root",factory:()=>new t})}return t})();var id=class extends ce{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,im()&&(this.destroyRef=y(yi,{optional:!0})??void 0,this.pendingTasks=y(ao,{optional:!0})??void 0)}emit(n){let e=j(null);try{super.next(n)}finally{j(e)}}subscribe(n,e,r){let o=n,i=e||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return n instanceof le&&n.add(a),a}wrapInTimeout(n){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(e)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},de=id;function Oa(...t){}function Zm(t){let n,e;function r(){t=Oa;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),r()})),()=>r()}function ig(t){return queueMicrotask(()=>t()),()=>{t=Oa}}var af="isAngularZone",ka=af+"_ID",$0=0,oe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new de(!1);onMicrotaskEmpty=new de(!1);onStable=new de(!1);onError=new de(!1);constructor(n){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=qm}=n;if(typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,H0(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(af)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new E(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,B0,Oa,Oa);try{return i.runTask(s,e,r)}finally{i.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}},B0={};function lf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function U0(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){Zm(()=>{t.callbackScheduled=!1,sd(t),t.isCheckStableRunning=!0,lf(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),sd(t)}function H0(t){let n=()=>{U0(t)},e=$0++;t._inner=t._inner.fork({name:"angular",properties:{[af]:!0,[ka]:e,[ka+e]:!0},onInvokeTask:(r,o,i,s,a,l)=>{if(z0(l))return r.invokeTask(i,s,a,l);try{return sg(t),r.invokeTask(i,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),ag(t)}},onInvoke:(r,o,i,s,a,l,c)=>{try{return sg(t),r.invoke(i,s,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!q0(l)&&n(),ag(t)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,sd(t),lf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function sd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function sg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ag(t){t._nesting--,lf(t)}var ad=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new de;onMicrotaskEmpty=new de;onStable=new de;onError=new de;run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,o){return n.apply(e,r)}};function z0(t){return Km(t,"__ignore_ng_zone__")}function q0(t){return Km(t,"__scheduler_tick__")}function Km(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var Rt=class{_console=console;handleError(n){this._console.error("ERROR",n)}},G0=new S("",{providedIn:"root",factory:()=>{let t=y(oe),n=y(Rt);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function lg(t,n){return Vg(t,n)}function W0(t){return Vg(jg,t)}var Ym=(lg.required=W0,lg);function Z0(){return Ja(je(),z())}function Ja(t,n){return new jt(Lt(t,n))}var jt=(()=>{class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=Z0}return t})();function K0(t){return typeof t=="function"&&t[Qe]!==void 0}function _i(t,n){let e=fu(t,n?.equal),r=e[Qe];return e.set=o=>Zo(r,o),e.update=o=>hu(r,o),e.asReadonly=Y0.bind(e),e}function Y0(){let t=this[Qe];if(t.readonlyFn===void 0){let n=()=>this();n[Qe]=t,t.readonlyFn=n}return t.readonlyFn}function Qm(t){return K0(t)&&typeof t.set=="function"}function Jm(t){return(t.flags&128)===128}var Xm=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Xm||{}),ev=new Map,Q0=0;function J0(){return Q0++}function X0(t){ev.set(t[Wa],t)}function ld(t){ev.delete(t[Wa])}var cg="__ngContext__";function wi(t,n){En(n)?(t[cg]=n[Wa],X0(n)):t[cg]=n}function tv(t){return rv(t[si])}function nv(t){return rv(t[mt])}function rv(t){for(;t!==null&&!ln(t);)t=t[mt];return t}var cd;function ov(t){cd=t}function iv(){if(cd!==void 0)return cd;if(typeof document<"u")return document;throw new E(210,!1)}var Xa=new S("",{providedIn:"root",factory:()=>eC}),eC="ng",cf=new S(""),lo=new S("",{providedIn:"platform",factory:()=>"unknown"});var uf=new S("",{providedIn:"root",factory:()=>iv().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var tC="h",nC="b";var sv=!1,rC=new S("",{providedIn:"root",factory:()=>sv});var df=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(df||{}),co=new S(""),ug=new Set;function Mn(t){ug.has(t)||(ug.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var av=(()=>{class t{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=oC}return t})();function oC(){return new av(z(),je())}var Ur=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ur||{}),lv=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=I({token:t,providedIn:"root",factory:()=>new t})}return t})(),iC=[Ur.EarlyRead,Ur.Write,Ur.MixedReadWrite,Ur.Read],sC=(()=>{class t{ngZone=y(oe);scheduler=y(Jr);errorHandler=y(Rt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){y(co,{optional:!0})}execute(){let e=this.sequences.size>0;e&&Q(16),this.executing=!0;for(let r of iC)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&Q(17)}register(e){let{view:r}=e;r!==void 0?((r[zr]??=[]).push(e),mi(r),r[O]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(df.AFTER_NEXT_RENDER,e):e()}static \u0275prov=I({token:t,providedIn:"root",factory:()=>new t})}return t})(),ud=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,e,r,o,i,s=null){this.impl=n,this.hooks=e,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[zr];n&&(this.view[zr]=n.filter(e=>e!==this))}};function ff(t,n){!n?.injector&&Zb(ff);let e=n?.injector??y(qe);return Mn("NgAfterNextRender"),lC(t,e,n,!0)}function aC(t,n){if(t instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[n]=t,e}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function lC(t,n,e,r){let o=n.get(lv);o.impl??=n.get(sC);let i=n.get(co,null,{optional:!0}),s=e?.phase??Ur.MixedReadWrite,a=e?.manualCleanup!==!0?n.get(yi):null,l=n.get(av,null,{optional:!0}),c=new ud(o.impl,aC(t,s),l?.view,r,a,i?.snapshot(null));return o.impl.register(c),c}var cC=()=>null;function cv(t,n,e=!1){return cC(t,n,e)}function uv(t,n){let e=t.contentQueries;if(e!==null){let r=j(null);try{for(let o=0;o<e.length;o+=2){let i=e[o],s=e[o+1];if(s!==-1){let a=t.data[s];Im(i),a.contentQueries(2,n[s],s)}}}finally{j(r)}}}function dd(t,n,e){Im(0);let r=j(null);try{n(t,e)}finally{j(r)}}function dv(t,n,e){if(lm(n)){let r=j(null);try{let o=n.directiveStart,i=n.directiveEnd;for(let s=o;s<i;s++){let a=t.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{j(r)}}}var Ot=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ot||{}),ca;function uC(){if(ca===void 0&&(ca=null,Gr.trustedTypes))try{ca=Gr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ca}function el(t){return uC()?.createHTML(t)||t}var ua;function fv(){if(ua===void 0&&(ua=null,Gr.trustedTypes))try{ua=Gr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ua}function dg(t){return fv()?.createHTML(t)||t}function fg(t){return fv()?.createScriptURL(t)||t}var on=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Lg})`}},fd=class extends on{getTypeName(){return"HTML"}},hd=class extends on{getTypeName(){return"Style"}},pd=class extends on{getTypeName(){return"Script"}},gd=class extends on{getTypeName(){return"URL"}},md=class extends on{getTypeName(){return"ResourceURL"}};function wt(t){return t instanceof on?t.changingThisBreaksApplicationSecurity:t}function un(t,n){let e=dC(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${Lg})`)}return e===n}function dC(t){return t instanceof on&&t.getTypeName()||null}function hv(t){return new fd(t)}function pv(t){return new hd(t)}function gv(t){return new pd(t)}function mv(t){return new gd(t)}function vv(t){return new md(t)}function fC(t){let n=new yd(t);return hC()?new vd(n):n}var vd=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let e=new window.DOMParser().parseFromString(el(n),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(n):(e.firstChild?.remove(),e)}catch{return null}}},yd=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let e=this.inertDocument.createElement("template");return e.innerHTML=el(n),e}};function hC(){try{return!!new window.DOMParser().parseFromString(el(""),"text/html")}catch{return!1}}var pC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function tl(t){return t=String(t),t.match(pC)?t:"unsafe:"+t}function dn(t){let n={};for(let e of t.split(","))n[e]=!0;return n}function Di(...t){let n={};for(let e of t)for(let r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}var yv=dn("area,br,col,hr,img,wbr"),_v=dn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wv=dn("rp,rt"),gC=Di(wv,_v),mC=Di(_v,dn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vC=Di(wv,dn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hg=Di(yv,mC,vC,gC),Dv=dn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yC=dn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_C=dn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),wC=Di(Dv,yC,_C),DC=dn("script,style,template"),_d=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let e=n.firstChild,r=!0,o=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild){o.push(e),e=EC(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=CC(e);if(i){e=i;break}e=o.pop()}}return this.buf.join("")}startElement(n){let e=pg(n).toLowerCase();if(!hg.hasOwnProperty(e))return this.sanitizedSomething=!0,!DC.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let r=n.attributes;for(let o=0;o<r.length;o++){let i=r.item(o),s=i.name,a=s.toLowerCase();if(!wC.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=i.value;Dv[a]&&(l=tl(l)),this.buf.push(" ",s,'="',gg(l),'"')}return this.buf.push(">"),!0}endElement(n){let e=pg(n).toLowerCase();hg.hasOwnProperty(e)&&!yv.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(gg(n))}};function bC(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function CC(t){let n=t.nextSibling;if(n&&t!==n.previousSibling)throw bv(n);return n}function EC(t){let n=t.firstChild;if(n&&bC(t,n))throw bv(n);return n}function pg(t){let n=t.nodeName;return typeof n=="string"?n:"FORM"}function bv(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var IC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,SC=/([^\#-~ |!])/g;function gg(t){return t.replace(/&/g,"&amp;").replace(IC,function(n){let e=n.charCodeAt(0),r=n.charCodeAt(1);return"&#"+((e-55296)*1024+(r-56320)+65536)+";"}).replace(SC,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var da;function hf(t,n){let e=null;try{da=da||fC(t);let r=n?String(n):"";e=da.getInertBodyElement(r);let o=5,i=r;do{if(o===0)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=e.innerHTML,e=da.getInertBodyElement(r)}while(r!==i);let a=new _d().sanitizeChildren(mg(e)||e);return el(a)}finally{if(e){let r=mg(e)||e;for(;r.firstChild;)r.firstChild.remove()}}}function mg(t){return"content"in t&&MC(t)?t.content:null}function MC(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Dt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Dt||{});function Tn(t){let n=gf();return n?dg(n.sanitize(Dt.HTML,t)||""):un(t,"HTML")?dg(wt(t)):hf(iv(),Kn(t))}function pf(t){let n=gf();return n?n.sanitize(Dt.URL,t)||"":un(t,"URL")?wt(t):tl(Kn(t))}function TC(t){let n=gf();if(n)return fg(n.sanitize(Dt.RESOURCE_URL,t)||"");if(un(t,"ResourceURL"))return fg(wt(t));throw new E(904,!1)}function xC(t,n){return n==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||n==="href"&&(t==="base"||t==="link")?TC:pf}function Cv(t,n,e){return xC(n,e)(t)}function gf(){let t=z();return t&&t[rn].sanitizer}function Ev(t){return t instanceof Function?t():t}function AC(t,n,e){let r=t.length;for(;;){let o=t.indexOf(n,e);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=n.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}e=o+1}}var Iv="ng-template";function NC(t,n,e,r){let o=0;if(r){for(;o<n.length&&typeof n[o]=="string";o+=2)if(n[o]==="class"&&AC(n[o+1].toLowerCase(),e,0)!==-1)return!0}else if(mf(t))return!1;if(o=n.indexOf(1,o),o>-1){let i;for(;++o<n.length&&typeof(i=n[o])=="string";)if(i.toLowerCase()===e)return!0}return!1}function mf(t){return t.type===4&&t.value!==Iv}function RC(t,n,e){let r=t.type===4&&!e?Iv:t.value;return n===r}function OC(t,n,e){let r=4,o=t.attrs,i=o!==null?FC(o):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!gt(r)&&!gt(l))return!1;if(s&&gt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!RC(t,l,e)||l===""&&n.length===1){if(gt(r))return!1;s=!0}}else if(r&8){if(o===null||!NC(t,o,l,e)){if(gt(r))return!1;s=!0}}else{let c=n[++a],u=kC(l,o,mf(t),e);if(u===-1){if(gt(r))return!1;s=!0;continue}if(c!==""){let d;if(u>i?d="":d=o[u+1].toLowerCase(),r&2&&c!==d){if(gt(r))return!1;s=!0}}}}return gt(r)||s}function gt(t){return(t&1)===0}function kC(t,n,e,r){if(n===null)return-1;let o=0;if(r||!e){let i=!1;for(;o<n.length;){let s=n[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=n[++o];for(;typeof a=="string";)a=n[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return LC(n,t)}function PC(t,n,e=!1){for(let r=0;r<n.length;r++)if(OC(t,n[r],e))return!0;return!1}function FC(t){for(let n=0;n<t.length;n++){let e=t[n];if(km(e))return n}return t.length}function LC(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let r=t[e];if(typeof r=="number")return-1;if(r===n)return e;e++}return-1}function vg(t,n){return t?":not("+n.trim()+")":n}function jC(t){let n=t[0],e=1,r=2,o="",i=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(r&2){let a=t[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!gt(s)&&(n+=vg(i,o),o=""),r=s,i=i||!gt(r);e++}return o!==""&&(n+=vg(i,o)),n}function VC(t){return t.map(jC).join(",")}function $C(t){let n=[],e=[],r=1,o=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")o===2?i!==""&&n.push(i,t[++r]):o===8&&e.push(i);else{if(!gt(o))break;o=i}r++}return e.length&&n.push(1,...e),n}var nt={};function BC(t,n){return t.createText(n)}function UC(t,n,e){t.setValue(n,e)}function Sv(t,n,e){return t.createElement(n,e)}function Pa(t,n,e,r,o){t.insertBefore(n,e,r,o)}function Mv(t,n,e){t.appendChild(n,e)}function yg(t,n,e,r,o){r!==null?Pa(t,n,e,r,o):Mv(t,n,e)}function HC(t,n,e){t.removeChild(null,n,e)}function zC(t,n,e){t.setAttribute(n,"style",e)}function qC(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Tv(t,n,e){let{mergedAttrs:r,classes:o,styles:i}=e;r!==null&&S0(t,n,r),o!==null&&qC(t,n,o),i!==null&&zC(t,n,i)}function vf(t,n,e,r,o,i,s,a,l,c,u){let d=Re+r,p=d+o,f=GC(d,p),g=typeof c=="function"?c():c;return f[$]={type:t,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function GC(t,n){let e=[];for(let r=0;r<n;r++)e.push(r<t?null:nt);return e}function WC(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=vf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function yf(t,n,e,r,o,i,s,a,l,c,u){let d=n.blueprint.slice();return d[an]=o,d[O]=r|4|128|8|64|1024,(c!==null||t&&t[O]&2048)&&(d[O]|=2048),gm(d),d[Ne]=d[ro]=t,d[ye]=e,d[rn]=s||t&&t[rn],d[fe]=a||t&&t[fe],d[Xn]=l||t&&t[Xn]||null,d[_t]=i,d[Wa]=J0(),d[ii]=u,d[sm]=c,d[vt]=n.type==2?t[vt]:d,d}function ZC(t,n,e){let r=Lt(n,t),o=WC(e),i=t[rn].rendererFactory,s=_f(t,yf(t,o,null,xv(e),r,n,null,i.createRenderer(r,e),null,null,null));return t[n.index]=s}function xv(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function Av(t,n,e,r){if(e===0)return-1;let o=n.length;for(let i=0;i<e;i++)n.push(r),t.blueprint.push(r),t.data.push(null);return o}function _f(t,n){return t[si]?t[Qp][mt]=n:t[si]=n,t[Qp]=n,n}function M(t=1){Nv(Te(),z(),Sn()+t,!1)}function Nv(t,n,e,r){if(!r)if((n[O]&3)===3){let i=t.preOrderCheckHooks;i!==null&&pa(n,i,e)}else{let i=t.preOrderHooks;i!==null&&ga(n,i,0,e)}nr(e)}var nl=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(nl||{});function wd(t,n,e,r){let o=j(null);try{let[i,s,a]=t.inputs[e],l=null;(s&nl.SignalBased)!==0&&(l=n[i][Qe]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(n,r)),t.setInput!==null?t.setInput(n,l,r,e,i):cm(n,l,i,r)}finally{j(o)}}function Rv(t,n,e,r,o){let i=Sn(),s=r&2;try{nr(-1),s&&n.length>Re&&Nv(t,n,Re,!1),Q(s?2:0,o),e(r,o)}finally{nr(i),Q(s?3:1,o)}}function wf(t,n,e){eE(t,n,e),(e.flags&64)===64&&tE(t,n,e)}function Ov(t,n,e=Lt){let r=n.localNames;if(r!==null){let o=n.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?e(n,t):t[s];t[o++]=a}}}function KC(t,n,e,r){let i=r.get(rC,sv)||e===Ot.ShadowDom,s=t.selectRootElement(n,i);return YC(s),s}function YC(t){QC(t)}var QC=()=>null;function JC(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Df(t,n,e,r,o,i,s,a){if(!a&&bf(n,t,e,r,o)){oo(n)&&XC(e,n.index);return}if(n.type&3){let l=Lt(n,e);r=JC(r),o=s!=null?s(o,n.value||"",r):o,i.setProperty(l,r,o)}else n.type&12}function XC(t,n){let e=Nt(n,t);e[O]&16||(e[O]|=64)}function eE(t,n,e){let r=e.directiveStart,o=e.directiveEnd;oo(e)&&ZC(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||Na(e,n);let i=e.initialInputs;for(let s=r;s<o;s++){let a=t.data[s],l=Ra(n,t,s,e);if(wi(l,n),i!==null&&iE(n,s-r,l,a,e,i),xt(a)){let c=Nt(e.index,n);c[ye]=Ra(n,t,s,e)}}}function tE(t,n,e){let r=e.directiveStart,o=e.directiveEnd,i=e.index,s=v0();try{nr(i);for(let a=r;a<o;a++){let l=t.data[a],c=n[a];ed(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&nE(l,c)}}finally{nr(-1),ed(s)}}function nE(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function kv(t,n){let e=t.directiveRegistry,r=null;if(e)for(let o=0;o<e.length;o++){let i=e[o];PC(n,i.selectors,!1)&&(r??=[],xt(i)?r.unshift(i):r.push(i))}return r}function rE(t,n,e,r,o,i){let s=Lt(t,n);oE(n[fe],s,i,t.value,e,r,o)}function oE(t,n,e,r,o,i,s){if(i==null)t.removeAttribute(n,o,e);else{let a=s==null?Kn(i):s(i,r||"",o);t.setAttribute(n,o,a,e)}}function iE(t,n,e,r,o,i){let s=i[n];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];wd(r,e,l,c)}}function sE(t,n){let e=t[Xn],r=e?e.get(Rt,null):null;r&&r.handleError(n)}function bf(t,n,e,r,o){let i=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=n.data[c];wd(d,e[c],u,o),a=!0}if(i)for(let l of i){let c=e[l],u=n.data[l];wd(u,c,r,o),a=!0}return a}function aE(t,n){let e=Nt(n,t),r=e[$];lE(r,e);let o=e[an];o!==null&&e[ii]===null&&(e[ii]=cv(o,e[Xn])),Q(18),Cf(r,e,e[ye]),Q(19,e[ye])}function lE(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function Cf(t,n,e){ef(n);try{let r=t.viewQuery;r!==null&&dd(1,r,e);let o=t.template;o!==null&&Rv(t,n,o,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Yr]?.finishViewCreation(t),t.staticContentQueries&&uv(t,n),t.staticViewQueries&&dd(2,t.viewQuery,e);let i=t.components;i!==null&&cE(n,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[O]&=-5,tf()}}function cE(t,n){for(let e=0;e<n.length;e++)aE(t,n[e])}function rl(t,n,e,r){let o=j(null);try{let i=n.tView,a=t[O]&4096?4096:16,l=yf(t,i,e,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[n.index];l[Kr]=c;let u=t[Yr];return u!==null&&(l[Yr]=u.createEmbeddedView(i)),Cf(i,l,e),l}finally{j(o)}}function li(t,n){return!n||n.firstChild===null||Jm(t)}var uE;function Ef(t,n){return uE(t,n)}var sn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(sn||{});function Pv(t){return(t.flags&32)===32}function Hr(t,n,e,r,o){if(r!=null){let i,s=!1;ln(r)?i=r:En(r)&&(s=!0,r=r[an]);let a=At(r);t===0&&e!==null?o==null?Mv(n,e,a):Pa(n,e,a,o||null,!0):t===1&&e!==null?Pa(n,e,a,o||null,!0):t===2?HC(n,a,s):t===3&&n.destroyNode(a),i!=null&&bE(n,t,i,e,o)}}function dE(t,n){Fv(t,n),n[an]=null,n[_t]=null}function fE(t,n,e,r,o,i){r[an]=o,r[_t]=n,il(t,r,e,1,o,i)}function Fv(t,n){n[rn].changeDetectionScheduler?.notify(9),il(t,n,n[fe],2,null,null)}function hE(t){let n=t[si];if(!n)return Fu(t[$],t);for(;n;){let e=null;if(En(n))e=n[si];else{let r=n[Ae];r&&(e=r)}if(!e){for(;n&&!n[mt]&&n!==t;)En(n)&&Fu(n[$],n),n=n[Ne];n===null&&(n=t),En(n)&&Fu(n[$],n),e=n&&n[mt]}n=e}}function If(t,n){let e=t[Sa],r=e.indexOf(n);e.splice(r,1)}function ol(t,n){if(io(n))return;let e=n[fe];e.destroyNode&&il(t,n,e,3,null,null),hE(n)}function Fu(t,n){if(io(n))return;let e=j(null);try{n[O]&=-129,n[O]|=256,n[et]&&cu(n[et]),gE(t,n),pE(t,n),n[$].type===1&&n[fe].destroy();let r=n[Kr];if(r!==null&&ln(n[Ne])){r!==n[Ne]&&If(r,n);let o=n[Yr];o!==null&&o.detachView(t)}ld(n)}finally{j(e)}}function pE(t,n){let e=t.cleanup,r=n[Ca];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(n[Ca]=null);let o=n[Cn];if(o!==null){n[Cn]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=n[Ea];if(i!==null){n[Ea]=null;for(let s of i)s.destroy()}}function gE(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let o=n[e[r]];if(!(o instanceof rr)){let i=e[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],l=i[s+1];Q(4,a,l);try{l.call(a)}finally{Q(5,a,l)}}else{Q(4,o,i);try{i.call(o)}finally{Q(5,o,i)}}}}}function mE(t,n,e){return vE(t,n.parent,e)}function vE(t,n,e){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return e[an];if(oo(r)){let{encapsulation:o}=t.data[r.directiveStart+r.componentOffset];if(o===Ot.None||o===Ot.Emulated)return null}return Lt(r,e)}function yE(t,n,e){return wE(t,n,e)}function _E(t,n,e){return t.type&40?Lt(t,e):null}var wE=_E,_g;function Sf(t,n,e,r){let o=mE(t,r,n),i=n[fe],s=r.parent||n[_t],a=yE(s,r,n);if(o!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)yg(i,o,e[l],a,!1);else yg(i,o,e,a,!1);_g!==void 0&&_g(i,r,n,e,o)}function ni(t,n){if(n!==null){let e=n.type;if(e&3)return Lt(n,t);if(e&4)return Dd(-1,t[n.index]);if(e&8){let r=n.child;if(r!==null)return ni(t,r);{let o=t[n.index];return ln(o)?Dd(-1,o):At(o)}}else{if(e&128)return ni(t,n.next);if(e&32)return Ef(n,t)()||At(t[n.index]);{let r=Lv(t,n);if(r!==null){if(Array.isArray(r))return r[0];let o=tr(t[vt]);return ni(o,r)}else return ni(t,n.next)}}}return null}function Lv(t,n){if(n!==null){let r=t[vt][_t],o=n.projection;return r.projection[o]}return null}function Dd(t,n){let e=Ae+t+1;if(e<n.length){let r=n[e],o=r[$].firstChild;if(o!==null)return ni(r,o)}return n[er]}function Mf(t,n,e,r,o,i,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],l=e.type;if(s&&n===0&&(a&&wi(At(a),r),e.flags|=2),!Pv(e))if(l&8)Mf(t,n,e.child,r,o,i,!1),Hr(n,t,o,a,i);else if(l&32){let c=Ef(e,r),u;for(;u=c();)Hr(n,t,o,u,i);Hr(n,t,o,a,i)}else l&16?DE(t,n,r,e,o,i):Hr(n,t,o,a,i);e=s?e.projectionNext:e.next}}function il(t,n,e,r,o,i){Mf(e,r,t.firstChild,n,o,i,!1)}function DE(t,n,e,r,o,i){let s=e[vt],l=s[_t].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Hr(n,t,o,u,i)}else{let c=l,u=s[Ne];Jm(r)&&(c.flags|=128),Mf(t,n,c,u,o,i,!0)}}function bE(t,n,e,r,o){let i=e[er],s=At(e);i!==s&&Hr(n,t,r,i,o);for(let a=Ae;a<e.length;a++){let l=e[a];il(l[$],l,t,n,r,i)}}function CE(t,n,e,r,o){if(n)o?t.addClass(e,r):t.removeClass(e,r);else{let i=r.indexOf("-")===-1?void 0:sn.DashCase;o==null?t.removeStyle(e,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=sn.Important),t.setStyle(e,r,o,i))}}function Fa(t,n,e,r,o=!1){for(;e!==null;){if(e.type===128){e=o?e.projectionNext:e.next;continue}let i=n[e.index];i!==null&&r.push(At(i)),ln(i)&&EE(i,r);let s=e.type;if(s&8)Fa(t,n,e.child,r);else if(s&32){let a=Ef(e,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=Lv(n,e);if(Array.isArray(a))r.push(...a);else{let l=tr(n[vt]);Fa(l[$],l,a,r,!0)}}e=o?e.projectionNext:e.next}return r}function EE(t,n){for(let e=Ae;e<t.length;e++){let r=t[e],o=r[$].firstChild;o!==null&&Fa(r[$],r,o,n)}t[er]!==t[an]&&n.push(t[er])}function jv(t){if(t[zr]!==null){for(let n of t[zr])n.impl.addSequence(n);t[zr].length=0}}var Vv=[];function IE(t){return t[et]??SE(t)}function SE(t){let n=Vv.pop()??Object.create(TE);return n.lView=t,n}function ME(t){t.lView[et]!==t&&(t.lView=null,Vv.push(t))}var TE=L(w({},Go),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{mi(t.lView)},consumerOnSignalRead(){this.lView[et]=this}});function xE(t){let n=t[et]??Object.create(AE);return n.lView=t,n}var AE=L(w({},Go),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let n=tr(t.lView);for(;n&&!$v(n[$]);)n=tr(n);n&&mm(n)},consumerOnSignalRead(){this.lView[et]=this}});function $v(t){return t.type!==2}function Bv(t){if(t[Ea]===null)return;let n=!0;for(;n;){let e=!1;for(let r of t[Ea])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=e&&!!(t[O]&8192)}}var NE=100;function Uv(t,n=!0,e=0){let o=t[rn].rendererFactory,i=!1;i||o.begin?.();try{RE(t,e)}catch(s){throw n&&sE(t,s),s}finally{i||o.end?.()}}function RE(t,n){let e=Cm();try{Xp(!0),bd(t,n);let r=0;for(;Za(t);){if(r===NE)throw new E(103,!1);r++,bd(t,1)}}finally{Xp(e)}}function OE(t,n,e,r){if(io(n))return;let o=n[O],i=!1,s=!1;ef(n);let a=!0,l=null,c=null;i||($v(t)?(c=IE(n),l=ks(c)):ru()===null?(a=!1,c=xE(n),l=ks(c)):n[et]&&(cu(n[et]),n[et]=null));try{gm(n),p0(t.bindingStartIndex),e!==null&&Rv(t,n,e,2,r);let u=(o&3)===3;if(!i)if(u){let f=t.preOrderCheckHooks;f!==null&&pa(n,f,null)}else{let f=t.preOrderHooks;f!==null&&ga(n,f,0,null),ku(n,0)}if(s||kE(n),Bv(n),Hv(n,0),t.contentQueries!==null&&uv(t,n),!i)if(u){let f=t.contentCheckHooks;f!==null&&pa(n,f)}else{let f=t.contentHooks;f!==null&&ga(n,f,1),ku(n,1)}FE(t,n);let d=t.components;d!==null&&qv(n,d,0);let p=t.viewQuery;if(p!==null&&dd(2,p,r),!i)if(u){let f=t.viewCheckHooks;f!==null&&pa(n,f)}else{let f=t.viewHooks;f!==null&&ga(n,f,2),ku(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[Ou]){for(let f of n[Ou])f();n[Ou]=null}i||(jv(n),n[O]&=-73)}catch(u){throw i||mi(n),u}finally{c!==null&&(au(c,l),a&&ME(c)),tf()}}function Hv(t,n){for(let e=tv(t);e!==null;e=nv(e))for(let r=Ae;r<e.length;r++){let o=e[r];zv(o,n)}}function kE(t){for(let n=tv(t);n!==null;n=nv(n)){if(!(n[O]&2))continue;let e=n[Sa];for(let r=0;r<e.length;r++){let o=e[r];mm(o)}}}function PE(t,n,e){Q(18);let r=Nt(n,t);zv(r,e),Q(19,r[ye])}function zv(t,n){Xd(t)&&bd(t,n)}function bd(t,n){let r=t[$],o=t[O],i=t[et],s=!!(n===0&&o&16);if(s||=!!(o&64&&n===0),s||=!!(o&1024),s||=!!(i?.dirty&&lu(i)),s||=!1,i&&(i.dirty=!1),t[O]&=-9217,s)OE(r,t,r.template,t[ye]);else if(o&8192){Bv(t),Hv(t,1);let a=r.components;a!==null&&qv(t,a,1),jv(t)}}function qv(t,n,e){for(let r=0;r<n.length;r++)PE(t,n[r],e)}function FE(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let o=e[r];if(o<0)nr(~o);else{let i=o,s=e[++r],a=e[++r];m0(s,i);let l=n[i];Q(24,l),a(2,l),Q(25,l)}}}finally{nr(-1)}}function Tf(t,n){let e=Cm()?64:1088;for(t[rn].changeDetectionScheduler?.notify(n);t;){t[O]|=e;let r=tr(t);if(Ma(t)&&!r)return t;t=r}return null}function Gv(t,n,e,r){return[t,!0,0,n,null,r,null,e,null,null]}function Wv(t,n){let e=Ae+n;if(e<t.length)return t[e]}function sl(t,n,e,r=!0){let o=n[$];if(LE(o,n,t,e),r){let s=Dd(e,t),a=n[fe],l=a.parentNode(t[er]);l!==null&&fE(o,t[_t],a,n,l,s)}let i=n[ii];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Zv(t,n){let e=ci(t,n);return e!==void 0&&ol(e[$],e),e}function ci(t,n){if(t.length<=Ae)return;let e=Ae+n,r=t[e];if(r){let o=r[Kr];o!==null&&o!==t&&If(o,r),n>0&&(t[e-1][mt]=r[mt]);let i=Da(t,Ae+n);dE(r[$],r);let s=i[Yr];s!==null&&s.detachView(i[$]),r[Ne]=null,r[mt]=null,r[O]&=-129}return r}function LE(t,n,e,r){let o=Ae+r,i=e.length;r>0&&(e[o-1][mt]=n),r<i-Ae?(n[mt]=e[o],Qg(e,Ae+r,n)):(e.push(n),n[mt]=null),n[Ne]=e;let s=n[Kr];s!==null&&e!==s&&Kv(s,n);let a=n[Yr];a!==null&&a.insertView(t),Ju(n),n[O]|=128}function Kv(t,n){let e=t[Sa],r=n[Ne];if(En(r))t[O]|=2;else{let o=r[Ne][vt];n[vt]!==o&&(t[O]|=2)}e===null?t[Sa]=[n]:e.push(n)}var ui=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,e=n[$];return Fa(e,n,e.firstChild,[])}constructor(n,e,r=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[ye]}set context(n){this._lView[ye]=n}get destroyed(){return io(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Ne];if(ln(n)){let e=n[Ia],r=e?e.indexOf(this):-1;r>-1&&(ci(n,r),Da(e,r))}this._attachedToViewContainer=!1}ol(this._lView[$],this._lView)}onDestroy(n){vm(this._lView,n)}markForCheck(){Tf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[O]&=-129}reattach(){Ju(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,Uv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Ma(this._lView),e=this._lView[Kr];e!==null&&!n&&If(e,this._lView),Fv(this._lView[$],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=n;let e=Ma(this._lView),r=this._lView[Kr];r!==null&&!e&&Kv(r,this._lView),Ju(this._lView)}};var al=(()=>{class t{static __NG_ELEMENT_ID__=$E}return t})(),jE=al,VE=class extends jE{_declarationLView;_declarationTContainer;elementRef;constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,r){let o=rl(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:r});return new ui(o)}};function $E(){return BE(je(),z())}function BE(t,n){return t.type&4?new VE(n,t,Ja(t,n)):null}function xf(t,n,e,r,o){let i=t.data[n];if(i===null)i=UE(t,n,e,r,o),g0()&&(i.flags|=32);else if(i.type&64){i.type=e,i.value=r,i.attrs=o;let s=u0();i.injectorIndex=s===null?-1:s.injectorIndex}return vi(i,!0),i}function UE(t,n,e,r,o){let i=Dm(),s=bm(),a=s?i:i&&i.parent,l=t.data[n]=zE(t,a,e,n,r,o);return HE(t,l,i,s),l}function HE(t,n,e,r){t.firstChild===null&&(t.firstChild=n),e!==null&&(r?e.child==null&&n.parent!==null&&(e.child=n):e.next===null&&(e.next=n,n.prev=e))}function zE(t,n,e,r,o,i){let s=n?n.injectorIndex:-1,a=0;return a0()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var JP=new RegExp(`^(\\d+)*(${nC}|${tC})*(.*)`);var qE=()=>null;function di(t,n){return qE(t,n)}var GE=class{},Yv=class{},Cd=class{resolveComponentFactory(n){throw Error(`No component factory found for ${Fe(n)}.`)}},ll=class{static NULL=new Cd},Xr=class{},bt=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>WE()}return t})();function WE(){let t=z(),n=je(),e=Nt(n.index,t);return(En(e)?e:t)[fe]}var ZE=(()=>{class t{static \u0275prov=I({token:t,providedIn:"root",factory:()=>null})}return t})();var Lu={},Ed=class{injector;parentInjector;constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=qa(r);let o=this.injector.get(n,Lu,r);return o!==Lu||e===Lu?o:this.parentInjector.get(n,e,r)}};function wg(t,n,e){let r=e?t.styles:null,o=e?t.classes:null,i=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")i=a;else if(i==1)o=zp(o,a);else if(i==2){let l=a,c=n[++s];r=zp(r,l+": "+c+";")}}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=o:t.classesWithoutHost=o}function D(t,n=V.Default){let e=z();if(e===null)return A(t,n);let r=je();return Bm(r,e,xe(t),n)}function Qv(){let t="invalid";throw new Error(t)}function Jv(t,n,e,r,o){let i=r===null?null:{"":-1},s=o(t,e);if(s!==null){let a,l=null,c=null,u=YE(s);u===null?a=s:[a,l,c]=u,XE(t,n,e,a,i,l,c)}i!==null&&r!==null&&KE(e,r,i)}function KE(t,n,e){let r=t.localNames=[];for(let o=0;o<n.length;o+=2){let i=e[n[o+1]];if(i==null)throw new E(-301,!1);r.push(n[o],i)}}function YE(t){let n=null,e=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&xt(a)&&(n=a),a.findHostDirectiveDefs!==null){e=!0;break}}if(!e)return null;let r=null,o=null,i=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],o??=new Map,i??=new Map,QE(s,r,i,o)),s===n&&(r??=[],r.push(s));return r!==null?(r.push(...n===null?t:t.slice(1)),[r,o,i]):null}function QE(t,n,e,r){let o=n.length;t.findHostDirectiveDefs(t,n,r),e.set(t,[o,n.length-1])}function JE(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function XE(t,n,e,r,o,i,s){let a=r.length,l=!1;for(let p=0;p<a;p++){let f=r[p];!l&&xt(f)&&(l=!0,JE(t,e,p)),nd(Na(e,n),t,f.type)}iI(e,t.data.length,a);for(let p=0;p<a;p++){let f=r[p];f.providersResolver&&f.providersResolver(f)}let c=!1,u=!1,d=Av(t,n,a,null);a>0&&(e.directiveToIndex=new Map);for(let p=0;p<a;p++){let f=r[p];if(e.mergedAttrs=ai(e.mergedAttrs,f.hostAttrs),tI(t,e,n,d,f),oI(d,f,o),s!==null&&s.has(f)){let[_,C]=s.get(f);e.directiveToIndex.set(f.type,[d,_+e.directiveStart,C+e.directiveStart])}else(i===null||!i.has(f))&&e.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(e.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(e.flags|=64);let g=f.type.prototype;!c&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),c=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),u=!0),d++}eI(t,e,i)}function eI(t,n,e){for(let r=n.directiveStart;r<n.directiveEnd;r++){let o=t.data[r];if(e===null||!e.has(o))Dg(0,n,o,r),Dg(1,n,o,r),Cg(n,r,!1);else{let i=e.get(o);bg(0,n,i,r),bg(1,n,i,r),Cg(n,r,!0)}}}function Dg(t,n,e,r){let o=t===0?e.inputs:e.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;t===0?s=n.inputs??={}:s=n.outputs??={},s[i]??=[],s[i].push(r),Xv(n,i)}}function bg(t,n,e,r){let o=t===0?e.inputs:e.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;t===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),Xv(n,s)}}function Xv(t,n){n==="class"?t.flags|=8:n==="style"&&(t.flags|=16)}function Cg(t,n,e){let{attrs:r,inputs:o,hostDirectiveInputs:i}=t;if(r===null||!e&&o===null||e&&i===null||mf(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!e&&o.hasOwnProperty(l)){let c=o[l];for(let u of c)if(u===n){s??=[],s.push(l,r[a+1]);break}}else if(e&&i.hasOwnProperty(l)){let c=i[l];for(let u=0;u<c.length;u+=2)if(c[u]===n){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function tI(t,n,e,r,o){t.data[r]=o;let i=o.factory||(o.factory=Yn(o.type,!0)),s=new rr(i,xt(o),D);t.blueprint[r]=s,e[r]=s,nI(t,n,r,Av(t,e,o.hostVars,nt),o)}function nI(t,n,e,r,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~n.index;rI(s)!=a&&s.push(a),s.push(e,r,i)}}function rI(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function oI(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;xt(n)&&(e[""]=t)}}function iI(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function ey(t,n,e,r,o,i,s,a){let l=n.consts,c=Qr(l,s),u=xf(n,t,2,r,c);return i&&Jv(n,e,u,Qr(l,a),o),u.mergedAttrs=ai(u.mergedAttrs,u.attrs),u.attrs!==null&&wg(u,u.attrs,!1),u.mergedAttrs!==null&&wg(u,u.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,u),u}function ty(t,n){Rm(t,n),lm(n)&&t.queries.elementEnd(n)}var La=class extends ll{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=Jn(n);return new eo(e,this.ngModule)}};function sI(t){return Object.keys(t).map(n=>{let[e,r,o]=t[n],i={propName:e,templateName:n,isSignal:(r&nl.SignalBased)!==0};return o&&(i.transform=o),i})}function aI(t){return Object.keys(t).map(n=>({propName:t[n],templateName:n}))}function lI(t,n,e){let r=n instanceof Le?n:n?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Ed(e,r):e}function cI(t){let n=t.get(Xr,null);if(n===null)throw new E(407,!1);let e=t.get(ZE,null),r=t.get(Jr,null);return{rendererFactory:n,sanitizer:e,changeDetectionScheduler:r}}function uI(t,n){let e=(t.selectors[0][0]||"div").toLowerCase();return Sv(n,e,e==="svg"?Xb:e==="math"?e0:null)}var eo=class extends Yv{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=sI(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=aI(this.componentDef.outputs),this.cachedOutputs}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=VC(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!e}create(n,e,r,o){Q(22);let i=j(null);try{let s=this.componentDef,a=r?["ng-version","19.2.9"]:$C(this.componentDef.selectors[0]),l=vf(0,null,null,1,0,null,null,null,null,[a],null),c=lI(s,o||this.ngModule,n),u=cI(c),d=u.rendererFactory.createRenderer(null,s),p=r?KC(d,r,s.encapsulation,c):uI(s,d),f=yf(null,l,null,512|xv(s),null,null,u,d,c,null,cv(p,c,!0));f[Re]=p,ef(f);let g=null;try{let _=ey(Re,l,f,"#host",()=>[this.componentDef],!0,0);p&&(Tv(d,p,_),wi(p,f)),wf(l,f,_),dv(l,_,f),ty(l,_),e!==void 0&&dI(_,this.ngContentSelectors,e),g=Nt(_.index,f),f[ye]=g[ye],Cf(l,f,null)}catch(_){throw g!==null&&ld(g),ld(f),_}finally{Q(23),tf()}return new Id(this.componentType,f)}finally{j(i)}}},Id=class extends GE{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,e){super(),this._rootLView=e,this._tNode=Jd(e[$],Re),this.location=Ja(this._tNode,e),this.instance=Nt(this._tNode.index,e)[ye],this.hostView=this.changeDetectorRef=new ui(e,void 0,!1),this.componentType=n}setInput(n,e){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let o=this._rootLView,i=bf(r,o[$],o,n,e);this.previousInputValues.set(n,e);let s=Nt(r.index,o);Tf(s,1)}get injector(){return new Zn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function dI(t,n,e){let r=t.projection=[];for(let o=0;o<n.length;o++){let i=e[o];r.push(i!=null&&i.length?Array.from(i):null)}}var uo=(()=>{class t{static __NG_ELEMENT_ID__=fI}return t})();function fI(){let t=je();return pI(t,z())}var hI=uo,ny=class extends hI{_lContainer;_hostTNode;_hostLView;constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return Ja(this._hostTNode,this._hostLView)}get injector(){return new Zn(this._hostTNode,this._hostLView)}get parentInjector(){let n=of(this._hostTNode,this._hostLView);if(Pm(n)){let e=xa(n,this._hostLView),r=Ta(n),o=e[$].data[r+8];return new Zn(o,e)}else return new Zn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=Eg(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-Ae}createEmbeddedView(n,e,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=di(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},i,s);return this.insertImpl(a,o,li(this._hostTNode,s)),a}createComponent(n,e,r,o,i){let s=n&&!Kb(n),a;if(s)a=e;else{let g=e||{};a=g.index,r=g.injector,o=g.projectableNodes,i=g.environmentInjector||g.ngModuleRef}let l=s?n:new eo(Jn(n)),c=r||this.parentInjector;if(!i&&l.ngModule==null){let _=(s?c:this.parentInjector).get(Le,null);_&&(i=_)}let u=Jn(l.componentType??{}),d=di(this._lContainer,u?.id??null),p=d?.firstChild??null,f=l.create(c,o,p,i);return this.insertImpl(f.hostView,a,li(this._hostTNode,d)),f}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,r){let o=n._lView;if(t0(o)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=o[Ne],c=new ny(l,l[_t],l[Ne]);c.detach(c.indexOf(n))}}let i=this._adjustIndex(e),s=this._lContainer;return sl(s,o,i,r),n.attachToViewContainerRef(),Qg(ju(s),i,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=Eg(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),r=ci(this._lContainer,e);r&&(Da(ju(this._lContainer),e),ol(r[$],r))}detach(n){let e=this._adjustIndex(n,-1),r=ci(this._lContainer,e);return r&&Da(ju(this._lContainer),e)!=null?new ui(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function Eg(t){return t[Ia]}function ju(t){return t[Ia]||(t[Ia]=[])}function pI(t,n){let e,r=n[t.index];return ln(r)?e=r:(e=Gv(r,n,null,t),n[t.index]=e,_f(n,e)),mI(e,n,t,r),new ny(e,t,n)}function gI(t,n){let e=t[fe],r=e.createComment(""),o=Lt(n,t),i=e.parentNode(o);return Pa(e,i,r,e.nextSibling(o),!1),r}var mI=_I,vI=()=>!1;function yI(t,n,e){return vI(t,n,e)}function _I(t,n,e,r){if(t[er])return;let o;e.type&8?o=At(r):o=gI(n,e),t[er]=o}var to=class{},Af=class{};var Sd=class extends to{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new La(this);constructor(n,e,r,o=!0){super(),this.ngModuleType=n,this._parent=e;let i=em(n);this._bootstrapComponents=Ev(i.bootstrap),this._r3Injector=zm(n,e,[{provide:to,useValue:this},{provide:ll,useValue:this.componentFactoryResolver},...r],Fe(n),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Md=class extends Af{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Sd(this.moduleType,n,[])}};var ja=class extends to{injector;componentFactoryResolver=new La(this);instance=null;constructor(n){super();let e=new oi([...n.providers,{provide:to,useValue:this},{provide:ll,useValue:this.componentFactoryResolver}],n.parent||Yd(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function bi(t,n,e=null){return new ja({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var wI=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=tm(!1,e.type),o=r.length>0?bi([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=I({token:t,providedIn:"environment",factory:()=>new t(A(Le))})}return t})();function be(t){return hi(()=>{let n=ry(t),e=L(w({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Xm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?o=>o.get(wI).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ot.Emulated,styles:t.styles||Xe,_:null,schemas:t.schemas||null,tView:null,id:""});n.standalone&&Mn("NgStandalone"),oy(e);let r=t.dependencies;return e.directiveDefs=Ig(r,!1),e.pipeDefs=Ig(r,!0),e.id=II(e),e})}function DI(t){return Jn(t)||Fb(t)}function bI(t){return t!==null}function Vt(t){return hi(()=>({type:t.type,bootstrap:t.bootstrap||Xe,declarations:t.declarations||Xe,imports:t.imports||Xe,exports:t.exports||Xe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function CI(t,n){if(t==null)return Qn;let e={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],i,s,a,l;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,l=o[3]||null):(i=o,s=o,a=nl.None,l=null),e[i]=[r,a,l],n[i]=s}return e}function EI(t){if(t==null)return Qn;let n={};for(let e in t)t.hasOwnProperty(e)&&(n[t[e]]=e);return n}function te(t){return hi(()=>{let n=ry(t);return oy(n),n})}function Ct(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ry(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputConfig:t.inputs||Qn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Xe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:CI(t.inputs,n),outputs:EI(t.outputs),debugInfo:null}}function oy(t){t.features?.forEach(n=>n(t))}function Ig(t,n){if(!t)return null;let e=n?Lb:DI;return()=>(typeof t=="function"?t():t).map(r=>e(r)).filter(bI)}function II(t){let n=0,e=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,e,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of r.join("|"))n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function SI(t){return Object.getPrototypeOf(t.prototype).constructor}function Ge(t){let n=SI(t.type),e=!0,r=[t];for(;n;){let o;if(xt(t))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new E(903,!1);o=n.\u0275dir}if(o){if(e){r.push(o);let s=t;s.inputs=Vu(t.inputs),s.declaredInputs=Vu(t.declaredInputs),s.outputs=Vu(t.outputs);let a=o.hostBindings;a&&NI(t,a);let l=o.viewQuery,c=o.contentQueries;if(l&&xI(t,l),c&&AI(t,c),MI(t,o),gb(t.outputs,o.outputs),xt(o)&&o.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(t),a===Ge&&(e=!1)}}n=Object.getPrototypeOf(n)}TI(r)}function MI(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let r=n.inputs[e];r!==void 0&&(t.inputs[e]=r,t.declaredInputs[e]=n.declaredInputs[e])}}function TI(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){let o=t[r];o.hostVars=n+=o.hostVars,o.hostAttrs=ai(o.hostAttrs,e=ai(e,o.hostAttrs))}}function Vu(t){return t===Qn?{}:t===Xe?[]:t}function xI(t,n){let e=t.viewQuery;e?t.viewQuery=(r,o)=>{n(r,o),e(r,o)}:t.viewQuery=n}function AI(t,n){let e=t.contentQueries;e?t.contentQueries=(r,o,i)=>{n(r,o,i),e(r,o,i)}:t.contentQueries=n}function NI(t,n){let e=t.hostBindings;e?t.hostBindings=(r,o)=>{n(r,o),e(r,o)}:t.hostBindings=n}function iy(t){return OI(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function RI(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),r;for(;!(r=e.next()).done;)n(r.value)}}function OI(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Nf(t,n,e){return t[n]=e}function kI(t,n){return t[n]}function kt(t,n,e){let r=t[n];return Object.is(r,e)?!1:(t[n]=e,!0)}function sy(t,n,e,r){let o=kt(t,n,e);return kt(t,n+1,r)||o}function PI(t,n,e,r,o,i,s,a,l){let c=n.consts,u=xf(n,t,4,s||null,a||null);wm()&&Jv(n,e,u,Qr(c,l),kv),u.mergedAttrs=ai(u.mergedAttrs,u.attrs),Rm(n,u);let d=u.tView=vf(2,u,r,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}function Td(t,n,e,r,o,i,s,a,l,c){let u=e+Re,d=n.firstCreatePass?PI(u,n,t,r,o,i,s,a,l):n.data[u];vi(d,!1);let p=FI(n,t,d,e);nf()&&Sf(n,t,p,d),wi(p,t);let f=Gv(p,t,p,d);return t[u]=f,_f(t,f),yI(f,d,t),Qd(d)&&wf(n,t,d),l!=null&&Ov(t,d,c),d}function re(t,n,e,r,o,i,s,a){let l=z(),c=Te(),u=Qr(c.consts,i);return Td(l,c,t,n,e,r,o,u,s,a),re}var FI=LI;function LI(t,n,e,r){return rf(!0),n[fe].createComment("")}var Rf=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var ay=new S("");var jI=(()=>{class t{static \u0275prov=I({token:t,providedIn:"root",factory:()=>new xd})}return t})(),xd=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let e=n.zone,r=this.queues.get(e);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let e=n.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,e]of this.queues)n===null?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(let e of n)n.delete(e),this.queuedEffectCount--,e.run()}};function ir(t){return!!t&&typeof t.then=="function"}function ly(t){return!!t&&typeof t.subscribe=="function"}var cy=new S("");function Of(t){return gi([{provide:cy,multi:!0,useValue:t}])}var uy=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=y(cy,{optional:!0})??[];injector=y(qe);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let o of this.appInits){let i=tt(this.injector,o);if(ir(i))e.push(i);else if(ly(i)){let s=new Promise((a,l)=>{i.subscribe({complete:a,error:l})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(o=>{this.reject(o)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cl=new S("");function VI(){du(()=>{throw new E(600,!1)})}function $I(t){return t.isBoundToModule}var BI=10;var In=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=y(G0);afterRenderManager=y(lv);zonelessEnabled=y(Qa);rootEffectScheduler=y(jI);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ce;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=y(ao).hasPendingTasks.pipe(q(e=>!e));constructor(){y(co,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=y(Le);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){return this.bootstrapImpl(e,r)}bootstrapImpl(e,r,o=qe.NULL){Q(10);let i=e instanceof Yv;if(!this._injector.get(uy).done){let f="";throw new E(405,f)}let a;i?a=e:a=this._injector.get(ll).resolveComponentFactory(e),this.componentTypes.push(a.componentType);let l=$I(a)?void 0:this._injector.get(to),c=r||a.selector,u=a.create(o,[],c,l),d=u.location.nativeElement,p=u.injector.get(ay,null);return p?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),ma(this.components,u),p?.unregisterApplication(d)}),this._loadComponent(u),Q(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Q(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(df.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new E(101,!1);let e=j(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,j(e),this.afterTick.next(),Q(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Xr,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<BI;)Q(14),this.synchronizeOnce(),Q(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:o}of this.allViews)UI(r,o,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Za(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;ma(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(cl,[]).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>ma(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new E(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ma(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function UI(t,n,e,r){if(!e&&!Za(t))return;Uv(t,n,e&&!r?0:1)}function Ci(t,n,e,r){let o=z(),i=so();if(kt(o,i,n)){let s=Te(),a=Ya();rE(a,o,t,n,e,r)}return Ci}function dy(t,n,e,r){return kt(t,so(),e)?n+Kn(e)+r:nt}function HI(t,n,e,r,o,i){let s=h0(),a=sy(t,s,e,o);return Em(2),a?n+Kn(e)+r+Kn(o)+i:nt}function fa(t,n){return t<<17|n<<2}function or(t){return t>>17&32767}function zI(t){return(t&2)==2}function qI(t,n){return t&131071|n<<17}function Ad(t){return t|2}function no(t){return(t&131068)>>2}function $u(t,n){return t&-131069|n<<2}function GI(t){return(t&1)===1}function Nd(t){return t|1}function WI(t,n,e,r,o,i){let s=i?n.classBindings:n.styleBindings,a=or(s),l=no(s);t[r]=e;let c=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||pi(d,u)>0)&&(c=!0)}else u=e;if(o)if(l!==0){let p=or(t[a+1]);t[r+1]=fa(p,a),p!==0&&(t[p+1]=$u(t[p+1],r)),t[a+1]=qI(t[a+1],r)}else t[r+1]=fa(a,0),a!==0&&(t[a+1]=$u(t[a+1],r)),a=r;else t[r+1]=fa(l,0),a===0?a=r:t[l+1]=$u(t[l+1],r),l=r;c&&(t[r+1]=Ad(t[r+1])),Sg(t,u,r,!0),Sg(t,u,r,!1),ZI(n,u,t,r,i),s=fa(a,l),i?n.classBindings=s:n.styleBindings=s}function ZI(t,n,e,r,o){let i=o?t.residualClasses:t.residualStyles;i!=null&&typeof n=="string"&&pi(i,n)>=0&&(e[r+1]=Nd(e[r+1]))}function Sg(t,n,e,r){let o=t[e+1],i=n===null,s=r?or(o):no(o),a=!1;for(;s!==0&&(a===!1||i);){let l=t[s],c=t[s+1];KI(l,n)&&(a=!0,t[s+1]=r?Nd(c):Ad(c)),s=r?or(c):no(c)}a&&(t[e+1]=r?Ad(o):Nd(o))}function KI(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?pi(t,n)>=0:!1}function F(t,n,e){let r=z(),o=so();if(kt(r,o,n)){let i=Te(),s=Ya();Df(i,s,r,t,n,r[fe],e,!1)}return F}function Mg(t,n,e,r,o){bf(n,t,e,o?"class":"style",r)}function Ei(t,n,e){return fy(t,n,e,!1),Ei}function ul(t,n){return fy(t,n,null,!0),ul}function fy(t,n,e,r){let o=z(),i=Te(),s=Em(2);if(i.firstUpdatePass&&QI(i,t,s,r),n!==nt&&kt(o,s,n)){let a=i.data[Sn()];nS(i,a,o,o[fe],t,o[s+1]=rS(n,e),r,s)}}function YI(t,n){return n>=t.expandoStartIndex}function QI(t,n,e,r){let o=t.data;if(o[e+1]===null){let i=o[Sn()],s=YI(t,e);oS(i,r)&&n===null&&!s&&(n=!1),n=JI(o,i,n,r),WI(o,i,n,e,s,r)}}function JI(t,n,e,r){let o=y0(t),i=r?n.residualClasses:n.residualStyles;if(o===null)(r?n.classBindings:n.styleBindings)===0&&(e=Bu(null,t,n,e,r),e=fi(e,n.attrs,r),i=null);else{let s=n.directiveStylingLast;if(s===-1||t[s]!==o)if(e=Bu(o,t,n,e,r),i===null){let l=XI(t,n,r);l!==void 0&&Array.isArray(l)&&(l=Bu(null,t,n,l[1],r),l=fi(l,n.attrs,r),eS(t,n,r,l))}else i=tS(t,n,r)}return i!==void 0&&(r?n.residualClasses=i:n.residualStyles=i),e}function XI(t,n,e){let r=e?n.classBindings:n.styleBindings;if(no(r)!==0)return t[or(r)]}function eS(t,n,e,r){let o=e?n.classBindings:n.styleBindings;t[or(o)]=r}function tS(t,n,e){let r,o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++){let s=t[i].hostAttrs;r=fi(r,s,e)}return fi(r,n.attrs,e)}function Bu(t,n,e,r,o){let i=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(i=n[a],r=fi(r,i.hostAttrs,o),i!==t);)a++;return t!==null&&(e.directiveStylingLast=a),r}function fi(t,n,e){let r=e?1:2,o=-1;if(n!==null)for(let i=0;i<n.length;i++){let s=n[i];typeof s=="number"?o=s:o===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),kb(t,s,e?!0:n[++i]))}return t===void 0?null:t}function nS(t,n,e,r,o,i,s,a){if(!(n.type&3))return;let l=t.data,c=l[a+1],u=GI(c)?Tg(l,n,e,o,no(c),s):void 0;if(!Va(u)){Va(i)||zI(c)&&(i=Tg(l,null,e,o,a,s));let d=hm(Sn(),e);CE(r,s,d,o,i)}}function Tg(t,n,e,r,o,i){let s=n===null,a;for(;o>0;){let l=t[o],c=Array.isArray(l),u=c?l[1]:l,d=u===null,p=e[o+1];p===nt&&(p=d?Xe:void 0);let f=d?Nu(p,r):u===r?p:void 0;if(c&&!Va(f)&&(f=Nu(l,r)),Va(f)&&(a=f,s))return a;let g=t[o+1];o=s?or(g):no(g)}if(n!==null){let l=i?n.residualClasses:n.residualStyles;l!=null&&(a=Nu(l,r))}return a}function Va(t){return t!==void 0}function rS(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=Fe(wt(t)))),t}function oS(t,n){return(t.flags&(n?8:16))!==0}var Rd=class{destroy(n){}updateValue(n,e){}swap(n,e){let r=Math.min(n,e),o=Math.max(n,e),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(n,e){this.attach(e,this.detach(n))}};function Uu(t,n,e,r,o){return t===e&&Object.is(n,r)?1:Object.is(o(t,n),o(e,r))?-1:0}function iS(t,n,e){let r,o,i=0,s=t.length-1,a=void 0;if(Array.isArray(n)){let l=n.length-1;for(;i<=s&&i<=l;){let c=t.at(i),u=n[i],d=Uu(i,c,i,u,e);if(d!==0){d<0&&t.updateValue(i,u),i++;continue}let p=t.at(s),f=n[l],g=Uu(s,p,l,f,e);if(g!==0){g<0&&t.updateValue(s,f),s--,l--;continue}let _=e(i,c),C=e(s,p),x=e(i,u);if(Object.is(x,C)){let De=e(l,f);Object.is(De,_)?(t.swap(i,s),t.updateValue(s,f),l--,s--):t.move(s,i),t.updateValue(i,u),i++;continue}if(r??=new $a,o??=Ag(t,i,s,e),Od(t,r,i,x))t.updateValue(i,u),i++,s++;else if(o.has(x))r.set(_,t.detach(i)),s--;else{let De=t.create(i,n[i]);t.attach(i,De),i++,s++}}for(;i<=l;)xg(t,r,e,i,n[i]),i++}else if(n!=null){let l=n[Symbol.iterator](),c=l.next();for(;!c.done&&i<=s;){let u=t.at(i),d=c.value,p=Uu(i,u,i,d,e);if(p!==0)p<0&&t.updateValue(i,d),i++,c=l.next();else{r??=new $a,o??=Ag(t,i,s,e);let f=e(i,d);if(Od(t,r,i,f))t.updateValue(i,d),i++,s++,c=l.next();else if(!o.has(f))t.attach(i,t.create(i,d)),i++,s++,c=l.next();else{let g=e(i,u);r.set(g,t.detach(i)),s--}}}for(;!c.done;)xg(t,r,e,t.length,c.value),c=l.next()}for(;i<=s;)t.destroy(t.detach(s--));r?.forEach(l=>{t.destroy(l)})}function Od(t,n,e,r){return n!==void 0&&n.has(r)?(t.attach(e,n.get(r)),n.delete(r),!0):!1}function xg(t,n,e,r,o){if(Od(t,n,r,e(r,o)))t.updateValue(r,o);else{let i=t.create(r,o);t.attach(r,i)}}function Ag(t,n,e,r){let o=new Set;for(let i=n;i<=e;i++)o.add(r(i,t.at(i)));return o}var $a=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let e=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(n,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,e){if(this.kvMap.has(n)){let r=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,e)}else this.kvMap.set(n,e)}forEach(n){for(let[e,r]of this.kvMap)if(n(r,e),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),n(r,e)}}};function ae(t,n){Mn("NgControlFlow");let e=z(),r=so(),o=e[r]!==nt?e[r]:-1,i=o!==-1?Ba(e,Re+o):void 0,s=0;if(kt(e,r,t)){let a=j(null);try{if(i!==void 0&&Zv(i,s),t!==-1){let l=Re+t,c=Ba(e,l),u=Ld(e[$],l),d=di(c,u.tView.ssrId),p=rl(e,u,n,{dehydratedView:d});sl(c,p,s,li(u,d))}}finally{j(a)}}else if(i!==void 0){let a=Wv(i,s);a!==void 0&&(a[ye]=n)}}var kd=class{lContainer;$implicit;$index;constructor(n,e,r){this.lContainer=n,this.$implicit=e,this.$index=r}get $count(){return this.lContainer.length-Ae}};function fo(t){return t}var Pd=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,e,r){this.hasEmptyBlock=n,this.trackByFn=e,this.liveCollection=r}};function ho(t,n,e,r,o,i,s,a,l,c,u,d,p){Mn("NgControlFlow");let f=z(),g=Te(),_=l!==void 0,C=z(),x=a?s.bind(C[vt][ye]):s,De=new Pd(_,x);C[Re+t]=De,Td(f,g,t+1,n,e,r,o,Qr(g.consts,i)),_&&Td(f,g,t+2,l,c,u,d,Qr(g.consts,p))}var Fd=class extends Rd{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,e,r){super(),this.lContainer=n,this.hostLView=e,this.templateTNode=r}get length(){return this.lContainer.length-Ae}at(n){return this.getLView(n)[ye].$implicit}attach(n,e){let r=e[ii];this.needsIndexUpdate||=n!==this.length,sl(this.lContainer,e,n,li(this.templateTNode,r))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,sS(this.lContainer,n)}create(n,e){let r=di(this.lContainer,this.templateTNode.tView.ssrId),o=rl(this.hostLView,this.templateTNode,new kd(this.lContainer,e,n),{dehydratedView:r});return this.operationsCounter?.recordCreate(),o}destroy(n){ol(n[$],n),this.operationsCounter?.recordDestroy()}updateValue(n,e){this.getLView(n)[ye].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[ye].$index=n}getLView(n){return aS(this.lContainer,n)}};function po(t){let n=j(null),e=Sn();try{let r=z(),o=r[$],i=r[e],s=e+1,a=Ba(r,s);if(i.liveCollection===void 0){let c=Ld(o,s);i.liveCollection=new Fd(a,r,c)}else i.liveCollection.reset();let l=i.liveCollection;if(iS(l,t,i.trackByFn),l.updateIndexes(),i.hasEmptyBlock){let c=so(),u=l.length===0;if(kt(r,c,u)){let d=e+2,p=Ba(r,d);if(u){let f=Ld(o,d),g=di(p,f.tView.ssrId),_=rl(r,f,void 0,{dehydratedView:g});sl(p,_,0,li(f,g))}else Zv(p,0)}}}finally{j(n)}}function Ba(t,n){return t[n]}function sS(t,n){return ci(t,n)}function aS(t,n){return Wv(t,n)}function Ld(t,n){return Jd(t,n)}function v(t,n,e,r){let o=z(),i=Te(),s=Re+t,a=o[fe],l=i.firstCreatePass?ey(s,i,o,n,kv,wm(),e,r):i.data[s],c=lS(i,o,l,a,n,t);o[s]=c;let u=Qd(l);return vi(l,!0),Tv(a,c,l),!Pv(l)&&nf()&&Sf(i,o,c,l),(o0()===0||u)&&wi(c,o),i0(),u&&(wf(i,o,l),dv(i,l,o)),r!==null&&Ov(o,l),v}function m(){let t=je();bm()?d0():(t=t.parent,vi(t,!1));let n=t;l0(n)&&c0(),s0();let e=Te();return e.firstCreatePass&&ty(e,n),n.classesWithoutHost!=null&&E0(n)&&Mg(e,n,z(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&I0(n)&&Mg(e,n,z(),n.stylesWithoutHost,!1),m}function T(t,n,e,r){return v(t,n,e,r),m(),T}var lS=(t,n,e,r,o,i)=>(rf(!0),Sv(r,o,D0()));function rt(){return z()}var Ua="en-US";var cS=Ua;function uS(t){typeof t=="string"&&(cS=t.toLowerCase().replace(/_/g,"-"))}function Ng(t,n,e){return function r(o){if(o===Function)return e;let i=oo(t)?Nt(t.index,n):n;Tf(i,5);let s=n[ye],a=Rg(n,s,e,o),l=r.__ngNextListenerFn__;for(;l;)a=Rg(n,s,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function Rg(t,n,e,r){let o=j(null);try{return Q(6,n,e),e(r)!==!1}catch(i){return dS(t,i),!1}finally{Q(7,n,e),j(o)}}function dS(t,n){let e=t[Xn],r=e?e.get(Rt,null):null;r&&r.handleError(n)}function Og(t,n,e,r,o,i){let s=n[e],a=n[$],c=a.data[e].outputs[r],u=s[c],d=a.firstCreatePass?_m(a):null,p=ym(n),f=u.subscribe(i),g=p.length;p.push(i,f),d&&d.push(o,t.index,g,-(g+1))}var fS=new Map;function W(t,n,e,r){let o=z(),i=Te(),s=je();return hy(i,o,o[fe],s,t,n,r),W}function hS(t,n,e,r){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===e&&o[i+1]===r){let a=n[Ca],l=o[i+2];return a.length>l?a[l]:null}typeof s=="string"&&(i+=2)}return null}function hy(t,n,e,r,o,i,s){let a=Qd(r),c=t.firstCreatePass?_m(t):null,u=ym(n),d=!0;if(r.type&3||s){let p=Lt(r,n),f=s?s(p):p,g=u.length,_=s?x=>s(At(x[r.index])):r.index,C=null;if(!s&&a&&(C=hS(t,n,o,r.index)),C!==null){let x=C.__ngLastListenerFn__||C;x.__ngNextListenerFn__=i,C.__ngLastListenerFn__=i,d=!1}else{i=Ng(r,n,i);let x=n[Xn].get(Xa);fS.get(x)?.(f,o,i);let Me=e.listen(f,o,i);u.push(i,Me),c&&c.push(o,_,g,g+1)}}else i=Ng(r,n,i);if(d){let p=r.outputs?.[o],f=r.hostDirectiveOutputs?.[o];if(f&&f.length)for(let g=0;g<f.length;g+=2){let _=f[g],C=f[g+1];Og(r,n,_,C,o,i)}if(p&&p.length)for(let g of p)Og(r,n,g,o,o,i)}}function Z(t=1){return w0(t)}function kf(t,n,e){return py(t,"",n,"",e),kf}function py(t,n,e,r,o){let i=z(),s=dy(i,n,e,r);if(s!==nt){let a=Te(),l=Ya();Df(a,l,i,t,s,i[fe],o,!1)}return py}function pS(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}function gy(t){let n=f0();return pm(n,Re+t)}function b(t,n=""){let e=z(),r=Te(),o=t+Re,i=r.firstCreatePass?xf(r,o,1,n,null):r.data[o],s=gS(r,e,i,n,t);e[o]=s,nf()&&Sf(r,e,s,i),vi(i,!1)}var gS=(t,n,e,r,o)=>(rf(!0),BC(n[fe],r));function xn(t){return dl("",t,""),xn}function dl(t,n,e){let r=z(),o=dy(r,t,n,e);return o!==nt&&my(r,Sn(),o),dl}function fl(t,n,e,r,o){let i=z(),s=HI(i,t,n,e,r,o);return s!==nt&&my(i,Sn(),s),fl}function my(t,n,e){let r=hm(n,t);UC(t[fe],r,e)}function Ii(t,n,e){Qm(n)&&(n=n());let r=z(),o=so();if(kt(r,o,n)){let i=Te(),s=Ya();Df(i,s,r,t,n,r[fe],e,!1)}return Ii}function hl(t,n){let e=Qm(t);return e&&t.set(n),e}function Si(t,n){let e=z(),r=Te(),o=je();return hy(r,e,e[fe],o,t,n),Si}function mS(t,n,e){let r=Te();if(r.firstCreatePass){let o=xt(t);jd(e,r.data,r.blueprint,o,!0),jd(n,r.data,r.blueprint,o,!1)}}function jd(t,n,e,r,o){if(t=xe(t),Array.isArray(t))for(let i=0;i<t.length;i++)jd(t[i],n,e,r,o);else{let i=Te(),s=z(),a=je(),l=Zr(t)?t:xe(t.provide),c=om(t),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(Zr(t)||!t.multi){let f=new rr(c,o,D),g=zu(l,n,o?u:u+p,d);g===-1?(nd(Na(a,s),i,l),Hu(i,t,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(f),s.push(f)):(e[g]=f,s[g]=f)}else{let f=zu(l,n,u+p,d),g=zu(l,n,u,u+p),_=f>=0&&e[f],C=g>=0&&e[g];if(o&&!C||!o&&!_){nd(Na(a,s),i,l);let x=_S(o?yS:vS,e.length,o,r,c);!o&&C&&(e[g].providerFactory=x),Hu(i,t,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(x),s.push(x)}else{let x=vy(e[o?g:f],c,!o&&r);Hu(i,t,f>-1?f:g,x)}!o&&r&&C&&e[g].componentProviders++}}}function Hu(t,n,e,r){let o=Zr(n),i=Ub(n);if(o||i){let l=(i?xe(n.useClass):n).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!o&&n.multi){let u=c.indexOf(e);u===-1?c.push(e,[r,l]):c[u+1].push(r,l)}else c.push(e,l)}}}function vy(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function zu(t,n,e,r){for(let o=e;o<r;o++)if(n[o]===t)return o;return-1}function vS(t,n,e,r){return Vd(this.multi,[])}function yS(t,n,e,r){let o=this.multi,i;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ra(e,e[$],this.providerFactory.index,r);i=a.slice(0,s),Vd(o,i);for(let l=s;l<a.length;l++)i.push(a[l])}else i=[],Vd(o,i);return i}function Vd(t,n){for(let e=0;e<t.length;e++){let r=t[e];n.push(r())}return n}function _S(t,n,e,r,o){let i=new rr(t,e,D);return i.multi=[],i.index=n,i.componentProviders=0,vy(i,o,r&&!e),i}function fn(t,n=[]){return e=>{e.providersResolver=(r,o)=>mS(r,o?o(t):t,n)}}function An(t,n,e){let r=Ka()+t,o=z();return o[r]===nt?Nf(o,r,e?n.call(e):n()):kI(o,r)}function $t(t,n,e,r){return wy(z(),Ka(),t,n,e,r)}function yy(t,n,e,r,o){return wS(z(),Ka(),t,n,e,r,o)}function _y(t,n){let e=t[n];return e===nt?void 0:e}function wy(t,n,e,r,o,i){let s=n+e;return kt(t,s,o)?Nf(t,s+1,i?r.call(i,o):r(o)):_y(t,s+1)}function wS(t,n,e,r,o,i,s){let a=n+e;return sy(t,a,o,i)?Nf(t,a+2,s?r.call(s,o,i):r(o,i)):_y(t,a+2)}function ot(t,n){let e=Te(),r,o=t+Re;e.firstCreatePass?(r=DS(n,e.pipeRegistry),e.data[o]=r,r.onDestroy&&(e.destroyHooks??=[]).push(o,r.onDestroy)):r=e.data[o];let i=r.factory||(r.factory=Yn(r.type,!0)),s,a=Pe(D);try{let l=Aa(!1),c=i();return Aa(l),pS(e,z(),o,c),c}finally{Pe(a)}}function DS(t,n){if(n)for(let e=n.length-1;e>=0;e--){let r=n[e];if(t===r.name)return r}}function it(t,n,e){let r=t+Re,o=z(),i=pm(o,r);return bS(o,r)?wy(o,Ka(),n,i.transform,e,i):i.transform(e)}function bS(t,n){return t[$].data[n].pure}var $d=class{ngModuleFactory;componentFactories;constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},Dy=(()=>{class t{compileModuleSync(e){return new Md(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),o=em(e),i=Ev(o.declarations).reduce((s,a)=>{let l=Jn(a);return l&&s.push(new eo(l)),s},[]);return new $d(r,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var CS=(()=>{class t{zone=y(oe);changeDetectionScheduler=y(Jr);applicationRef=y(In);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ES=new S("",{factory:()=>!1});function by({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new oe(L(w({},Ey()),{scheduleInRootZone:e})),[{provide:oe,useFactory:t},{provide:Wr,multi:!0,useFactory:()=>{let r=y(CS,{optional:!0});return()=>r.initialize()}},{provide:Wr,multi:!0,useFactory:()=>{let r=y(IS);return()=>{r.initialize()}}},n===!0?{provide:Gm,useValue:!0}:[],{provide:Wm,useValue:e??qm}]}function Cy(t){let n=t?.ignoreChangesOutsideZone,e=t?.scheduleInRootZone,r=by({ngZoneFactory:()=>{let o=Ey(t);return o.scheduleInRootZone=e,o.shouldCoalesceEventChangeDetection&&Mn("NgZone_CoalesceEvent"),new oe(o)},ignoreChangesOutsideZone:n,scheduleInRootZone:e});return gi([{provide:ES,useValue:!0},{provide:Qa,useValue:!1},r])}function Ey(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var IS=(()=>{class t{subscription=new le;initialized=!1;zone=y(oe);pendingTasks=y(ao);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{oe.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{oe.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var SS=(()=>{class t{appRef=y(In);taskService=y(ao);ngZone=y(oe);zonelessEnabled=y(Qa);tracing=y(co,{optional:!0});disableScheduling=y(Gm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new le;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ka):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(Wm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ad||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?ig:Zm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ka+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ig(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function MS(){return typeof $localize<"u"&&$localize.locale||Ua}var Pf=new S("",{providedIn:"root",factory:()=>y(Pf,V.Optional|V.SkipSelf)||MS()});var Bd=new S(""),TS=new S("");function ei(t){return!t.moduleRef}function xS(t){let n=ei(t)?t.r3Injector:t.moduleRef.injector,e=n.get(oe);return e.run(()=>{ei(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=n.get(Rt,null),o;if(e.runOutsideAngular(()=>{o=e.onError.subscribe({next:i=>{r.handleError(i)}})}),ei(t)){let i=()=>n.destroy(),s=t.platformInjector.get(Bd);s.add(i),n.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Bd);s.add(i),t.moduleRef.onDestroy(()=>{ma(t.allPlatformModules,t.moduleRef),o.unsubscribe(),s.delete(i)})}return NS(r,e,()=>{let i=n.get(uy);return i.runInitializers(),i.donePromise.then(()=>{let s=n.get(Pf,Ua);if(uS(s||Ua),!n.get(TS,!0))return ei(t)?n.get(In):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ei(t)){let l=n.get(In);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return AS(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function AS(t,n){let e=t.injector.get(In);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new E(-403,!1);n.push(t)}function NS(t,n,e){try{let r=e();return ir(r)?r.catch(o=>{throw n.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}var va=null;function RS(t=[],n){return qe.create({name:n,providers:[{provide:Ga,useValue:"platform"},{provide:Bd,useValue:new Set([()=>va=null])},...t]})}function OS(t=[]){if(va)return va;let n=RS(t);return va=n,VI(),kS(n),n}function kS(t){let n=t.get(cf,null);tt(t,()=>{n?.forEach(e=>e())})}var hn=(()=>{class t{static __NG_ELEMENT_ID__=PS}return t})();function PS(t){return FS(je(),z(),(t&16)===16)}function FS(t,n,e){if(oo(t)&&!e){let r=Nt(t.index,n);return new ui(r,r)}else if(t.type&175){let r=n[vt];return new ui(r,n)}return null}var Ud=class{constructor(){}supports(n){return iy(n)}create(n){return new Hd(n)}},LS=(t,n)=>n,Hd=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||LS}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,o=0,i=null;for(;e||r;){let s=!r||e&&e.currentIndex<kg(r,o,i)?e:r,a=kg(s,o,i),l=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)o++;else{i||(i=[]);let c=a-o,u=l-o;if(c!=u){for(let p=0;p<c;p++){let f=p<i.length?i[p]:i[p]=0,g=f+p;u<=g&&g<c&&(i[p]=f+1)}let d=s.previousIndex;i[d]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!iy(n))throw new E(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,r=!1,o,i,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)i=n[a],s=this._trackByFn(a,i),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,i,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,i,s,a)),Object.is(e.item,i)||this._addIdentityChange(e,i)),e=e._next}else o=0,RI(n,a=>{s=this._trackByFn(o,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,o),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,o){let i;return n===null?i=this._itTail:(i=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,i,o)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,o),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,i,o)):n=this._addAfter(new zd(e,r),i,o)),n}_verifyReinsertion(n,e,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?n=this._reinsertAfter(i,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let o=n._prevRemoved,i=n._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){let o=e===null?this._itHead:e._next;return n._next=o,n._prev=e,o===null?this._itTail=n:o._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new Ha),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,r=n._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ha),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},zd=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,e){this.item=n,this.trackById=e}},qd=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let e=n._prevDup,r=n._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},Ha=class{map=new Map;put(n){let e=n.trackById,r=this.map.get(e);r||(r=new qd,this.map.set(e,r)),r.add(n)}get(n,e){let r=n,o=this.map.get(r);return o?o.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function kg(t,n,e){let r=t.previousIndex;if(r===null)return r;let o=0;return e&&r<e.length&&(o=e[r]),r+n+o}function Pg(){return new Ff([new Ud])}var Ff=(()=>{class t{factories;static \u0275prov=I({token:t,providedIn:"root",factory:Pg});constructor(e){this.factories=e}static create(e,r){if(r!=null){let o=r.factories.slice();e=e.concat(o)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||Pg()),deps:[[t,new Rb,new Yg]]}}find(e){let r=this.factories.find(o=>o.supports(e));if(r!=null)return r;throw new E(901,!1)}}return t})();function Iy(t){Q(8);try{let{rootComponent:n,appProviders:e,platformProviders:r}=t,o=OS(r),i=[by({}),{provide:Jr,useExisting:SS},...e||[]],s=new ja({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return xS({r3Injector:s.injector,platformInjector:o,rootComponent:n})}catch(n){return Promise.reject(n)}finally{Q(9)}}function sr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function pn(t){return pu(t)}function Mi(t,n){return uu(t,n?.equal)}var Fg=class{[Qe];constructor(n){this[Qe]=n}destroy(){this[Qe].destroy()}};function Sy(t){let n=Jn(t);if(!n)return null;let e=new eo(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var _e=new S("");var xy=null;function st(){return xy}function Lf(t){xy??=t}var Ti=class{},xi=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:()=>y(Ay),providedIn:"platform"})}return t})(),jf=new S(""),Ay=(()=>{class t extends xi{_location;_history;_doc=y(_e);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return st().getBaseHref(this._doc)}onPopState(e){let r=st().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=st().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,o){this._history.pushState(e,r,o)}replaceState(e,r,o){this._history.replaceState(e,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function pl(t,n){return t?n?t.endsWith("/")?n.startsWith("/")?t+n.slice(1):t+n:n.startsWith("/")?t+n:`${t}/${n}`:t:n}function My(t){let n=t.search(/#|\?|$/);return t[n-1]==="/"?t.slice(0,n-1)+t.slice(n):t}function Et(t){return t&&t[0]!=="?"?`?${t}`:t}var It=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:()=>y(ml),providedIn:"root"})}return t})(),gl=new S(""),ml=(()=>{class t extends It{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(_e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return pl(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+Et(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,i){let s=this.prepareExternalUrl(o+Et(i));this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){let s=this.prepareExternalUrl(o+Et(i));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(A(xi),A(gl,8))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Nn=(()=>{class t{_subject=new ce;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=$S(My(Ty(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Et(r))}normalize(e){return t.stripTrailingSlash(VS(this._basePath,Ty(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Et(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Et(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Et;static joinWithSlash=pl;static stripTrailingSlash=My;static \u0275fac=function(r){return new(r||t)(A(It))};static \u0275prov=I({token:t,factory:()=>jS(),providedIn:"root"})}return t})();function jS(){return new Nn(A(It))}function VS(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function Ty(t){return t.replace(/\/index.html$/,"")}function $S(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var Vf=(()=>{class t extends It{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=pl(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,i){let s=this.prepareExternalUrl(o+Et(i))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){let s=this.prepareExternalUrl(o+Et(i))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(A(xi),A(gl,8))};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})();var vl=class{$implicit;ngForOf;index;count;constructor(n,e,r,o){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},_l=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new vl(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),Ny(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);Ny(i,o)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(D(uo),D(al),D(Ff))};static \u0275dir=te({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Ny(t,n){t.context.$implicit=n.item}var Ai=(()=>{class t{_viewContainer;_context=new yl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ry(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ry(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(D(uo),D(al))};static \u0275dir=te({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),yl=class{$implicit=null;ngIf=null};function Ry(t,n){if(t&&!t.createEmbeddedView)throw new E(2020,!1)}var Rn=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Vt({type:t});static \u0275inj=Pt({})}return t})();function $f(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let r=e.indexOf("="),[o,i]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}var Bf="browser",Oy="server";function wl(t){return t===Oy}var Ni=class{};var Py=(()=>{class t{static \u0275prov=I({token:t,providedIn:"root",factory:()=>new Uf(y(_e),window)})}return t})(),Uf=class{document;window;offset=()=>[0,0];constructor(n,e){this.document=n,this.window=e}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let e=BS(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}};function BS(t,n){let e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(n)||i.querySelector(`[name="${n}"]`);if(s)return s}o=r.nextNode()}}return null}var El=new S(""),Gf=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,o,i){return this._findPluginFor(r).addEventListener(e,r,o,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(i=>i.supports(e)),!r)throw new E(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||t)(A(El),A(oe))};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})(),Ri=class{_doc;constructor(n){this._doc=n}manager},bl="ng-app-id";function Fy(t){for(let n of t)n.remove()}function Ly(t,n){let e=n.createElement("style");return e.textContent=t,e}function US(t,n,e,r){let o=t.head?.querySelectorAll(`style[${bl}="${n}"],link[${bl}="${n}"]`);if(o)for(let i of o)i.removeAttribute(bl),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&e.set(i.textContent,{usage:0,elements:[i]})}function zf(t,n){let e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var Wf=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,o,i={}){this.doc=e,this.appId=r,this.nonce=o,this.isServer=wl(i),US(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let o of e)this.addUsage(o,this.inline,Ly);r?.forEach(o=>this.addUsage(o,this.external,zf))}removeStyles(e,r){for(let o of e)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,r,o){let i=r.get(e);i?i.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(e,this.doc)))})}removeUsage(e,r){let o=r.get(e);o&&(o.usage--,o.usage<=0&&(Fy(o.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Fy(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(e,Ly(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(e,zf(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(bl,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||t)(A(_e),A(Xa),A(uf,8),A(lo))};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})(),Hf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zf=/%COMP%/g;var Vy="%COMP%",HS=`_nghost-${Vy}`,zS=`_ngcontent-${Vy}`,qS=!0,GS=new S("",{providedIn:"root",factory:()=>qS});function WS(t){return zS.replace(Zf,t)}function ZS(t){return HS.replace(Zf,t)}function $y(t,n){return n.map(e=>e.replace(Zf,t))}var Kf=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,o,i,s,a,l,c=null,u=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=wl(a),this.defaultRenderer=new Oi(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ot.ShadowDom&&(r=L(w({},r),{encapsulation:Ot.Emulated}));let o=this.getOrCreateRenderer(e,r);return o instanceof Cl?o.applyToHost(e):o instanceof ki&&o.applyStyles(),o}getOrCreateRenderer(e,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case Ot.Emulated:i=new Cl(l,c,r,this.appId,u,s,a,d,p);break;case Ot.ShadowDom:return new qf(l,c,e,r,s,a,this.nonce,d,p);default:i=new ki(l,c,r,u,s,a,d,p);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||t)(A(Gf),A(Wf),A(Xa),A(GS),A(_e),A(lo),A(oe),A(uf),A(co,8))};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})(),Oi=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,r,o,i){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(Hf[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(jy(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(jy(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){e.remove()}selectRootElement(n,e){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new E(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,o){if(o){e=o+":"+e;let i=Hf[o];i?n.setAttributeNS(i,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){let o=Hf[r];o?n.removeAttributeNS(o,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,o){o&(sn.DashCase|sn.Important)?n.style.setProperty(e,r,o&sn.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&sn.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n!=null&&(n[e]=r)}setValue(n,e){n.nodeValue=e}listen(n,e,r,o){if(typeof n=="string"&&(n=st().getGlobalEventTarget(this.doc,n),!n))throw new E(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(n,e,i)),this.eventManager.addEventListener(n,e,i,o)}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function jy(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var qf=class extends Oi{sharedStylesHost;hostEl;shadowRoot;constructor(n,e,r,o,i,s,a,l,c){super(n,i,s,l,c),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=o.styles;u=$y(o.id,u);for(let p of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=p,this.shadowRoot.appendChild(f)}let d=o.getExternalStyles?.();if(d)for(let p of d){let f=zf(p,i);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ki=class extends Oi{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,r,o,i,s,a,l,c){super(n,i,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=c?$y(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Cl=class extends ki{contentAttr;hostAttr;constructor(n,e,r,o,i,s,a,l,c){let u=o+"-"+r.id;super(n,e,r,i,s,a,l,c,u),this.contentAttr=WS(u),this.hostAttr=ZS(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}};var Il=class t extends Ti{supportsDOMEvents=!0;static makeCurrent(){Lf(new t)}onAndCancel(n,e,r,o){return n.addEventListener(e,r,o),()=>{n.removeEventListener(e,r,o)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=KS();return e==null?null:YS(e)}resetBaseElement(){Pi=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return $f(document.cookie,n)}},Pi=null;function KS(){return Pi=Pi||document.querySelector("base"),Pi?Pi.getAttribute("href"):null}function YS(t){return new URL(t,document.baseURI).pathname}var QS=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})(),Uy=(()=>{class t extends Ri{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o,i){return e.addEventListener(r,o,i),()=>this.removeEventListener(e,r,o,i)}removeEventListener(e,r,o,i){return e.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||t)(A(_e))};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})(),By=["alt","control","meta","shift"],JS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XS={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Hy=(()=>{class t extends Ri{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,r,o,i){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>st().onAndCancel(e,s.domEventName,a,i))}static parseEventName(e){let r=e.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),By.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=i,r.length!=0||i.length===0)return null;let l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let o=JS[e.key]||e.key,i="";return r.indexOf("code.")>-1&&(o=e.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),By.forEach(s=>{if(s!==o){let a=XS[s];a(e)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(e,r,o){return i=>{t.matchEventFullKeyCode(i,e)&&o.runGuarded(()=>r(i))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||t)(A(_e))};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})();function Yf(t,n){return Iy(w({rootComponent:t},eM(n)))}function eM(t){return{appProviders:[...iM,...t?.providers??[]],platformProviders:oM}}function tM(){Il.makeCurrent()}function nM(){return new Rt}function rM(){return ov(document),document}var oM=[{provide:lo,useValue:Bf},{provide:cf,useValue:tM,multi:!0},{provide:_e,useFactory:rM}];var iM=[{provide:Ga,useValue:"root"},{provide:Rt,useFactory:nM},{provide:El,useClass:Uy,multi:!0,deps:[_e]},{provide:El,useClass:Hy,multi:!0,deps:[_e]},Kf,Wf,Gf,{provide:Xr,useExisting:Kf},{provide:Ni,useClass:QS},[]];var zy=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||t)(A(_e))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Fi=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:function(r){let o=null;return r?o=new(r||t):o=A(sM),o},providedIn:"root"})}return t})(),sM=(()=>{class t extends Fi{_doc;constructor(e){super(),this._doc=e}sanitize(e,r){if(r==null)return null;switch(e){case Dt.NONE:return r;case Dt.HTML:return un(r,"HTML")?wt(r):hf(this._doc,String(r)).toString();case Dt.STYLE:return un(r,"Style")?wt(r):r;case Dt.SCRIPT:if(un(r,"Script"))return wt(r);throw new E(5200,!1);case Dt.URL:return un(r,"URL")?wt(r):tl(String(r));case Dt.RESOURCE_URL:if(un(r,"ResourceURL"))return wt(r);throw new E(5201,!1);default:throw new E(5202,!1)}}bypassSecurityTrustHtml(e){return hv(e)}bypassSecurityTrustStyle(e){return pv(e)}bypassSecurityTrustScript(e){return gv(e)}bypassSecurityTrustUrl(e){return mv(e)}bypassSecurityTrustResourceUrl(e){return vv(e)}static \u0275fac=function(r){return new(r||t)(A(_e))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var P="primary",Ki=Symbol("RouteTitle"),nh=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function cr(t){return new nh(t)}function Jy(t,n,e){let r=e.path.split("/");if(r.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||r.length<t.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=t[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function aM(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Bt(t[e],n[e]))return!1;return!0}function Bt(t,n){let e=t?rh(t):void 0,r=n?rh(n):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!Xy(t[o],n[o]))return!1;return!0}function rh(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Xy(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),r=[...n].sort();return e.every((o,i)=>r[i]===o)}else return t===n}function e_(t){return t.length>0?t[t.length-1]:null}function Ln(t){return Iu(t)?t:ir(t)?ee(Promise.resolve(t)):N(t)}var lM={exact:n_,subset:r_},t_={exact:cM,subset:uM,ignored:()=>!0};function qy(t,n,e){return lM[e.paths](t.root,n.root,e.matrixParams)&&t_[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function cM(t,n){return Bt(t,n)}function n_(t,n,e){if(!ar(t.segments,n.segments)||!Tl(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!t.children[r]||!n_(t.children[r],n.children[r],e))return!1;return!0}function uM(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>Xy(t[e],n[e]))}function r_(t,n,e){return o_(t,n,n.segments,e)}function o_(t,n,e,r){if(t.segments.length>e.length){let o=t.segments.slice(0,e.length);return!(!ar(o,e)||n.hasChildren()||!Tl(o,e,r))}else if(t.segments.length===e.length){if(!ar(t.segments,e)||!Tl(t.segments,e,r))return!1;for(let o in n.children)if(!t.children[o]||!r_(t.children[o],n.children[o],r))return!1;return!0}else{let o=e.slice(0,t.segments.length),i=e.slice(t.segments.length);return!ar(t.segments,o)||!Tl(t.segments,o,r)||!t.children[P]?!1:o_(t.children[P],n,i,r)}}function Tl(t,n,e){return n.every((r,o)=>t_[e](t[o].parameters,r.parameters))}var Ht=class{root;queryParams;fragment;_queryParamMap;constructor(n=new K([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=cr(this.queryParams),this._queryParamMap}toString(){return hM.serialize(this)}},K=class{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xl(this)}},On=class{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=cr(this.parameters),this._parameterMap}toString(){return s_(this)}};function dM(t,n){return ar(t,n)&&t.every((e,r)=>Bt(e.parameters,n[r].parameters))}function ar(t,n){return t.length!==n.length?!1:t.every((e,r)=>e.path===n[r].path)}function fM(t,n){let e=[];return Object.entries(t.children).forEach(([r,o])=>{r===P&&(e=e.concat(n(o,r)))}),Object.entries(t.children).forEach(([r,o])=>{r!==P&&(e=e.concat(n(o,r)))}),e}var ur=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:()=>new kn,providedIn:"root"})}return t})(),kn=class{parse(n){let e=new ih(n);return new Ht(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${Li(n.root,!0)}`,r=mM(n.queryParams),o=typeof n.fragment=="string"?`#${pM(n.fragment)}`:"";return`${e}${r}${o}`}},hM=new kn;function xl(t){return t.segments.map(n=>s_(n)).join("/")}function Li(t,n){if(!t.hasChildren())return xl(t);if(n){let e=t.children[P]?Li(t.children[P],!1):"",r=[];return Object.entries(t.children).forEach(([o,i])=>{o!==P&&r.push(`${o}:${Li(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=fM(t,(r,o)=>o===P?[Li(t.children[P],!1)]:[`${o}:${Li(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[P]!=null?`${xl(t)}/${e[0]}`:`${xl(t)}/(${e.join("//")})`}}function i_(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sl(t){return i_(t).replace(/%3B/gi,";")}function pM(t){return encodeURI(t)}function oh(t){return i_(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Al(t){return decodeURIComponent(t)}function Gy(t){return Al(t.replace(/\+/g,"%20"))}function s_(t){return`${oh(t.path)}${gM(t.parameters)}`}function gM(t){return Object.entries(t).map(([n,e])=>`;${oh(n)}=${oh(e)}`).join("")}function mM(t){let n=Object.entries(t).map(([e,r])=>Array.isArray(r)?r.map(o=>`${Sl(e)}=${Sl(o)}`).join("&"):`${Sl(e)}=${Sl(r)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var vM=/^[^\/()?;#]+/;function Jf(t){let n=t.match(vM);return n?n[0]:""}var yM=/^[^\/()?;=#]+/;function _M(t){let n=t.match(yM);return n?n[0]:""}var wM=/^[^=?&#]+/;function DM(t){let n=t.match(wM);return n?n[0]:""}var bM=/^[^&#]+/;function CM(t){let n=t.match(bM);return n?n[0]:""}var ih=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new K([],{}):new K([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[P]=new K(n,e)),r}parseSegment(){let n=Jf(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(n),new On(Al(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=_M(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let o=Jf(this.remaining);o&&(r=o,this.capture(r))}n[Al(e)]=Al(r)}parseQueryParam(n){let e=DM(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=CM(this.remaining);s&&(r=s,this.capture(r))}let o=Gy(e),i=Gy(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Jf(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new E(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=P);let s=this.parseChildren();e[i]=Object.keys(s).length===1?s[P]:new K([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new E(4011,!1)}};function a_(t){return t.segments.length>0?new K([],{[P]:t}):t}function l_(t){let n={};for(let[r,o]of Object.entries(t.children)){let i=l_(o);if(r===P&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))n[s]=a;else(i.segments.length>0||i.hasChildren())&&(n[r]=i)}let e=new K(t.segments,n);return EM(e)}function EM(t){if(t.numberOfChildren===1&&t.children[P]){let n=t.children[P];return new K(t.segments.concat(n.segments),n.children)}return t}function Pn(t){return t instanceof Ht}function c_(t,n,e=null,r=null){let o=u_(t);return d_(o,n,e,r)}function u_(t){let n;function e(i){let s={};for(let l of i.children){let c=e(l);s[l.outlet]=c}let a=new K(i.url,s);return i===t&&(n=a),a}let r=e(t.root),o=a_(r);return n??o}function d_(t,n,e,r){let o=t;for(;o.parent;)o=o.parent;if(n.length===0)return Xf(o,o,o,e,r);let i=IM(n);if(i.toRoot())return Xf(o,o,new K([],{}),e,r);let s=SM(i,o,t),a=s.processChildren?Vi(s.segmentGroup,s.index,i.commands):h_(s.segmentGroup,s.index,i.commands);return Xf(o,s.segmentGroup,a,e,r)}function Rl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Bi(t){return typeof t=="object"&&t!=null&&t.outlets}function Xf(t,n,e,r,o){let i={};r&&Object.entries(r).forEach(([l,c])=>{i[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===n?s=e:s=f_(t,n,e);let a=a_(l_(s));return new Ht(a,i,o)}function f_(t,n,e){let r={};return Object.entries(t.children).forEach(([o,i])=>{i===n?r[o]=e:r[o]=f_(i,n,e)}),new K(t.segments,r)}var Ol=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Rl(r[0]))throw new E(4003,!1);let o=r.find(Bi);if(o&&o!==e_(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function IM(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ol(!0,0,t);let n=0,e=!1,r=t.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?n++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Ol(e,n,r)}var vo=class{segmentGroup;processChildren;index;constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}};function SM(t,n,e){if(t.isAbsolute)return new vo(n,!0,0);if(!e)return new vo(n,!1,NaN);if(e.parent===null)return new vo(e,!0,0);let r=Rl(t.commands[0])?0:1,o=e.segments.length-1+r;return MM(e,o,t.numberOfDoubleDots)}function MM(t,n,e){let r=t,o=n,i=e;for(;i>o;){if(i-=o,r=r.parent,!r)throw new E(4005,!1);o=r.segments.length}return new vo(r,!1,o-i)}function TM(t){return Bi(t[0])?t[0].outlets:{[P]:t}}function h_(t,n,e){if(t??=new K([],{}),t.segments.length===0&&t.hasChildren())return Vi(t,n,e);let r=xM(t,n,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let i=new K(t.segments.slice(0,r.pathIndex),{});return i.children[P]=new K(t.segments.slice(r.pathIndex),t.children),Vi(i,0,o)}else return r.match&&o.length===0?new K(t.segments,{}):r.match&&!t.hasChildren()?sh(t,n,e):r.match?Vi(t,0,o):sh(t,n,e)}function Vi(t,n,e){if(e.length===0)return new K(t.segments,{});{let r=TM(e),o={};if(Object.keys(r).some(i=>i!==P)&&t.children[P]&&t.numberOfChildren===1&&t.children[P].segments.length===0){let i=Vi(t.children[P],n,e);return new K(t.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=h_(t.children[i],n,s))}),Object.entries(t.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new K(t.segments,o)}}function xM(t,n,e){let r=0,o=n,i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=e.length)return i;let s=t.segments[o],a=e[r];if(Bi(a))break;let l=`${a}`,c=r<e.length-1?e[r+1]:null;if(o>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Zy(l,c,s))return i;r+=2}else{if(!Zy(l,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function sh(t,n,e){let r=t.segments.slice(0,n),o=0;for(;o<e.length;){let i=e[o];if(Bi(i)){let l=AM(i.outlets);return new K(r,l)}if(o===0&&Rl(e[0])){let l=t.segments[n];r.push(new On(l.path,Wy(e[0]))),o++;continue}let s=Bi(i)?i.outlets[P]:`${i}`,a=o<e.length-1?e[o+1]:null;s&&a&&Rl(a)?(r.push(new On(s,Wy(a))),o+=2):(r.push(new On(s,{})),o++)}return new K(r,{})}function AM(t){let n={};return Object.entries(t).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[e]=sh(new K([],{}),0,r))}),n}function Wy(t){let n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function Zy(t,n,e){return t==e.path&&Bt(n,e.parameters)}var Nl="imperative",we=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(we||{}),Ze=class{id;url;constructor(n,e){this.id=n,this.url=e}},Fn=class extends Ze{type=we.NavigationStart;navigationTrigger;restoredState;constructor(n,e,r="imperative",o=null){super(n,e),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},at=class extends Ze{urlAfterRedirects;type=we.NavigationEnd;constructor(n,e,r){super(n,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ve=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ve||{}),_o=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(_o||{}),Ut=class extends Ze{reason;code;type=we.NavigationCancel;constructor(n,e,r,o){super(n,e),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},zt=class extends Ze{reason;code;type=we.NavigationSkipped;constructor(n,e,r,o){super(n,e),this.reason=r,this.code=o}},wo=class extends Ze{error;target;type=we.NavigationError;constructor(n,e,r,o){super(n,e),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ui=class extends Ze{urlAfterRedirects;state;type=we.RoutesRecognized;constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kl=class extends Ze{urlAfterRedirects;state;type=we.GuardsCheckStart;constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pl=class extends Ze{urlAfterRedirects;state;shouldActivate;type=we.GuardsCheckEnd;constructor(n,e,r,o,i){super(n,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Fl=class extends Ze{urlAfterRedirects;state;type=we.ResolveStart;constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ll=class extends Ze{urlAfterRedirects;state;type=we.ResolveEnd;constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jl=class{route;type=we.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Vl=class{route;type=we.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},$l=class{snapshot;type=we.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bl=class{snapshot;type=we.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ul=class{snapshot;type=we.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hl=class{snapshot;type=we.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Do=class{routerEvent;position;anchor;type=we.Scroll;constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Hi=class{},bo=class{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function NM(t,n){return t.providers&&!t._injector&&(t._injector=bi(t.providers,n,`Route: ${t.path}`)),t._injector??n}function St(t){return t.outlet||P}function RM(t,n){let e=t.filter(r=>St(r)===n);return e.push(...t.filter(r=>St(r)!==n)),e}function Yi(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var zl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Yi(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new dr(this.rootInjector)}},dr=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new zl(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||t)(A(Le))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ql=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=ah(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){let e=ah(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=lh(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return lh(n,this._root).map(e=>e.value)}};function ah(t,n){if(t===n.value)return n;for(let e of n.children){let r=ah(t,e);if(r)return r}return null}function lh(t,n){if(t===n.value)return[n];for(let e of n.children){let r=lh(t,e);if(r.length)return r.unshift(n),r}return[]}var We=class{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function mo(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var zi=class extends ql{snapshot;constructor(n,e){super(n),this.snapshot=e,mh(this,n)}toString(){return this.snapshot.toString()}};function p_(t){let n=OM(t),e=new Ee([new On("",{})]),r=new Ee({}),o=new Ee({}),i=new Ee({}),s=new Ee(""),a=new Ce(e,r,i,s,o,P,t,n.root);return a.snapshot=n.root,new zi(new We(a,[]),n)}function OM(t){let n={},e={},r={},o="",i=new lr([],n,r,o,e,P,t,null,{});return new qi("",new We(i,[]))}var Ce=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,r,o,i,s,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(q(c=>c[Ki]))??N(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(q(n=>cr(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(q(n=>cr(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gl(t,n,e="emptyOnly"){let r,{routeConfig:o}=t;return n!==null&&(e==="always"||o?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:w(w({},n.params),t.params),data:w(w({},n.data),t.data),resolve:w(w(w(w({},t.data),n.data),o?.data),t._resolvedData)}:r={params:w({},t.params),data:w({},t.data),resolve:w(w({},t.data),t._resolvedData??{})},o&&m_(o)&&(r.resolve[Ki]=o.title),r}var lr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ki]}constructor(n,e,r,o,i,s,a,l,c){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=cr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=cr(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},qi=class extends ql{url;constructor(n,e){super(e),this.url=n,mh(this,e)}toString(){return g_(this._root)}};function mh(t,n){n.value._routerState=t,n.children.forEach(e=>mh(t,e))}function g_(t){let n=t.children.length>0?` { ${t.children.map(g_).join(", ")} } `:"";return`${t.value}${n}`}function eh(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Bt(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Bt(n.params,e.params)||t.paramsSubject.next(e.params),aM(n.url,e.url)||t.urlSubject.next(e.url),Bt(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ch(t,n){let e=Bt(t.params,n.params)&&dM(t.url,n.url),r=!t.parent!=!n.parent;return e&&!r&&(!t.parent||ch(t.parent,n.parent))}function m_(t){return typeof t.title=="string"||t.title===null}var v_=new S(""),Qi=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=P;activateEvents=new de;deactivateEvents=new de;attachEvents=new de;detachEvents=new de;routerOutletData=Ym(void 0);parentContexts=y(dr);location=y(uo);changeDetector=y(hn);inputBinder=y(Ji,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:o}=e.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=e;let o=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new uh(e,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=te({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ft]})}return t})(),uh=class{route;childContexts;parent;outletData;constructor(n,e,r,o){this.route=n,this.childContexts=e,this.parent=r,this.outletData=o}get(n,e){return n===Ce?this.route:n===dr?this.childContexts:n===v_?this.outletData:this.parent.get(n,e)}},Ji=new S(""),vh=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,o=Jo([r.queryParams,r.params,r.data]).pipe(Je(([i,s,a],l)=>(a=w(w(w({},i),s),a),l===0?N(a):Promise.resolve(a)))).subscribe(i=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let s=Sy(r.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,i[a])});this.outletDataSubscriptions.set(e,o)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})();function kM(t,n,e){let r=Gi(t,n._root,e?e._root:void 0);return new zi(r,n)}function Gi(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=n.value;let o=PM(t,n,e);return new We(r,o)}else{if(t.shouldAttach(n.value)){let i=t.retrieve(n.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Gi(t,a)),s}}let r=FM(n.value),o=n.children.map(i=>Gi(t,i));return new We(r,o)}}function PM(t,n,e){return n.children.map(r=>{for(let o of e.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return Gi(t,r,o);return Gi(t,r)})}function FM(t){return new Ce(new Ee(t.url),new Ee(t.params),new Ee(t.queryParams),new Ee(t.fragment),new Ee(t.data),t.outlet,t.component,t)}var Co=class{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},y_="ngNavigationCancelingError";function Wl(t,n){let{redirectTo:e,navigationBehaviorOptions:r}=Pn(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=__(!1,Ve.Redirect);return o.url=e,o.navigationBehaviorOptions=r,o}function __(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[y_]=!0,e.cancellationCode=n,e}function LM(t){return w_(t)&&Pn(t.url)}function w_(t){return!!t&&t[y_]}var jM=(t,n,e,r)=>q(o=>(new dh(n,o.targetRouterState,o.currentRouterState,e,r).activate(t),o)),dh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,r,o,i){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(n){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),eh(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){let o=mo(e);n.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,e,r){let o=n.value,i=e?e.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=mo(n);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=mo(n);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){let o=mo(e);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Hl(i.value.snapshot))}),n.children.length&&this.forwardEvent(new Bl(n.value.snapshot))}activateRoutes(n,e,r){let o=n.value,i=e?e.value:null;if(eh(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),eh(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Zl=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},yo=class{component;route;constructor(n,e){this.component=n,this.route=e}};function VM(t,n,e){let r=t._root,o=n?n._root:null;return ji(r,o,e,[r.value])}function $M(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function Io(t,n){let e=Symbol(),r=n.get(t,e);return r===e?typeof t=="function"&&!Ug(t)?t:n.get(t):r}function ji(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=mo(n);return t.children.forEach(s=>{BM(s,i[s.value.outlet],e,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>$i(a,e.getContext(s),o)),o}function BM(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let l=UM(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new Zl(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?ji(t,n,a?a.children:null,r,o):ji(t,n,e,r,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new yo(a.outlet.component,s))}else s&&$i(n,a,o),o.canActivateChecks.push(new Zl(r)),i.component?ji(t,null,a?a.children:null,r,o):ji(t,null,e,r,o);return o}function UM(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!ar(t.url,n.url);case"pathParamsOrQueryParamsChange":return!ar(t.url,n.url)||!Bt(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ch(t,n)||!Bt(t.queryParams,n.queryParams);case"paramsChange":default:return!ch(t,n)}}function $i(t,n,e){let r=mo(t),o=t.value;Object.entries(r).forEach(([i,s])=>{o.component?n?$i(s,n.children.getContext(i),e):$i(s,null,e):$i(s,n,e)}),o.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new yo(n.outlet.component,o)):e.canDeactivateChecks.push(new yo(null,o)):e.canDeactivateChecks.push(new yo(null,o))}function Xi(t){return typeof t=="function"}function HM(t){return typeof t=="boolean"}function zM(t){return t&&Xi(t.canLoad)}function qM(t){return t&&Xi(t.canActivate)}function GM(t){return t&&Xi(t.canActivateChild)}function WM(t){return t&&Xi(t.canDeactivate)}function ZM(t){return t&&Xi(t.canMatch)}function D_(t){return t instanceof Xt||t?.name==="EmptyError"}var Ml=Symbol("INITIAL_VALUE");function Eo(){return Je(t=>Jo(t.map(n=>n.pipe(tn(1),xu(Ml)))).pipe(q(n=>{for(let e of n)if(e!==!0){if(e===Ml)return Ml;if(e===!1||KM(e))return e}return!0}),ze(n=>n!==Ml),tn(1)))}function KM(t){return Pn(t)||t instanceof Co}function YM(t,n){return se(e=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return s.length===0&&i.length===0?N(L(w({},e),{guardsResult:!0})):QM(s,r,o,t).pipe(se(a=>a&&HM(a)?JM(r,i,t,n):N(a)),q(a=>L(w({},e),{guardsResult:a})))})}function QM(t,n,e,r){return ee(t).pipe(se(o=>rT(o.component,o.route,e,n,r)),nn(o=>o!==!0,!0))}function JM(t,n,e,r){return ee(n).pipe(Dn(o=>jr(eT(o.route.parent,r),XM(o.route,r),nT(t,o.path,e),tT(t,o.route,e))),nn(o=>o!==!0,!0))}function XM(t,n){return t!==null&&n&&n(new Ul(t)),N(!0)}function eT(t,n){return t!==null&&n&&n(new $l(t)),N(!0)}function tT(t,n,e){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let o=r.map(i=>sa(()=>{let s=Yi(n)??e,a=Io(i,s),l=qM(a)?a.canActivate(n,t):tt(s,()=>a(n,t));return Ln(l).pipe(nn())}));return N(o).pipe(Eo())}function nT(t,n,e){let r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>$M(s)).filter(s=>s!==null).map(s=>sa(()=>{let a=s.guards.map(l=>{let c=Yi(s.node)??e,u=Io(l,c),d=GM(u)?u.canActivateChild(r,t):tt(c,()=>u(r,t));return Ln(d).pipe(nn())});return N(a).pipe(Eo())}));return N(i).pipe(Eo())}function rT(t,n,e,r,o){let i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!i||i.length===0)return N(!0);let s=i.map(a=>{let l=Yi(n)??o,c=Io(a,l),u=WM(c)?c.canDeactivate(t,n,e,r):tt(l,()=>c(t,n,e,r));return Ln(u).pipe(nn())});return N(s).pipe(Eo())}function oT(t,n,e,r){let o=n.canLoad;if(o===void 0||o.length===0)return N(!0);let i=o.map(s=>{let a=Io(s,t),l=zM(a)?a.canLoad(n,e):tt(t,()=>a(n,e));return Ln(l)});return N(i).pipe(Eo(),b_(r))}function b_(t){return Du(Ie(n=>{if(typeof n!="boolean")throw Wl(t,n)}),q(n=>n===!0))}function iT(t,n,e,r){let o=n.canMatch;if(!o||o.length===0)return N(!0);let i=o.map(s=>{let a=Io(s,t),l=ZM(a)?a.canMatch(n,e):tt(t,()=>a(n,e));return Ln(l)});return N(i).pipe(Eo(),b_(r))}var Wi=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Zi=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function go(t){return Fr(new Wi(t))}function sT(t){return Fr(new E(4e3,!1))}function aT(t){return Fr(__(!1,Ve.GuardRejected))}var fh=class{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return N(r);if(o.numberOfChildren>1||!o.children[P])return sT(`${n.redirectTo}`);o=o.children[P]}}applyRedirectCommands(n,e,r,o,i){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:p,params:f,data:g,title:_}=o,C=tt(i,()=>a({params:f,data:g,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:p,title:_}));if(C instanceof Ht)throw new Zi(C);e=C}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r);if(e[0]==="/")throw new Zi(s);return s}applyRedirectCreateUrlTree(n,e,r,o){let i=this.createSegmentGroup(n,e.root,r,o);return new Ht(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let r={};return Object.entries(n).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=e[a]}else r[o]=i}),r}createSegmentGroup(n,e,r,o){let i=this.createSegments(n,e.segments,r,o),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,o)}),new K(i,s)}createSegments(n,e,r,o){return e.map(i=>i.path[0]===":"?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,e,r){let o=r[e.path.substring(1)];if(!o)throw new E(4001,!1);return o}findOrReturn(n,e){let r=0;for(let o of e){if(o.path===n.path)return e.splice(r),o;r++}return n}},hh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lT(t,n,e,r,o){let i=C_(t,n,e);return i.matched?(r=NM(n,r),iT(r,n,e,o).pipe(q(s=>s===!0?i:w({},hh)))):N(i)}function C_(t,n,e){if(n.path==="**")return cT(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?w({},hh):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(n.matcher||Jy)(e,t,n);if(!o)return w({},hh);let i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});let s=o.consumed.length>0?w(w({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function cT(t){return{matched:!0,parameters:t.length>0?e_(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Ky(t,n,e,r){return e.length>0&&fT(t,e,r)?{segmentGroup:new K(n,dT(r,new K(e,t.children))),slicedSegments:[]}:e.length===0&&hT(t,e,r)?{segmentGroup:new K(t.segments,uT(t,e,r,t.children)),slicedSegments:e}:{segmentGroup:new K(t.segments,t.children),slicedSegments:e}}function uT(t,n,e,r){let o={};for(let i of e)if(Yl(t,n,i)&&!r[St(i)]){let s=new K([],{});o[St(i)]=s}return w(w({},r),o)}function dT(t,n){let e={};e[P]=n;for(let r of t)if(r.path===""&&St(r)!==P){let o=new K([],{});e[St(r)]=o}return e}function fT(t,n,e){return e.some(r=>Yl(t,n,r)&&St(r)!==P)}function hT(t,n,e){return e.some(r=>Yl(t,n,r))}function Yl(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function pT(t,n,e){return n.length===0&&!t.children[e]}var ph=class{};function gT(t,n,e,r,o,i,s="emptyOnly"){return new gh(t,n,e,r,o,s,i).recognize()}var mT=31,gh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,r,o,i,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new fh(this.urlSerializer,this.urlTree)}noMatchError(n){return new E(4002,`'${n.segmentGroup}'`)}recognize(){let n=Ky(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(q(({children:e,rootSnapshot:r})=>{let o=new We(r,e),i=new qi("",o),s=c_(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(n){let e=new lr([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),P,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,P,e).pipe(q(r=>({children:r,rootSnapshot:e})),en(r=>{if(r instanceof Zi)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Wi?this.noMatchError(r):r}))}processSegmentGroup(n,e,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,e,r,i):this.processSegment(n,e,r,r.segments,o,!0,i).pipe(q(s=>s instanceof We?[s]:[]))}processChildren(n,e,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return ee(i).pipe(Dn(s=>{let a=r.children[s],l=RM(e,s);return this.processSegmentGroup(n,l,a,s,o)}),Tu((s,a)=>(s.push(...a),s)),bn(null),Mu(),se(s=>{if(s===null)return go(r);let a=E_(s);return vT(a),N(a)}))}processSegment(n,e,r,o,i,s,a){return ee(e).pipe(Dn(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,r,o,i,s,a).pipe(en(c=>{if(c instanceof Wi)return N(null);throw c}))),nn(l=>!!l),en(l=>{if(D_(l))return pT(r,o,i)?N(new ph):go(r);throw l}))}processSegmentAgainstRoute(n,e,r,o,i,s,a,l){return St(r)!==s&&(s===P||!Yl(o,i,r))?go(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,o,r,i,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,o,e,r,i,s,l):go(o)}expandSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=C_(e,o,i);if(!l)return go(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mT&&(this.allowRedirects=!1));let f=new lr(i,c,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Yy(o),St(o),o.component??o._loadedComponent??null,o,Qy(o)),g=Gl(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(g.params),f.data=Object.freeze(g.data);let _=this.applyRedirects.applyRedirectCommands(u,o.redirectTo,d,f,n);return this.applyRedirects.lineralizeSegments(o,_).pipe(se(C=>this.processSegment(n,r,e,C.concat(p),s,!1,a)))}matchSegmentAgainstRoute(n,e,r,o,i,s){let a=lT(e,r,o,n,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(Je(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,o).pipe(Je(({routes:c})=>{let u=r._loadedInjector??n,{parameters:d,consumedSegments:p,remainingSegments:f}=l,g=new lr(p,d,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Yy(r),St(r),r.component??r._loadedComponent??null,r,Qy(r)),_=Gl(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let{segmentGroup:C,slicedSegments:x}=Ky(e,p,f,c);if(x.length===0&&C.hasChildren())return this.processChildren(u,c,C,g).pipe(q(Me=>new We(g,Me)));if(c.length===0&&x.length===0)return N(new We(g,[]));let De=St(r)===i;return this.processSegment(u,c,C,x,De?P:i,!0,g).pipe(q(Me=>new We(g,Me instanceof We?[Me]:[])))}))):go(e)))}getChildConfig(n,e,r){return e.children?N({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?N({routes:e._loadedRoutes,injector:e._loadedInjector}):oT(n,e,r,this.urlSerializer).pipe(se(o=>o?this.configLoader.loadChildren(n,e).pipe(Ie(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):aT(e))):N({routes:[],injector:n})}};function vT(t){t.sort((n,e)=>n.value.outlet===P?-1:e.value.outlet===P?1:n.value.outlet.localeCompare(e.value.outlet))}function yT(t){let n=t.value.routeConfig;return n&&n.path===""}function E_(t){let n=[],e=new Set;for(let r of t){if(!yT(r)){n.push(r);continue}let o=n.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),e.add(o)):n.push(r)}for(let r of e){let o=E_(r.children);n.push(new We(r.value,o))}return n.filter(r=>!e.has(r))}function Yy(t){return t.data||{}}function Qy(t){return t.resolve||{}}function _T(t,n,e,r,o,i){return se(s=>gT(t,n,e,r,s.extractedUrl,o,i).pipe(q(({state:a,tree:l})=>L(w({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function wT(t,n){return se(e=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return N(e);let i=new Set(o.map(l=>l.route)),s=new Set;for(let l of i)if(!s.has(l))for(let c of I_(l))s.add(c);let a=0;return ee(s).pipe(Dn(l=>i.has(l)?DT(l,r,t,n):(l.data=Gl(l,l.parent,t).resolve,N(void 0))),Ie(()=>a++),Vr(1),se(l=>a===s.size?N(e):Oe))})}function I_(t){let n=t.children.map(e=>I_(e)).flat();return[t,...n]}function DT(t,n,e,r){let o=t.routeConfig,i=t._resolve;return o?.title!==void 0&&!m_(o)&&(i[Ki]=o.title),bT(i,t,n,r).pipe(q(s=>(t._resolvedData=s,t.data=Gl(t,t.parent,e).resolve,null)))}function bT(t,n,e,r){let o=rh(t);if(o.length===0)return N({});let i={};return ee(o).pipe(se(s=>CT(t[s],n,e,r).pipe(nn(),Ie(a=>{if(a instanceof Co)throw Wl(new kn,a);i[s]=a}))),Vr(1),q(()=>i),en(s=>D_(s)?Oe:Fr(s)))}function CT(t,n,e,r){let o=Yi(n)??r,i=Io(t,o),s=i.resolve?i.resolve(n,e):tt(o,()=>i(n,e));return Ln(s)}function th(t){return Je(n=>{let e=t(n);return e?ee(e).pipe(q(()=>n)):N(n)})}var yh=(()=>{class t{buildTitle(e){let r,o=e.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===P);return r}getResolvedTitleForRoute(e){return e.data[Ki]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:()=>y(S_),providedIn:"root"})}return t})(),S_=(()=>{class t extends yh{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(A(zy))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fr=new S("",{providedIn:"root",factory:()=>({})}),_h=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=be({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&T(0,"router-outlet")},dependencies:[Qi],encapsulation:2})}return t})();function wh(t){let n=t.children&&t.children.map(wh),e=n?L(w({},t),{children:n}):w({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==P&&(e.component=_h),e}var hr=new S(""),Ql=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(Dy);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return N(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=Ln(e.loadComponent()).pipe(q(T_),Ie(i=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=i}),Xo(()=>{this.componentLoaders.delete(e)})),o=new Pr(r,()=>new ce).pipe(kr());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return N({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=M_(r,this.compiler,e,this.onLoadEndListener).pipe(Xo(()=>{this.childrenLoaders.delete(r)})),s=new Pr(i,()=>new ce).pipe(kr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function M_(t,n,e,r){return Ln(t.loadChildren()).pipe(q(T_),se(o=>o instanceof Af||Array.isArray(o)?N(o):ee(n.compileModuleAsync(o))),q(o=>{r&&r(t);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(e).injector,s=i.get(hr,[],{optional:!0,self:!0}).flat()),{routes:s.map(wh),injector:i}}))}function ET(t){return t&&typeof t=="object"&&"default"in t}function T_(t){return ET(t)?t.default:t}var Jl=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:()=>y(IT),providedIn:"root"})}return t})(),IT=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Dh=new S(""),bh=new S("");function x_(t,n,e){let r=t.get(bh),o=t.get(_e);return t.get(oe).runOutsideAngular(()=>{if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let i,s=new Promise(c=>{i=c}),a=o.startViewTransition(()=>(i(),ST(t))),{onViewTransitionCreated:l}=r;return l&&tt(t,()=>l({transition:a,from:n,to:e})),s})}function ST(t){return new Promise(n=>{ff({read:()=>setTimeout(n)},{injector:t})})}var Ch=new S(""),Xl=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ce;transitionAbortSubject=new ce;configLoader=y(Ql);environmentInjector=y(Le);destroyRef=y(yi);urlSerializer=y(ur);rootContexts=y(dr);location=y(Nn);inputBindingEnabled=y(Ji,{optional:!0})!==null;titleStrategy=y(yh);options=y(fr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(Jl);createViewTransition=y(Dh,{optional:!0});navigationErrorHandler=y(Ch,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>N(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=o=>this.events.next(new jl(o)),r=o=>this.events.next(new Vl(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(L(w({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(e){return this.transitions=new Ee(null),this.transitions.pipe(ze(r=>r!==null),Je(r=>{let o=!1,i=!1;return N(r).pipe(Je(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ve.SupersededByNewNavigation),Oe;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?L(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new zt(s.id,this.urlSerializer.serialize(s.rawUrl),c,_o.IgnoredSameUrlNavigation)),s.resolve(!1),Oe}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return N(s).pipe(Je(c=>(this.events.next(new Fn(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Oe:Promise.resolve(c))),_T(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Ie(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=L(w({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new Ui(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:p,extras:f}=s,g=new Fn(c,this.urlSerializer.serialize(u),d,p);this.events.next(g);let _=p_(this.rootComponentType).snapshot;return this.currentTransition=r=L(w({},s),{targetSnapshot:_,urlAfterRedirects:u,extras:L(w({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,N(r)}else{let c="";return this.events.next(new zt(s.id,this.urlSerializer.serialize(s.extractedUrl),c,_o.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Oe}}),Ie(s=>{let a=new kl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),q(s=>(this.currentTransition=r=L(w({},s),{guards:VM(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),YM(this.environmentInjector,s=>this.events.next(s)),Ie(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Wl(this.urlSerializer,s.guardsResult);let a=new Pl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),ze(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Ve.GuardRejected),!1)),th(s=>{if(s.guards.canActivateChecks.length!==0)return N(s).pipe(Ie(a=>{let l=new Fl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Je(a=>{let l=!1;return N(a).pipe(wT(this.paramsInheritanceStrategy,this.environmentInjector),Ie({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Ve.NoDataFromResolver)}}))}),Ie(a=>{let l=new Ll(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),th(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ie(u=>{l.component=u}),q(()=>{})));for(let u of l.children)c.push(...a(u));return c};return Jo(a(s.targetSnapshot.root)).pipe(bn(null),tn(1))}),th(()=>this.afterPreactivation()),Je(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?ee(l).pipe(q(()=>r)):N(r)}),q(s=>{let a=kM(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=L(w({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Ie(()=>{this.events.next(new Hi)}),jM(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),tn(1),Ie({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new at(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),Au(this.transitionAbortSubject.pipe(Ie(s=>{throw s}))),Xo(()=>{!o&&!i&&this.cancelNavigationTransition(r,"",Ve.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),en(s=>{if(this.destroyed)return r.resolve(!1),Oe;if(i=!0,w_(s))this.events.next(new Ut(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),LM(s)?this.events.next(new bo(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new wo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=tt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Co){let{message:c,cancellationCode:u}=Wl(this.urlSerializer,l);this.events.next(new Ut(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new bo(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Oe}))}))}cancelNavigationTransition(e,r,o){let i=new Ut(e.id,this.urlSerializer.serialize(e.extractedUrl),r,o);this.events.next(i),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function MT(t){return t!==Nl}var A_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:()=>y(TT),providedIn:"root"})}return t})(),Kl=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},TT=(()=>{class t extends Kl{static \u0275fac=(()=>{let e;return function(o){return(e||(e=cn(t)))(o||t)}})();static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),N_=(()=>{class t{urlSerializer=y(ur);options=y(fr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=y(Nn);urlHandlingStrategy=y(Jl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ht;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:o}){let i=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,s=o??i;return s instanceof Ht?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:o}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=e):this.rawUrlTree=o}routerState=p_(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:()=>y(xT),providedIn:"root"})}return t})(),xT=(()=>{class t extends N_{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof Fn?this.updateStateMemento():e instanceof zt?this.commitTransition(r):e instanceof Ui?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Hi?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Ut&&(e.code===Ve.GuardRejected||e.code===Ve.NoDataFromResolver)?this.restoreHistory(r):e instanceof wo?this.restoreHistory(r,!0):e instanceof at&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(e)||i){let a=this.browserPageId,l=w(w({},s),this.generateNgRouterState(o,a));this.location.replaceState(e,"",l)}else{let a=w(w({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===e.finalUrl&&i===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=cn(t)))(o||t)}})();static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ec(t,n){t.events.pipe(ze(e=>e instanceof at||e instanceof Ut||e instanceof wo||e instanceof zt),q(e=>e instanceof at||e instanceof zt?0:(e instanceof Ut?e.code===Ve.Redirect||e.code===Ve.SupersededByNewNavigation:!1)?2:1),ze(e=>e!==2),tn(1)).subscribe(()=>{n()})}var AT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ge=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(Rf);stateManager=y(N_);options=y(fr,{optional:!0})||{};pendingTasks=y(ao);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(Xl);urlSerializer=y(ur);location=y(Nn);urlHandlingStrategy=y(Jl);_events=new ce;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(A_);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(hr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(Ji,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new le;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Ut&&r.code!==Ve.Redirect&&r.code!==Ve.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof at)this.navigated=!0;else if(r instanceof bo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l=w({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||MT(o.source)},s);this.scheduleNavigation(a,Nl,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}OT(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Nl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,o)=>{this.navigateToSyncWithBrowser(e,o,r)})}navigateToSyncWithBrowser(e,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let l=w({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(i.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(wh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=w(w({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=o?o.snapshot:this.routerState.snapshot.root;d=u_(p)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return d_(d,e,u,c??null)}navigateByUrl(e,r={skipLocationChange:!1}){let o=Pn(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Nl,null,r)}navigate(e,r={skipLocationChange:!1}){return RT(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let o;if(r===!0?o=w({},AT):r===!1?o=w({},NT):o=r,Pn(e))return qy(this.currentUrlTree,e,o);let i=this.parseUrl(e);return qy(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.entries(e).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(e,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,p)=>{a=d,l=p});let u=this.pendingTasks.add();return ec(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:i,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function RT(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new E(4008,!1)}function OT(t){return!(t instanceof Hi)&&!(t instanceof bo)}var $e=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ce;constructor(e,r,o,i,s,a){this.router=e,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof at&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Pn(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,o,i,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:Cv(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,e,r):o.removeAttribute(i,e)}get urlTree(){return this.routerLinkInput===null?null:Pn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(D(ge),D(Ce),sf("tabindex"),D(bt),D(jt),D(It))};static \u0275dir=te({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&W("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ci("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",sr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",sr],replaceUrl:[2,"replaceUrl","replaceUrl",sr],routerLink:"routerLink"},features:[Ft]})}return t})();var es=class{};var R_=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,o,i){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(ze(e=>e instanceof at),Dn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=bi(i.providers,e,`Route: ${i.path}`));let s=i._injector??e,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return ee(o).pipe(Lr())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(e,r):o=N(null);let i=o.pipe(se(s=>s===null?N(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return ee([i,s]).pipe(Lr())}else return i})}static \u0275fac=function(r){return new(r||t)(A(ge),A(Le),A(es),A(Ql))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),O_=new S(""),kT=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,r,o,i,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Fn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof at?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof zt&&e.code===_o.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Do&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Do(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Qv()};static \u0275prov=I({token:t,factory:t.\u0275fac})}return t})();function Ih(t,...n){return gi([{provide:hr,multi:!0,useValue:t},[],{provide:Ce,useFactory:k_,deps:[ge]},{provide:cl,multi:!0,useFactory:P_},n.map(e=>e.\u0275providers)])}function k_(t){return t.routerState.root}function ts(t,n){return{\u0275kind:t,\u0275providers:n}}function P_(){let t=y(qe);return n=>{let e=t.get(In);if(n!==e.components[0])return;let r=t.get(ge),o=t.get(F_);t.get(Sh)===1&&r.initialNavigation(),t.get(V_,null,V.Optional)?.setUpPreloading(),t.get(O_,null,V.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var F_=new S("",{factory:()=>new ce}),Sh=new S("",{providedIn:"root",factory:()=>1});function L_(){let t=[{provide:Sh,useValue:0},Of(()=>{let n=y(qe);return n.get(jf,Promise.resolve()).then(()=>new Promise(r=>{let o=n.get(ge),i=n.get(F_);ec(o,()=>{r(!0)}),n.get(Xl).afterPreactivation=()=>(r(!0),i.closed?N(void 0):i),o.initialNavigation()}))})];return ts(2,t)}function j_(){let t=[Of(()=>{y(ge).setUpLocationChangeListener()}),{provide:Sh,useValue:2}];return ts(3,t)}var V_=new S("");function $_(t){return ts(0,[{provide:V_,useExisting:R_},{provide:es,useExisting:t}])}function B_(){return ts(8,[vh,{provide:Ji,useExisting:vh}])}function U_(t){Mn("NgRouterViewTransitions");let n=[{provide:Dh,useValue:x_},{provide:bh,useValue:w({skipNextTransition:!!t?.skipInitialTransition},t)}];return ts(9,n)}var H_=[Nn,{provide:ur,useClass:kn},ge,dr,{provide:Ce,useFactory:k_,deps:[ge]},Ql,[]],Ke=(()=>{class t{constructor(){}static forRoot(e,r){return{ngModule:t,providers:[H_,[],{provide:hr,multi:!0,useValue:e},[],r?.errorHandler?{provide:Ch,useValue:r.errorHandler}:[],{provide:fr,useValue:r||{}},r?.useHash?FT():LT(),PT(),r?.preloadingStrategy?$_(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?jT(r):[],r?.bindToComponentInputs?B_().\u0275providers:[],r?.enableViewTransitions?U_().\u0275providers:[],VT()]}}static forChild(e){return{ngModule:t,providers:[{provide:hr,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Vt({type:t});static \u0275inj=Pt({})}return t})();function PT(){return{provide:O_,useFactory:()=>{let t=y(Py),n=y(oe),e=y(fr),r=y(Xl),o=y(ur);return e.scrollOffset&&t.setOffset(e.scrollOffset),new kT(o,r,t,n,e)}}}function FT(){return{provide:It,useClass:Vf}}function LT(){return{provide:It,useClass:ml}}function jT(t){return[t.initialNavigation==="disabled"?j_().\u0275providers:[],t.initialNavigation==="enabledBlocking"?L_().\u0275providers:[]]}var Eh=new S("");function VT(){return[{provide:Eh,useFactory:P_},{provide:cl,multi:!0,useExisting:Eh}]}var X_=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||t)(D(bt),D(jt))};static \u0275dir=te({type:t})}return t})(),uc=(()=>{class t extends X_{static \u0275fac=(()=>{let e;return function(o){return(e||(e=cn(t)))(o||t)}})();static \u0275dir=te({type:t,features:[Ge]})}return t})(),xo=new S("");var $T={provide:xo,useExisting:yt(()=>lt),multi:!0};function BT(){let t=st()?st().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var UT=new S(""),lt=(()=>{class t extends X_{_compositionMode;_composing=!1;constructor(e,r,o){super(e,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!BT())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||t)(D(bt),D(jt),D(UT,8))};static \u0275dir=te({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&W("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[fn([$T]),Ge]})}return t})();function Oh(t){return t==null||kh(t)===0}function kh(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var dc=new S(""),Ph=new S(""),HT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ne=class{static min(n){return zT(n)}static max(n){return qT(n)}static required(n){return GT(n)}static requiredTrue(n){return WT(n)}static email(n){return ZT(n)}static minLength(n){return KT(n)}static maxLength(n){return ew(n)}static pattern(n){return YT(n)}static nullValidator(n){return nc()}static compose(n){return sw(n)}static composeAsync(n){return lw(n)}};function zT(t){return n=>{if(n.value==null||t==null)return null;let e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function qT(t){return n=>{if(n.value==null||t==null)return null;let e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function GT(t){return Oh(t.value)?{required:!0}:null}function WT(t){return t.value===!0?null:{required:!0}}function ZT(t){return Oh(t.value)||HT.test(t.value)?null:{email:!0}}function KT(t){return n=>{let e=n.value?.length??kh(n.value);return e===null||e===0?null:e<t?{minlength:{requiredLength:t,actualLength:e}}:null}}function ew(t){return n=>{let e=n.value?.length??kh(n.value);return e!==null&&e>t?{maxlength:{requiredLength:t,actualLength:e}}:null}}function YT(t){if(!t)return nc;let n,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(Oh(r.value))return null;let o=r.value;return n.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}function nc(t){return null}function tw(t){return t!=null}function nw(t){return ir(t)?ee(t):t}function rw(t){let n={};return t.forEach(e=>{n=e!=null?w(w({},n),e):n}),Object.keys(n).length===0?null:n}function ow(t,n){return n.map(e=>e(t))}function QT(t){return!t.validate}function iw(t){return t.map(n=>QT(n)?n:e=>n.validate(e))}function sw(t){if(!t)return null;let n=t.filter(tw);return n.length==0?null:function(e){return rw(ow(e,n))}}function aw(t){return t!=null?sw(iw(t)):null}function lw(t){if(!t)return null;let n=t.filter(tw);return n.length==0?null:function(e){let r=ow(e,n).map(nw);return Su(r).pipe(q(rw))}}function cw(t){return t!=null?lw(iw(t)):null}function z_(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function uw(t){return t._rawValidators}function dw(t){return t._rawAsyncValidators}function Mh(t){return t?Array.isArray(t)?t:[t]:[]}function rc(t,n){return Array.isArray(t)?t.includes(n):t===n}function q_(t,n){let e=Mh(n);return Mh(t).forEach(o=>{rc(e,o)||e.push(o)}),e}function G_(t,n){return Mh(n).filter(e=>!rc(t,e))}var oc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=aw(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=cw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},gr=class extends oc{name;get formDirective(){return null}get path(){return null}},mr=class extends oc{_parent=null;name=null;valueAccessor=null},ic=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},JT={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ZV=L(w({},JT),{"[class.ng-submitted]":"isSubmitted"}),ct=(()=>{class t extends ic{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(D(mr,2))};static \u0275dir=te({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&ul("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Ge]})}return t})(),Vn=(()=>{class t extends ic{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(D(gr,10))};static \u0275dir=te({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&ul("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Ge]})}return t})();var ns="VALID",tc="INVALID",So="PENDING",rs="DISABLED",jn=class{},sc=class extends jn{value;source;constructor(n,e){super(),this.value=n,this.source=e}},os=class extends jn{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}},is=class extends jn{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}},Mo=class extends jn{status;source;constructor(n,e){super(),this.status=n,this.source=e}},Th=class extends jn{source;constructor(n){super(),this.source=n}},xh=class extends jn{source;constructor(n){super(),this.source=n}};function Fh(t){return(fc(t)?t.validators:t)||null}function XT(t){return Array.isArray(t)?aw(t):t||null}function Lh(t,n){return(fc(n)?n.asyncValidators:t)||null}function ex(t){return Array.isArray(t)?cw(t):t||null}function fc(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function fw(t,n,e){let r=t.controls;if(!(n?Object.keys(r):r).length)throw new E(1e3,"");if(!r[e])throw new E(1001,"")}function hw(t,n,e){t._forEachChild((r,o)=>{if(e[o]===void 0)throw new E(1002,"")})}var To=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return pn(this.statusReactive)}set status(n){pn(()=>this.statusReactive.set(n))}_status=Mi(()=>this.statusReactive());statusReactive=_i(void 0);get valid(){return this.status===ns}get invalid(){return this.status===tc}get pending(){return this.status==So}get disabled(){return this.status===rs}get enabled(){return this.status!==rs}errors;get pristine(){return pn(this.pristineReactive)}set pristine(n){pn(()=>this.pristineReactive.set(n))}_pristine=Mi(()=>this.pristineReactive());pristineReactive=_i(!0);get dirty(){return!this.pristine}get touched(){return pn(this.touchedReactive)}set touched(n){pn(()=>this.touchedReactive.set(n))}_touched=Mi(()=>this.touchedReactive());touchedReactive=_i(!1);get untouched(){return!this.touched}_events=new ce;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(q_(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(q_(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(G_(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(G_(n,this._rawAsyncValidators))}hasValidator(n){return rc(this._rawValidators,n)}hasAsyncValidator(n){return rc(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(L(w({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new is(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),e&&n.emitEvent!==!1&&this._events.next(new is(!1,r))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(L(w({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new os(!1,r))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),e&&n.emitEvent!==!1&&this._events.next(new os(!0,r))}markAsPending(n={}){this.status=So;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Mo(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(L(w({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=rs,this.errors=null,this._forEachChild(o=>{o.disable(L(w({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new sc(this.value,r)),this._events.next(new Mo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(L(w({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=ns,this._forEachChild(r=>{r.enable(L(w({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(L(w({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ns||this.status===So)&&this._runAsyncValidator(r,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new sc(this.value,e)),this._events.next(new Mo(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(L(w({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rs:ns}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=So,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=nw(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(n,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new Mo(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,r)}_initObservables(){this.valueChanges=new de,this.statusChanges=new de}_calculateStatus(){return this._allControlsDisabled()?rs:this.errors?tc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(So)?So:this._anyControlsHaveStatus(tc)?tc:ns}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),o&&this._events.next(new os(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new is(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){fc(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=XT(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=ex(this._rawAsyncValidators)}},ac=class extends To{constructor(n,e,r){super(Fh(e),Lh(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){hw(this,!0,n),Object.keys(n).forEach(r=>{fw(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(r=>{let o=this.controls[r];o&&o.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,o)=>{r.reset(n?n[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((o,i)=>{r=e(r,o,i)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Ah=class extends ac{};var hc=new S("",{providedIn:"root",factory:()=>pc}),pc="always";function pw(t,n){return[...n.path,t]}function Nh(t,n,e=pc){jh(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),nx(t,n),ox(t,n),rx(t,n),tx(t,n)}function W_(t,n,e=!0){let r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),cc(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function lc(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function tx(t,n){if(n.valueAccessor.setDisabledState){let e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function jh(t,n){let e=uw(t);n.validator!==null?t.setValidators(z_(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let r=dw(t);n.asyncValidator!==null?t.setAsyncValidators(z_(r,n.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let o=()=>t.updateValueAndValidity();lc(n._rawValidators,o),lc(n._rawAsyncValidators,o)}function cc(t,n){let e=!1;if(t!==null){if(n.validator!==null){let o=uw(t);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==n.validator);i.length!==o.length&&(e=!0,t.setValidators(i))}}if(n.asyncValidator!==null){let o=dw(t);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==n.asyncValidator);i.length!==o.length&&(e=!0,t.setAsyncValidators(i))}}}let r=()=>{};return lc(n._rawValidators,r),lc(n._rawAsyncValidators,r),e}function nx(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&gw(t,n)})}function rx(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&gw(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function gw(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ox(t,n){let e=(r,o)=>{n.valueAccessor.writeValue(r),o&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function ix(t,n){t==null,jh(t,n)}function sx(t,n){return cc(t,n)}function mw(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function ax(t){return Object.getPrototypeOf(t.constructor)===uc}function lx(t,n){t._syncPendingControls(),n.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function vw(t,n){if(!n)return null;Array.isArray(n);let e,r,o;return n.forEach(i=>{i.constructor===lt?e=i:ax(i)?r=i:o=i}),o||r||e||null}function cx(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function Z_(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function K_(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ss=class extends To{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,r){super(Fh(e),Lh(r,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fc(e)&&(e.nonNullable||e.initialValueIsDefault)&&(K_(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Z_(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Z_(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){K_(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var ux=t=>t instanceof ss;var dx={provide:mr,useExisting:yt(()=>as)},Y_=Promise.resolve(),as=(()=>{class t extends mr{_changeDetectorRef;callSetDisabledState;control=new ss;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new de;constructor(e,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=vw(this,i)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),mw(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Nh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Y_.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,o=r!==0&&sr(r);Y_.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?pw(e,this._parent):[e]}static \u0275fac=function(r){return new(r||t)(D(gr,9),D(dc,10),D(Ph,10),D(xo,10),D(hn,8),D(hc,8))};static \u0275dir=te({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[fn([dx]),Ge,Ft]})}return t})();var $n=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=te({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),fx={provide:xo,useExisting:yt(()=>ls),multi:!0},ls=(()=>{class t extends uc{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=cn(t)))(o||t)}})();static \u0275dir=te({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&W("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[fn([fx]),Ge]})}return t})();var yw=new S("");var hx={provide:gr,useExisting:yt(()=>gn)},gn=(()=>{class t extends gr{callSetDisabledState;get submitted(){return pn(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Mi(()=>this._submittedReactive());_submittedReactive=_i(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new de;constructor(e,r,o){super(),this.callSetDisabledState=o,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return Nh(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){W_(e.control||null,e,!1),cx(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),lx(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Th(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new xh(this.form))}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,o=this.form.get(e.path);r!==o&&(W_(r||null,e),ux(o)&&(Nh(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);ix(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&sx(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jh(this.form,this),this._oldForm&&cc(this._oldForm,this)}static \u0275fac=function(r){return new(r||t)(D(dc,10),D(Ph,10),D(hc,8))};static \u0275dir=te({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&W("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[fn([hx]),Ge,Ft]})}return t})();var px={provide:mr,useExisting:yt(()=>mn)},mn=(()=>{class t extends mr{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new de;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,o,i,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=vw(this,i)}ngOnChanges(e){this._added||this._setUpControl(),mw(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return pw(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(D(gr,13),D(dc,10),D(Ph,10),D(xo,10),D(yw,8))};static \u0275dir=te({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[fn([px]),Ge,Ft]})}return t})();var gx={provide:xo,useExisting:yt(()=>ut),multi:!0};function _w(t,n){return t==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function mx(t){return t.split(":")[0]}var ut=(()=>{class t extends uc{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r=this._getOptionId(e),o=_w(r,e);this.setProperty("value",o)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=mx(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=cn(t)))(o||t)}})();static \u0275dir=te({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&W("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[fn([gx]),Ge]})}return t})(),qt=(()=>{class t{_element;_renderer;_select;id;constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(_w(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(D(jt),D(bt),D(ut,9))};static \u0275dir=te({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),vx={provide:xo,useExisting:yt(()=>ww),multi:!0};function Q_(t,n){return t==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function yx(t){return t.split(":")[0]}var ww=(()=>{class t extends uc{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let o=e.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let s=i;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);o.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);o.push(c)}}}this.value=o,e(o)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=yx(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=cn(t)))(o||t)}})();static \u0275dir=te({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&W("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[fn([vx]),Ge]})}return t})(),Gt=(()=>{class t{_element;_renderer;_select;id;_value;constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Q_(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Q_(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(D(jt),D(bt),D(ww,9))};static \u0275dir=te({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function _x(t){return typeof t=="number"?t:parseInt(t,10)}var wx=(()=>{class t{_validator=nc;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):nc,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=te({type:t,features:[Ft]})}return t})();var Dx={provide:dc,useExisting:yt(()=>cs),multi:!0},cs=(()=>{class t extends wx{maxlength;inputName="maxlength";normalizeInput=e=>_x(e);createValidator=e=>ew(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=cn(t)))(o||t)}})();static \u0275dir=te({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&Ci("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[fn([Dx]),Ge]})}return t})();var Dw=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Vt({type:t});static \u0275inj=Pt({})}return t})(),Rh=class extends To{constructor(n,e,r){super(Fh(e),Lh(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,r={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,e={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,r={}){let o=this._adjustIndex(n);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){hw(this,!1,n),n.forEach((r,o)=>{fw(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(n.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((r,o)=>{r.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,r)=>{n(e,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function J_(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Bn=(()=>{class t{useNonNullable=!1;get nonNullable(){let e=new t;return e.useNonNullable=!0,e}group(e,r=null){let o=this._reduceControls(e),i={};return J_(r)?i=r:r!==null&&(i.validators=r.validator,i.asyncValidators=r.asyncValidator),new ac(o,i)}record(e,r=null){let o=this._reduceControls(e);return new Ah(o,r)}control(e,r,o){let i={};return this.useNonNullable?(J_(r)?i=r:(i.validators=r,i.asyncValidators=o),new ss(e,L(w({},i),{nonNullable:!0}))):new ss(e,r,o)}array(e,r,o){let i=e.map(s=>this._createControl(s));return new Rh(i,r,o)}_reduceControls(e){let r={};return Object.keys(e).forEach(o=>{r[o]=this._createControl(e[o])}),r}_createControl(e){if(e instanceof ss)return e;if(e instanceof To)return e;if(Array.isArray(e)){let r=e[0],o=e.length>1?e[1]:null,i=e.length>2?e[2]:null;return this.control(r,o,i)}else return this.control(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var gc=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:hc,useValue:e.callSetDisabledState??pc}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Vt({type:t});static \u0275inj=Pt({imports:[Dw]})}return t})(),Un=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:yw,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:hc,useValue:e.callSetDisabledState??pc}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Vt({type:t});static \u0275inj=Pt({imports:[Dw]})}return t})();var Vh={production:!0,supabaseUrl:"https://lqxnlojeuuextavhyfrd.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxxeG5sb2pldXVleHRhdmh5ZnJkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjEyMTYsImV4cCI6MjA2MjAzNzIxNn0.Ig7zUn--bBj2YIYdFHaRoi-1kfHW2aWpKu6qRmqiDaw"};var bw=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...e)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...e)):n=fetch,(...e)=>n(...e)};var us=class extends Error{constructor(n,e="FunctionsError",r){super(n),this.name=e,this.context=r}},mc=class extends us{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},vc=class extends us{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},yc=class extends us{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},$h=function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t}($h||{});var bx=function(t,n,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},ds=class{constructor(n,{headers:e={},customFetch:r,region:o=$h.Any}={}){this.url=n,this.headers=e,this.region=o,this.fetch=bw(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,e={}){var r;return bx(this,void 0,void 0,function*(){try{let{headers:o,method:i,body:s}=e,a={},{region:l}=e;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));let u=yield this.fetch(`${this.url}/${n}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:c}).catch(g=>{throw new mc(g)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new vc(u);if(!u.ok)throw new yc(u);let p=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return p==="application/json"?f=yield u.json():p==="application/octet-stream"?f=yield u.blob():p==="text/event-stream"?f=u:p==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(o){return{data:null,error:o}}})}};var Pw=kD(kw(),1),{PostgrestClient:Fw,PostgrestQueryBuilder:g2,PostgrestFilterBuilder:m2,PostgrestTransformBuilder:v2,PostgrestBuilder:y2,PostgrestError:kx}=Pw.default;var Lw="2.11.2";var jw={"X-Client-Info":`realtime-js/${Lw}`},Vw="1.0.0",bc=1e4,$w=1e3,Ro=function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t}(Ro||{}),Ye=function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t}(Ye||{}),dt=function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t}(dt||{}),Jh=function(t){return t.websocket="websocket",t}(Jh||{}),vr=function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t}(vr||{});var Cc=class{constructor(){this.HEADER_LENGTH=1}decode(n,e){return n.constructor===ArrayBuffer?e(this._binaryDecode(n)):e(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let e=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,e,r)}_decodeBroadcast(n,e,r){let o=e.getUint8(1),i=e.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(n.slice(s,s+o));s=s+o;let l=r.decode(n.slice(s,s+i));s=s+i;let c=JSON.parse(r.decode(n.slice(s,n.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var Oo=class{constructor(n,e){this.callback=n,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var X=function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t}(X||{}),ep=(t,n,e={})=>{var r;let o=(r=e.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((i,s)=>(i[s]=Px(s,t,n,o),i),{})},Px=(t,n,e,r)=>{let o=n.find(a=>a.name===t),i=o?.type,s=e[t];return i&&!r.includes(i)?Bw(i,s):Xh(s)},Bw=(t,n)=>{if(t.charAt(0)==="_"){let e=t.slice(1,t.length);return Vx(n,e)}switch(t){case X.bool:return Fx(n);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return Lx(n);case X.json:case X.jsonb:return jx(n);case X.timestamp:return $x(n);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return Xh(n);default:return Xh(n)}},Xh=t=>t,Fx=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Lx=t=>{if(typeof t=="string"){let n=parseFloat(t);if(!Number.isNaN(n))return n}return t},jx=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(n){return console.log(`JSON parse error: ${n}`),t}return t},Vx=(t,n)=>{if(typeof t!="string")return t;let e=t.length-1,r=t[e];if(t[0]==="{"&&r==="}"){let i,s=t.slice(1,e);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>Bw(n,a))}return t},$x=t=>typeof t=="string"?t.replace(" ","T"):t,Ec=t=>{let n=t;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};var ko=class{constructor(n,e,r={},o=bc){this.channel=n,this.event=e,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,e){var r;return this._hasReceived(n)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:e}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(e))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var ys=class t{constructor(n,e){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,o,i,s),this.pendingDiffs.forEach(l=>{this.state=t.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=t.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,e,r,o){let i=this.cloneDeep(n),s=this.transformState(e),a={},l={};return this.map(i,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let d=i[c];if(d){let p=u.map(C=>C.presence_ref),f=d.map(C=>C.presence_ref),g=u.filter(C=>f.indexOf(C.presence_ref)<0),_=d.filter(C=>p.indexOf(C.presence_ref)<0);g.length>0&&(a[c]=g),_.length>0&&(l[c]=_)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,o)}static syncDiff(n,e,r,o){let{joins:i,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,l)=>{var c;let u=(c=n[a])!==null&&c!==void 0?c:[];if(n[a]=this.cloneDeep(l),u.length>0){let d=n[a].map(f=>f.presence_ref),p=u.filter(f=>d.indexOf(f.presence_ref)<0);n[a].unshift(...p)}r(a,u,l)}),this.map(s,(a,l)=>{let c=n[a];if(!c)return;let u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),n[a]=c,o(a,c,l),c.length===0&&delete n[a]}),n}static map(n,e){return Object.getOwnPropertyNames(n).map(r=>e(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((e,r)=>{let o=n[r];return"metas"in o?e[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):e[r]=o,e},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var vn=function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t}(vn||{});var _s=class t{constructor(n,e={config:{}},r){this.topic=n,this.params=e,this.socket=r,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new ko(this,dt.join,this.params,this.timeout),this.rejoinTimer=new Oo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dt.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new ys(this),this.broadcastEndpointURL=Ec(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,e=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:i,presence:s,private:a}}=this.params;this._onError(u=>n?.(vn.CHANNEL_ERROR,u)),this._onClose(()=>n?.(vn.CLOSED));let l={},c={broadcast:i,presence:s,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&o!==void 0?o:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",d=>h(this,[d],function*({postgres_changes:u}){var p;if(this.socket.setAuth(),u===void 0){n?.(vn.SUBSCRIBED);return}else{let f=this.bindings.postgres_changes,g=(p=f?.length)!==null&&p!==void 0?p:0,_=[];for(let C=0;C<g;C++){let x=f[C],{filter:{event:De,schema:Me,table:ht,filter:Yt}}=x,Tr=u&&u[C];if(Tr&&Tr.event===De&&Tr.schema===Me&&Tr.table===ht&&Tr.filter===Yt)_.push(Object.assign(Object.assign({},x),{id:Tr.id}));else{this.unsubscribe(),n?.(vn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,n&&n(vn.SUBSCRIBED);return}})).receive("error",u=>{n?.(vn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{n?.(vn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(n,e={}){return yield this.send({type:"presence",event:"track",payload:n},e.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,e,r){return this._on(n,e,r)}send(r){return h(this,arguments,function*(n,e={}){var o,i;if(!this._canPush()&&n.type==="broadcast"){let{event:s,payload:a}=n,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=e.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=u.body)===null||i===void 0?void 0:i.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let u=this._push(n.type,n,e.timeout||this.timeout);n.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Ye.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let o=new ko(this,dt.leave,{},n);o.receive("ok",()=>{e(),r("ok")}).receive("timeout",()=>{e(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}_fetchWithTimeout(n,e,r){return h(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=yield this.socket.fetch(n,Object.assign(Object.assign({},e),{signal:o.signal}));return clearTimeout(i),s})}_push(n,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ko(this,n,e,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(n,e,r){return e}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,e,r){var o,i;let s=n.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=dt;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,e,r);if(e&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var g,_,C;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((C=(_=f.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===s}).map(f=>f.callback(p,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var g,_,C,x,De,Me;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let ht=f.id,Yt=(g=f.filter)===null||g===void 0?void 0:g.event;return ht&&((_=e.ids)===null||_===void 0?void 0:_.includes(ht))&&(Yt==="*"||Yt?.toLocaleLowerCase()===((C=e.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{let ht=(De=(x=f?.filter)===null||x===void 0?void 0:x.event)===null||De===void 0?void 0:De.toLocaleLowerCase();return ht==="*"||ht===((Me=e?.event)===null||Me===void 0?void 0:Me.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof p=="object"&&"ids"in p){let g=p.data,{schema:_,table:C,commit_timestamp:x,type:De,errors:Me}=g;p=Object.assign(Object.assign({},{schema:_,table:C,commit_timestamp:x,eventType:De,new:{},old:{},errors:Me}),this._getPayloadRecords(g))}f.callback(p,r)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,e,r){let o=n.toLocaleLowerCase(),i={type:o,filter:e,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(n,e){let r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&t.isEqual(o.filter,e))}),this}static isEqual(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(let r in n)if(n[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(dt.close,{},n)}_onError(n){this._on(dt.error,{},e=>n(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let e={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(e.new=ep(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(e.old=ep(n.columns,n.old_record)),e}};var Ux=()=>{},Hx=typeof WebSocket<"u",zx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,ws=class{constructor(n,e){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=jw,this.params={},this.timeout=bc,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ux,this.conn=null,this.sendBuffer=[],this.serializer=new Cc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>import("./chunk-BX7VDEVO.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${n}/${Jh.websocket}`,this.httpEndpoint=Ec(n),e?.transport?this.transport=e.transport:this.transport=null,e?.params&&(this.params=e.params),e?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e?.timeout&&(this.timeout=e.timeout),e?.logger&&(this.logger=e.logger),e?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let o=(r=e?.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=e?.reconnectAfterMs?e.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=e?.encode?e.encode:(i,s)=>s(JSON.stringify(i)),this.decode=e?.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Oo(()=>h(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(e?.fetch),e?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=e?.worker||!1,this.workerUrl=e?.workerUrl}this.accessToken=e?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Hx){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new tp(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-BBCAVWXX.js").then(({default:n})=>{this.conn=new n(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Vw}))}disconnect(n,e){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(n){return h(this,null,function*(){let e=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return h(this,null,function*(){let n=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),n})}log(n,e,r){this.logger(n,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ro.connecting:return vr.Connecting;case Ro.open:return vr.Open;case Ro.closing:return vr.Closing;default:return vr.Closed}}isConnected(){return this.connectionState()===vr.Open}channel(n,e={config:{}}){let r=new _s(`realtime:${n}`,e,this);return this.channels.push(r),r}push(n){let{topic:e,event:r,payload:o,ref:i}=n,s=()=>{this.encode(n,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(n=null){return h(this,null,function*(){let e=n||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;if(e){let r=null;try{r=JSON.parse(atob(e.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=e,this.channels.forEach(o=>{e&&o.updateJoinPayload({access_token:e}),o.joinedOnce&&o._isJoined()&&o._push(dt.access_token,{access_token:e})})}})}sendHeartbeat(){return h(this,null,function*(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close($w,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}})}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let e=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${n}"`),e.unsubscribe())}_remove(n){this.channels=this.channels.filter(e=>e._joinRef()!==n._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,e=>{let{topic:r,event:o,payload:i,ref:s}=e;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${o} ${s&&"("+s+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(o,i,s)),this.stateChangeCallbacks.message.forEach(a=>a(e))})}_onConnOpen(){return h(this,null,function*(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(n=>n())})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(dt.error))}_appendParams(n,e){if(Object.keys(e).length===0)return n;let r=n.match(/\?/)?"&":"?",o=new URLSearchParams(e);return`${n}${r}${o}`}_workerObjectUrl(n){let e;if(n)e=n;else{let r=new Blob([zx],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}};var tp=class{constructor(n,e,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ro.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=r.close}};var Po=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function me(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Ic=class extends Po{constructor(n,e){super(n),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},yr=class extends Po{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}};var qx=function(t,n,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},Mc=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...e)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...e)):n=fetch,(...e)=>n(...e)},Uw=()=>qx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-BX7VDEVO.js")).Response:Response}),Sc=t=>{if(Array.isArray(t))return t.map(e=>Sc(e));if(typeof t=="function"||t!==Object(t))return t;let n={};return Object.entries(t).forEach(([e,r])=>{let o=e.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));n[o]=Sc(r)}),n};var _r=function(t,n,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},np=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Gx=(t,n,e)=>_r(void 0,void 0,void 0,function*(){let r=yield Uw();t instanceof r&&!e?.noResolveJson?t.json().then(o=>{n(new Ic(np(o),t.status||500))}).catch(o=>{n(new yr(np(o),o))}):n(new yr(np(t),t))}),Wx=(t,n,e,r)=>{let o={method:t,headers:n?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},n?.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),e))};function Ds(t,n,e,r,o,i){return _r(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(e,Wx(n,r,o,i)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>Gx(l,a,r))})})}function Fo(t,n,e,r){return _r(this,void 0,void 0,function*(){return Ds(t,"GET",n,e,r)})}function Wt(t,n,e,r,o){return _r(this,void 0,void 0,function*(){return Ds(t,"POST",n,r,o,e)})}function Hw(t,n,e,r,o){return _r(this,void 0,void 0,function*(){return Ds(t,"PUT",n,r,o,e)})}function zw(t,n,e,r){return _r(this,void 0,void 0,function*(){return Ds(t,"HEAD",n,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function Tc(t,n,e,r,o){return _r(this,void 0,void 0,function*(){return Ds(t,"DELETE",n,r,o,e)})}var Be=function(t,n,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},Zx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},xc=class{constructor(n,e={},r,o){this.url=n,this.headers=e,this.bucketId=r,this.fetch=Mc(o)}uploadOrUpdate(n,e,r,o){return Be(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},qw),o),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let c=this._removeEmptyFolders(e),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:n,body:i,headers:a},s?.duplex?{duplex:s.duplex}:{})),p=yield d.json();return d.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(me(i))return{data:null,error:i};throw i}})}upload(n,e,r){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,e,r)})}uploadToSignedUrl(n,e,r,o){return Be(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(n),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let l,c=Object.assign({upsert:qw.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),p=yield d.json();return d.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(me(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(n,e){return Be(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),o=Object.assign({},this.headers);e?.upsert&&(o["x-upsert"]="true");let i=yield Wt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new Po("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}update(n,e,r){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,e,r)})}move(n,e,r){return Be(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(me(o))return{data:null,error:o};throw o}})}copy(n,e,r){return Be(this,void 0,void 0,function*(){try{return{data:{path:(yield Wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(me(o))return{data:null,error:o};throw o}})}createSignedUrl(n,e,r){return Be(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n),i=yield Wt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(me(o))return{data:null,error:o};throw o}})}createSignedUrls(n,e,r){return Be(this,void 0,void 0,function*(){try{let o=yield Wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:n},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(me(o))return{data:null,error:o};throw o}})}download(n,e){return Be(this,void 0,void 0,function*(){let o=typeof e?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(e?.transform||{}),s=i?`?${i}`:"";try{let a=this._getFinalPath(n);return{data:yield(yield Fo(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(me(a))return{data:null,error:a};throw a}})}info(n){return Be(this,void 0,void 0,function*(){let e=this._getFinalPath(n);try{let r=yield Fo(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Sc(r),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}exists(n){return Be(this,void 0,void 0,function*(){let e=this._getFinalPath(n);try{return yield zw(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(me(r)&&r instanceof yr){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,e){let r=this._getFinalPath(n),o=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&o.push(i);let a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&o.push(l);let c=o.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(n){return Be(this,void 0,void 0,function*(){try{return{data:yield Tc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(e){if(me(e))return{data:null,error:e};throw e}})}list(n,e,r){return Be(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},Zx),e),{prefix:n||""});return{data:yield Wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(me(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};var Gw="2.7.1";var Ww={"X-Client-Info":`storage-js/${Gw}`};var Lo=function(t,n,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},Ac=class{constructor(n,e={},r){this.url=n,this.headers=Object.assign(Object.assign({},Ww),e),this.fetch=Mc(r)}listBuckets(){return Lo(this,void 0,void 0,function*(){try{return{data:yield Fo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}getBucket(n){return Lo(this,void 0,void 0,function*(){try{return{data:yield Fo(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(e){if(me(e))return{data:null,error:e};throw e}})}createBucket(n,e={public:!1}){return Lo(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}updateBucket(n,e){return Lo(this,void 0,void 0,function*(){try{return{data:yield Hw(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}emptyBucket(n){return Lo(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(me(e))return{data:null,error:e};throw e}})}deleteBucket(n){return Lo(this,void 0,void 0,function*(){try{return{data:yield Tc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(e){if(me(e))return{data:null,error:e};throw e}})}};var bs=class extends Ac{constructor(n,e={},r){super(n,e,r)}from(n){return new xc(this.url,this.headers,n,this.fetch)}};var Zw="2.49.4";var Cs="";typeof Deno<"u"?Cs="deno":typeof document<"u"?Cs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cs="react-native":Cs="node";var Kx={"X-Client-Info":`supabase-js-${Cs}/${Zw}`},Kw={headers:Kx},Yw={schema:"public"},Qw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Jw={};hp();var Yx=function(t,n,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},Qx=t=>{let n;return t?n=t:typeof fetch>"u"?n=dp:n=fetch,(...e)=>n(...e)},Jx=()=>typeof Headers>"u"?fp:Headers,Xw=(t,n,e)=>{let r=Qx(e),o=Jx();return(i,s)=>Yx(void 0,void 0,void 0,function*(){var a;let l=(a=yield n())!==null&&a!==void 0?a:t,c=new o(s?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},s),{headers:c}))})};var Xx=function(t,n,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})};function eD(t){return t.replace(/\/$/,"")}function tD(t,n){let{db:e,auth:r,realtime:o,global:i}=t,{db:s,auth:a,realtime:l,global:c}=n,u={db:Object.assign(Object.assign({},s),e),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),o),global:Object.assign(Object.assign({},c),i),accessToken:()=>Xx(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}var Nc="2.69.1";var wr=30*1e3,Rc=3,Oc=Rc*wr,nD="http://localhost:9999",rD="supabase.auth.token";var oD={"X-Client-Info":`gotrue-js/${Nc}`};var Es="X-Supabase-Api-Version",rp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sD=6e5;var Is=class extends Error{constructor(n,e,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};function k(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var kc=class extends Is{constructor(n,e,r){super(n,e,r),this.name="AuthApiError",this.status=e,this.code=r}};function aD(t){return k(t)&&t.name==="AuthApiError"}var jo=class extends Is{constructor(n,e){super(n),this.name="AuthUnknownError",this.originalError=e}},Zt=class extends Is{constructor(n,e,r,o){super(n,r,o),this.name=e,this.status=r}},ft=class extends Zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function lD(t){return k(t)&&t.name==="AuthSessionMissingError"}var Vo=class extends Zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Dr=class extends Zt{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},br=class extends Zt{constructor(n,e=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function cD(t){return k(t)&&t.name==="AuthImplicitGrantRedirectError"}var Ss=class extends Zt{constructor(n,e=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},$o=class extends Zt{constructor(n,e){super(n,"AuthRetryableFetchError",e,void 0)}};function Pc(t){return k(t)&&t.name==="AuthRetryableFetchError"}var Ms=class extends Zt{constructor(n,e,r){super(n,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};var yn=class extends Zt{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};var uD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dD=` 	
\r=`.split(""),eA=(()=>{let t=new Array(128);for(let n=0;n<t.length;n+=1)t[n]=-1;for(let n=0;n<dD.length;n+=1)t[dD[n].charCodeAt(0)]=-2;for(let n=0;n<uD.length;n+=1)t[uD[n].charCodeAt(0)]=n;return t})();function fD(t,n,e){let r=eA[t];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)e(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function op(t){let n=[],e=s=>{n.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{rA(s,r,e)};for(let s=0;s<t.length;s+=1)fD(t.charCodeAt(s),o,i);return n.join("")}function tA(t,n){if(t<=127){n(t);return}else if(t<=2047){n(192|t>>6),n(128|t&63);return}else if(t<=65535){n(224|t>>12),n(128|t>>6&63),n(128|t&63);return}else if(t<=1114111){n(240|t>>18),n(128|t>>12&63),n(128|t>>6&63),n(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function nA(t,n){for(let e=0;e<t.length;e+=1){let r=t.charCodeAt(e);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(t.charCodeAt(e+1)-56320&65535|o)+65536,e+=1}tA(r,n)}}function rA(t,n,e){if(n.utf8seq===0){if(t<=127){e(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=t&31;else if(n.utf8seq===3)n.codepoint=t&15;else if(n.utf8seq===4)n.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|t&63,n.utf8seq-=1,n.utf8seq===0&&e(n.codepoint)}}function hD(t){let n=[],e={queue:0,queuedBits:0},r=o=>{n.push(o)};for(let o=0;o<t.length;o+=1)fD(t.charCodeAt(o),e,r);return new Uint8Array(n)}function pD(t){let n=[];return nA(t,e=>n.push(e)),new Uint8Array(n)}function gD(t){return Math.round(Date.now()/1e3)+t}function mD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let n=Math.random()*16|0;return(t=="x"?n:n&3|8).toString(16)})}var Mt=()=>typeof window<"u"&&typeof document<"u",Cr={tested:!1,writable:!1},Hn=()=>{if(!Mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cr.tested)return Cr.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Cr.tested=!0,Cr.writable=!0}catch{Cr.tested=!0,Cr.writable=!1}return Cr.writable};function vD(t){let n={},e=new URL(t);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((o,i)=>{n[i]=o})}catch{}return e.searchParams.forEach((r,o)=>{n[o]=r}),n}var Fc=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...e)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...e)):n=fetch,(...e)=>n(...e)},yD=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ip=(t,n,e)=>h(void 0,null,function*(){yield t.setItem(n,JSON.stringify(e))}),xs=(t,n)=>h(void 0,null,function*(){let e=yield t.getItem(n);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),As=(t,n)=>h(void 0,null,function*(){yield t.removeItem(n)}),Ts=class t{constructor(){this.promise=new t.promiseConstructor((n,e)=>{this.resolve=n,this.reject=e})}};Ts.promiseConstructor=Promise;function Lc(t){let n=t.split(".");if(n.length!==3)throw new yn("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!iD.test(n[r]))throw new yn("JWT not in base64url format");return{header:JSON.parse(op(n[0])),payload:JSON.parse(op(n[1])),signature:hD(n[2]),raw:{header:n[0],payload:n[1]}}}function _D(t){return h(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),t)})})}function wD(t,n){return new Promise((r,o)=>{h(this,null,function*(){for(let i=0;i<1/0;i++)try{let s=yield t(i);if(!n(i,null,s)){r(s);return}}catch(s){if(!n(i,s)){o(s);return}}})})}function oA(t){return("0"+t.toString(16)).substr(-2)}function iA(){let n=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,o="";for(let i=0;i<56;i++)o+=e.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(n),Array.from(n,oA).join("")}function sA(t){return h(this,null,function*(){let e=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",e),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function aA(t){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let e=yield sA(t);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Er(t,n,e=!1){return h(this,null,function*(){let r=iA(),o=r;e&&(o+="/PASSWORD_RECOVERY"),yield ip(t,`${n}-code-verifier`,o);let i=yield aA(r);return[i,r===i?"plain":"s256"]})}var lA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function DD(t){let n=t.headers.get(Es);if(!n||!n.match(lA))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function bD(t){if(!t)throw new Error("Missing exp claim");let n=Math.floor(Date.now()/1e3);if(t<=n)throw new Error("JWT has expired")}function CD(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var cA=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]]);return e},Ir=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),uA=[502,503,504];function ED(t){return h(this,null,function*(){var n;if(!yD(t))throw new $o(Ir(t),0);if(uA.includes(t.status))throw new $o(Ir(t),t.status);let e;try{e=yield t.json()}catch(i){throw new jo(Ir(i),i)}let r,o=DD(t);if(o&&o.getTime()>=rp["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new Ms(Ir(e),t.status,((n=e.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new ft}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Ms(Ir(e),t.status,e.weak_password.reasons);throw new kc(Ir(e),t.status||500,r)})}var dA=(t,n,e,r)=>{let o={method:t,headers:n?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),e))};function U(t,n,e,r){return h(this,null,function*(){var o;let i=Object.assign({},r?.headers);i[Es]||(i[Es]=rp["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield fA(t,n,e+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function fA(t,n,e,r,o,i){return h(this,null,function*(){let s=dA(n,r,o,i),a;try{a=yield t(e,Object.assign({},s))}catch(l){throw console.error(l),new $o(Ir(l),0)}if(a.ok||(yield ED(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield ED(l)}})}function _n(t){var n;let e=null;hA(t)&&(e=Object.assign({},t),t.expires_at||(e.expires_at=gD(t.expires_in)));let r=(n=t.user)!==null&&n!==void 0?n:t;return{data:{session:e,user:r},error:null}}function sp(t){let n=_n(t);return!n.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(n.data.weak_password=t.weak_password),n}function Kt(t){var n;return{data:{user:(n=t.user)!==null&&n!==void 0?n:t},error:null}}function ID(t){return{data:t,error:null}}function SD(t){let{action_link:n,email_otp:e,hashed_token:r,redirect_to:o,verification_type:i}=t,s=cA(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:e,hashed_token:r,redirect_to:o,verification_type:i},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function MD(t){return t}function hA(t){return t.access_token&&t.refresh_token&&t.expires_in}var pA=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]]);return e},Bo=class{constructor({url:n="",headers:e={},fetch:r}){this.url=n,this.headers=e,this.fetch=Fc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(n,e="global"){return h(this,null,function*(){try{return yield U(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(k(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return h(this,arguments,function*(n,e={}){try{return yield U(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Kt})}catch(o){if(k(o))return{data:{user:null},error:o};throw o}})}generateLink(n){return h(this,null,function*(){try{let{options:e}=n,r=pA(n,["options"]),o=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:SD,redirectTo:e?.redirectTo})}catch(e){if(k(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(n){return h(this,null,function*(){try{return yield U(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Kt})}catch(e){if(k(e))return{data:{user:null},error:e};throw e}})}listUsers(n){return h(this,null,function*(){var e,r,o,i,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=n?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:MD});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{let _=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(g.split(";")[1].split("=")[1]);c[`${C}Page`]=_}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(k(c))return{data:{users:[]},error:c};throw c}})}getUserById(n){return h(this,null,function*(){try{return yield U(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Kt})}catch(e){if(k(e))return{data:{user:null},error:e};throw e}})}updateUserById(n,e){return h(this,null,function*(){try{return yield U(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:e,headers:this.headers,xform:Kt})}catch(r){if(k(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,e=!1){return h(this,null,function*(){try{return yield U(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:e},xform:Kt})}catch(r){if(k(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return h(this,null,function*(){try{let{data:e,error:r}=yield U(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:e,error:r}}catch(e){if(k(e))return{data:null,error:e};throw e}})}_deleteFactor(n){return h(this,null,function*(){try{return{data:yield U(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(e){if(k(e))return{data:null,error:e};throw e}})}};var TD={getItem:t=>Hn()?globalThis.localStorage.getItem(t):null,setItem:(t,n)=>{Hn()&&globalThis.localStorage.setItem(t,n)},removeItem:t=>{Hn()&&globalThis.localStorage.removeItem(t)}};function ap(t={}){return{getItem:n=>t[n]||null,setItem:(n,e)=>{t[n]=e},removeItem:n=>{delete t[n]}}}function xD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Sr={debug:!!(globalThis&&Hn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ns=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},jc=class extends Ns{};function lp(t,n,e){return h(this,null,function*(){Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>h(this,null,function*(){if(o){Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return yield e()}finally{Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(n===0)throw Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new jc(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Sr.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}xD();var gA={url:nD,storageKey:rD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function AD(t,n,e){return h(this,null,function*(){return yield e()})}var cp=(()=>{class t{constructor(e){var r,o;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&Mt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},gA),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Bo({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Fc(i.fetch),this.lock=i.lock||AD,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Mt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=lp:this.lock=AD,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Hn()?this.storage=TD:(this.memoryStorage={},this.storage=ap(this.memoryStorage)):(this.memoryStorage={},this.storage=ap(this.memoryStorage)),Mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",s=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Nc}) ${new Date().toISOString()}`,...e),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var e;try{let r=vD(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":(yield this._isPKCECallback(r))&&(o="pkce"),Mt()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=yield this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),cD(s)){let c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return k(r)?{error:r}:{error:new jo("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return h(this,null,function*(){var r,o,i;try{let s=yield U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:_n}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(k(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(e){return h(this,null,function*(){var r,o,i;try{let s;if("email"in e){let{email:d,password:p,options:f}=e,g=null,_=null;this.flowType==="pkce"&&([g,_]=yield Er(this.storage,this.storageKey)),s=yield U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:p,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:_},xform:_n})}else if("phone"in e){let{phone:d,password:p,options:f}=e;s=yield U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:_n})}else throw new Dr("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(k(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(e){return h(this,null,function*(){try{let r;if("email"in e){let{email:s,password:a,options:l}=e;r=yield U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:sp})}else if("phone"in e){let{phone:s,password:a,options:l}=e;r=yield U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:sp})}else throw new Dr("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Vo}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(e){return h(this,null,function*(){var r,o,i,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(e)}))})}_exchangeCodeForSession(e){return h(this,null,function*(){let r=yield xs(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=yield U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:_n});if(yield As(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Vo}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(k(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(e){return h(this,null,function*(){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=e,l=yield U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:_n}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Vo}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(e){return h(this,null,function*(){var r,o,i,s,a;try{if("email"in e){let{email:l,options:c}=e,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield Er(this.storage,this.storageKey));let{error:p}=yield U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(o=c?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){let{phone:l,options:c}=e,{data:u,error:d}=yield U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new Dr("You must provide either an email or phone number.")}catch(l){if(k(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(e){return h(this,null,function*(){var r,o;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(o=e.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:l}=yield U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:_n});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(k(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(e){return h(this,null,function*(){var r,o,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield Er(this.storage,this.storageKey)),yield U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:ID})}catch(s){if(k(s))return{data:null,error:s};throw s}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(e=>h(this,null,function*(){let{data:{session:r},error:o}=e;if(o)throw o;if(!r)throw new ft;let{error:i}=yield U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(e){if(k(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in e){let{email:o,type:i,options:s}=e,{error:a}=yield U(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:o,type:i,options:s}=e,{data:a,error:l}=yield U(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new Dr("You must provide either an email or phone number and a type")}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(e,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=h(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,e,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=yield xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let o=e.expires_at?e.expires_at*1e3-Date.now()<Oc:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}let{session:i,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return h(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return h(this,null,function*(){try{return e?yield U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Kt}):yield this._useSession(r=>h(this,null,function*(){var o,i,s;let{data:a,error:l}=r;if(l)throw l;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ft}:yield U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Kt})}))}catch(r){if(k(r))return lD(r)&&(yield this._removeSession(),yield As(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(o){return h(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(o){return h(this,arguments,function*(e,r={}){try{return yield this._useSession(i=>h(this,null,function*(){let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new ft;let l=s.session,c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=yield Er(this.storage,this.storageKey));let{data:d,error:p}=yield U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:Kt});if(p)throw p;return l.user=d.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(i){if(k(i))return{data:{user:null},error:i};throw i}})}setSession(e){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return h(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new ft;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=Lc(e.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{session:l,error:c}=yield this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(k(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(e){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;if(!e){let{data:a,error:l}=r;if(l)throw l;e=(o=a.session)!==null&&o!==void 0?o:void 0}if(!e?.refresh_token)throw new ft;let{session:i,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(e,r){return h(this,null,function*(){try{if(!Mt())throw new br("No browser detected.");if(e.error||e.error_description||e.error_code)throw new br(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ss("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new br("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ss("No code detected.");let{data:Me,error:ht}=yield this._exchangeCodeForSession(e.code);if(ht)throw ht;let Yt=new URL(window.location.href);return Yt.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Yt.toString()),{data:{session:Me.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!s||!l||!a||!u)throw new br("No session defined in URL");let d=Math.round(Date.now()/1e3),p=parseInt(l),f=d+p;c&&(f=parseInt(c));let g=f-d;g*1e3<=wr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);let _=f-p;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,f,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,f,d);let{data:C,error:x}=yield this._getUser(s);if(x)throw x;let De={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:f,refresh_token:a,token_type:u,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:De,redirectType:e.type},error:null}}catch(o){if(k(o))return{data:{session:null,redirectType:null},error:o};throw o}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return h(this,null,function*(){let r=yield xs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return h(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return h(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:l}=yield this.admin.signOut(a,e);if(l&&!(aD(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(yield this._removeSession(),yield As(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){let r=mD(),o={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(e){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(o){return h(this,arguments,function*(e,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=yield Er(this.storage,this.storageKey,!0));try{return yield U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(k(a))return{data:null,error:a};throw a}})}getUserIdentities(){return h(this,null,function*(){var e;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(k(r))return{data:null,error:r};throw r}})}linkIdentity(e){return h(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(s=>h(this,null,function*(){var a,l,c,u,d;let{data:p,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield U(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(i)throw i;return Mt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:e.provider,url:o?.url},error:null}}catch(o){if(k(o))return{data:{provider:e.provider,url:null},error:o};throw o}})}unlinkIdentity(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(k(r))return{data:null,error:r};throw r}})}_refreshAccessToken(e){return h(this,null,function*(){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield wD(i=>h(this,null,function*(){return i>0&&(yield _D(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_n})}),(i,s)=>{let a=200*Math.pow(2,i);return s&&Pc(s)&&Date.now()+a-o<wr})}catch(o){if(this._debug(r,"error",o),k(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return h(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",o),Mt()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var e;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let o=yield xs(this.storage,this.storageKey);if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&(yield this._removeSession());return}let i=((e=o.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Oc;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Oc}s`),i){if(this.autoRefreshToken&&o.refresh_token){let{error:s}=yield this._callRefreshToken(o.refresh_token);s&&(console.error(s),Pc(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}})}_callRefreshToken(e){return h(this,null,function*(){var r,o;if(!e)throw new ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ts;let{data:s,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new ft;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),k(s)){let a={session:null,error:s};return Pc(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(e,r,o=!0){return h(this,null,function*(){let i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>h(this,null,function*(){try{yield l.callback(e,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(e){return h(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield ip(this.storage,this.storageKey,e)})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),yield As(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Mt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),wr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-e)/wr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${wr}ms, refresh threshold is ${Rc} ticks`),i<=Rc&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof Ns)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Mt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return h(this,null,function*(){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,o){return h(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=yield Er(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${i.join("&")}`})}_unenroll(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(k(r))return{data:null,error:r};throw r}})}_enroll(e){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=yield U(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(k(r))return{data:null,error:r};throw r}})}_verify(e){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=yield U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})}))}catch(r){if(k(r))return{data:null,error:r};throw r}}))})}_challenge(e){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(k(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(e){return h(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:e.factorId});return o?{data:null,error:o}:yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return h(this,null,function*(){let{data:{user:e},error:r}=yield this.getUser();if(r)return{data:null,error:r};let o=e?.factors||[],i=o.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=o.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:o,totp:i,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){return yield this._useSession(e=>h(this,null,function*(){var r,o;let{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=Lc(i.access_token),l=null;a.aal&&(l=a.aal);let c=l;((o=(r=i.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(c="aal2");let d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(o){return h(this,arguments,function*(e,r={keys:[]}){let i=r.keys.find(l=>l.kid===e);if(i||(i=this.jwks.keys.find(l=>l.kid===e),i&&this.jwks_cached_at+sD>Date.now()))return i;let{data:s,error:a}=yield U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new yn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),i=s.keys.find(l=>l.kid===e),!i)throw new yn("No matching signing key found in JWKS");return i})}getClaims(o){return h(this,arguments,function*(e,r={keys:[]}){try{let i=e;if(!i){let{data:_,error:C}=yield this.getSession();if(C||!_.session)return{data:null,error:C};i=_.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:u}}=Lc(i);if(bD(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:_}=yield this.getUser(i);if(_)throw _;return{data:{claims:a,header:s,signature:l},error:null}}let d=CD(s.alg),p=yield this.fetchJwk(s.kid,r),f=yield crypto.subtle.importKey("jwk",p,d,!0,["verify"]);if(!(yield crypto.subtle.verify(d,f,l,pD(`${c}.${u}`))))throw new yn("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(i){if(k(i))return{data:null,error:i};throw i}})}}return t.nextInstanceID=0,t})();var mA=cp,up=mA;var Vc=class extends up{constructor(n){super(n)}};var vA=function(t,n,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},$c=class{constructor(n,e,r){var o,i,s;if(this.supabaseUrl=n,this.supabaseKey=e,!n)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");let a=eD(n);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Yw,realtime:Jw,auth:Object.assign(Object.assign({},Qw),{storageKey:l}),global:Kw},u=tD(r??{},c);this.storageKey=(o=u.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=Xw(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Fw(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new ds(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new bs(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},r={}){return this.rest.rpc(n,e,r)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,e;return vA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:o,storageKey:i,flowType:s,lock:a,debug:l},c,u){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Vc({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:o,flowType:s,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new ws(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(n,e,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var ND=(t,n,e)=>new $c(t,n,e);var Ue=class t{supabaseUrl=Vh.supabaseUrl;supabaseKey=Vh.supabaseKey;supabaseClient;constructor(){this.supabaseClient=ND(this.supabaseUrl,this.supabaseKey,{auth:{autoRefreshToken:!1,persistSession:!1,detectSessionInUrl:!1}})}getLouvoresLista(){return h(this,null,function*(){let n=yield fetch(`${this.supabaseUrl}/rest/v1/TbLouvores?select=id,nome,cantor,url&order=created.desc&limit=90`,{method:"GET",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`}});if(!n.ok)throw new Error("Network response was not ok");return n.json()})}getLouvorById(n){return h(this,null,function*(){let e=yield fetch(`${this.supabaseUrl}/rest/v1/TbLouvores?id=eq.${n}`,{method:"GET",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`}});if(!e.ok)throw new Error("Network response was not ok");return(yield e.json())[0]})}addLouvor(n){return h(this,null,function*(){return!!(yield fetch(`${this.supabaseUrl}/rest/v1/TbLouvores`,{method:"POST",headers:{"Content-Type":"application/json",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`},body:JSON.stringify(n)})).ok})}removerLouvor(n){return h(this,null,function*(){return!!(yield fetch(`${this.supabaseUrl}/rest/v1/TbLouvores?id=eq.${n}`,{method:"DELETE",headers:{"Content-Type":"application/json",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`}})).ok})}updateLouvor(n){return h(this,null,function*(){return!!(yield fetch(`${this.supabaseUrl}/rest/v1/TbLouvores?id=eq.${n.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`},body:JSON.stringify(n)})).ok})}getLetrasByLouvorId(n){return h(this,null,function*(){let e=yield fetch(`${this.supabaseUrl}/rest/v1/TbLetras?louvor_id=eq.${n}&order=ordem.asc`,{method:"GET",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`}});if(!e.ok)throw new Error("Erro ao buscar letras");return yield e.json()})}getLetraById(n){return h(this,null,function*(){let e=yield fetch(`${this.supabaseUrl}/rest/v1/TbLetras?id=eq.${n}`,{method:"GET",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`}});if(!e.ok)throw new Error("Erro ao buscar letra");return(yield e.json())[0]})}addLetra(n){return h(this,null,function*(){let e=yield fetch(`${this.supabaseUrl}/rest/v1/TbLetras`,{method:"POST",headers:{"Content-Type":"application/json",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`,Prefer:"return=representation"},body:JSON.stringify(n)});return e.ok?(yield e.json())[0]?.id??"":""})}updateLetra(n){return h(this,null,function*(){return!!(yield fetch(`${this.supabaseUrl}/rest/v1/TbLetras?id=eq.${n.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`},body:JSON.stringify(n)})).ok})}removerLetra(n){return h(this,null,function*(){return!!(yield fetch(`${this.supabaseUrl}/rest/v1/TbLetras?id=eq.${n}`,{method:"DELETE",headers:{"Content-Type":"application/json",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`}})).ok})}getQtdLetrasByLouvorId(n){return h(this,null,function*(){let e=yield fetch(`${this.supabaseUrl}/rest/v1/TbLetras?louvor_id=eq.${n}`,{method:"GET",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`}});if(!e.ok)throw new Error("Erro ao buscar letras");return(yield e.json()).length})}onLetraChanged(n,e){return this.supabaseClient.channel("realtime-letras").on("postgres_changes",{event:"*",schema:"public",table:"TbLetras",filter:`louvor_id=eq.${n}`},()=>{e()}).subscribe()}ReordenarLetras(n){return h(this,null,function*(){try{let r=yield(yield fetch(`${this.supabaseUrl}/rest/v1/TbLetras?louvor_id=eq.${n}&order=ordem.asc`,{method:"GET",headers:{apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`,"Content-Type":"application/json"}})).json();if(!Array.isArray(r))return console.error("Erro ao buscar letras para reordenar:",r),!1;for(let o=0;o<r.length;o++){let i=r[o],s=o+1;if(i.ordem!=s&&i.ordem!==s){let a=yield fetch(`${this.supabaseUrl}/rest/v1/TbLetras?id=eq.${i.id}`,{method:"PATCH",headers:{apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`,"Content-Type":"application/json"},body:JSON.stringify({ordem:s})})}}return!0}catch(e){console.error("Erro ao reordenar letras:",e)}return!1})}duplicarLetra(n){return h(this,null,function*(){try{let e=yield this.getLetraById(n);if(!e)return console.error("Letra n\xE3o encontrada"),!1;let o=(yield this.getLetrasByLouvorId(e.louvor_id)).reduce((a,l)=>Math.max(a,l.ordem),0),i=L(w({},e),{ordem:o+1});return delete i.id,(yield this.addLetra(i))!==""}catch(e){return console.error("Erro ao duplicar letra:",e),!1}})}sanitizePhrase(n){return n.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9 ]/g,"").trim()}searchLouvoresByLyricSubstring(n){return h(this,null,function*(){let e=this.sanitizePhrase(n),{data:r,error:o}=yield this.supabaseClient.from("vlouvores").select("louvor_id").ilike("letra_normalizada",`%${e}%`);if(o)throw console.error("Erro buscando letras normalizadas:",o),o;let i=r,s=Array.from(new Set(i.map(c=>c.louvor_id)));if(s.length===0)return[];let{data:a,error:l}=yield this.supabaseClient.from("TbLouvores").select("*").in("id",s).order("cantor",{ascending:!0}).order("nome",{ascending:!0});if(l)throw console.error("Erro buscando louvores:",l),l;return a??[]})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})};var yA=()=>["/louvores/add"],_A=t=>["/louvores/cantar",t],wA=t=>["/louvores/edit",t];function DA(t,n){t&1&&(v(0,"section",3)(1,"a",8),T(2,"i",9),b(3," Adicionar "),m()()),t&2&&(M(),F("routerLink",An(1,yA)))}function bA(t,n){if(t&1){let e=rt();v(0,"div",10)(1,"div",11)(2,"input",12),Si("ngModelChange",function(o){he(e);let i=Z();return hl(i.filtro_search,o)||(i.filtro_search=o),pe(o)}),m()(),v(3,"div",13)(4,"button",14),W("click",function(){he(e);let o=Z();return pe(o.filtrar())}),b(5,"Buscar"),m()()()}if(t&2){let e=Z();M(2),Ii("ngModel",e.filtro_search)}}function CA(t,n){if(t&1&&(v(0,"div",1)(1,"div",15)(2,"span",16),b(3,"Foram encontrados"),m(),v(4,"span",17),b(5),m(),v(6,"span",18),b(7,"louvores"),m()()()),t&2){let e=Z();M(5),xn(e.qtdLouvores)}}function EA(t,n){if(t&1){let e=rt();v(0,"span",27),T(1,"i",28),m(),v(2,"span",29),W("click",function(){he(e);let o=Z().$implicit,i=Z();return pe(i.removerLouvor(o.id))}),T(3,"i",30),m()}if(t&2){let e=Z().$implicit;F("routerLink",$t(1,wA,e.id))}}function IA(t,n){if(t&1&&(v(0,"a",24),T(1,"i",31),m()),t&2){let e=Z().$implicit;kf("href",e.url,pf)}}function SA(t,n){if(t&1&&(v(0,"li",7)(1,"section",19)(2,"div",20)(3,"span",21),b(4),m(),v(5,"span",22),b(6),m()(),v(7,"div",23),re(8,EA,4,3)(9,IA,2,1,"a",24),v(10,"span",25),T(11,"i",26),m()()()()),t&2){let e=n.$implicit,r=Z();M(4),xn(e.nome),M(2),xn(e.cantor),M(2),ae(r.isEditing?8:-1),M(),ae(e.url?9:-1),M(),F("routerLink",$t(5,_A,e.id))}}var Bc=class t{constructor(n){this.supabaseService=n}modoFiltro="texto";listaLouvores=[];listaLouvoresFiltrada=[];isEditing=!1;contador=0;limite=0;filtro_search="";qtdLouvores=0;ngOnInit(){this.inicializarContadorLocalStorage(),this.carregarLouvores()}inicializarContadorLocalStorage(){let n=localStorage.getItem("limiteLouvores");n===null?(localStorage.setItem("limiteLouvores","45"),this.limite=15):this.limite=parseInt(n,10),this.contador=0,localStorage.setItem("contadorLouvores","0"),this.isEditing=!1}removerAcentos(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}filtrar(){return h(this,null,function*(){let n=this.filtro_search.trim();if(!n){this.listaLouvoresFiltrada=[...this.listaLouvores],this.qtdLouvores=this.listaLouvoresFiltrada.length;return}if(n.length<3){this.listaLouvoresFiltrada=[...this.listaLouvores],this.qtdLouvores=this.listaLouvoresFiltrada.length;return}try{this.listaLouvoresFiltrada=yield this.supabaseService.searchLouvoresByLyricSubstring(n),this.qtdLouvores=this.listaLouvoresFiltrada.length}catch(e){console.error("Erro na busca por letra:",e),this.listaLouvoresFiltrada=this.listaLouvores.filter(r=>{let o=[r.nome,r.cantor,r.tom,r.inicio,r.url].join(" ").toLowerCase();return this.removerAcentos(o).includes(this.removerAcentos(n.toLowerCase()))}),this.qtdLouvores=this.listaLouvoresFiltrada.length}})}incrementa(){this.contador++,localStorage.setItem("contadorLouvores",this.contador.toString()),this.contador>=this.limite&&(this.isEditing=!0)}carregarLouvores(){return h(this,null,function*(){try{this.listaLouvores=yield this.supabaseService.getLouvoresLista(),this.listaLouvoresFiltrada=[...this.listaLouvores],this.qtdLouvores=this.listaLouvoresFiltrada.length}catch(n){console.error("Erro ao carregar louvores:",n)}})}removerLouvor(n){return h(this,null,function*(){if(confirm("Tem certeza que deseja remover este louvor?"))try{let{error:r}=yield this.supabaseService.removerLouvor(n);r?(console.error("Erro ao remover louvor:",r),alert("Erro ao remover louvor.")):this.listaLouvores=this.listaLouvores.filter(o=>o.id!==n)}catch(r){console.error("Erro inesperado:",r)}})}static \u0275fac=function(e){return new(e||t)(D(Ue))};static \u0275cmp=be({type:t,selectors:[["app-louvores-lista"]],decls:10,vars:3,consts:[[3,"click"],[1,"row","mb-2"],[1,"col-12","mb-2"],[1,"text-end"],["class","row g-1 mb-2",4,"ngIf"],[1,"col-12"],[1,"list-group"],[1,"list-group-item","mb-2","shadow-sm","p-2"],["accesskey","a",1,"btn","btn-outline-primary","btn-sm",3,"routerLink"],[1,"fa-solid","fa-plus"],[1,"row","g-1","mb-2"],[1,"col-9","col-md-10"],["type","text","name","filtroInput","placeholder","Pesquisar...",1,"form-control","form-control",3,"ngModelChange","ngModel"],[1,"col-3","col-md-2"],[1,"form-control","btn","btn-primary",3,"click"],[2,"font-size","1.1rem"],[1,"d-inline","me-2"],[1,"d-inline","fw-bold","text-danger","me-2"],[1,"d-inline"],[1,"d-flex","justify-content-between","align-items-center","rounded-1"],[1,"m-0",2,"line-height","1.4rem"],[1,"text-primary","d-block","mb-0",2,"font-size","1.2rem","font-weight","700"],[1,"mt-0","mb-0",2,"font-weight","600","font-size","1rem"],[1,"m-0"],["target","_blank",1,"btn","btn-sm","btn-outline-danger","me-2",3,"href"],[1,"btn","btn-sm","btn-outline-primary",3,"routerLink"],[1,"fa-solid","fa-tv"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"routerLink"],[1,"fa-solid","fa-edit"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-trash"],[1,"fa-brands","fa-youtube"]],template:function(e,r){e&1&&(v(0,"div",0),W("click",function(){return r.incrementa()}),v(1,"div",1)(2,"div",2),re(3,DA,4,2,"section",3),m()(),re(4,bA,6,1,"div",4)(5,CA,8,1,"div",1),v(6,"div",5)(7,"ul",6),ho(8,SA,12,7,"li",7,fo),m()()()),e&2&&(M(3),ae(r.isEditing?3:-1),M(),F("ngIf",r.modoFiltro==="texto"),M(),ae(r.qtdLouvores>0?5:-1),M(3),po(r.listaLouvoresFiltrada))},dependencies:[Ke,$e,gc,lt,ct,as,Rn,Ai],encapsulation:2})};var MA=()=>["/"],Uc=class t{constructor(n,e,r){this.fb=n;this.supabaseService=e;this.router=r;this.form=this.fb.group({nome:["",ne.required],cantor:["",ne.required],inicio:["",ne.required],grupo:["",ne.required],tom:["",[ne.required,ne.minLength(1),ne.maxLength(3)]],url:[""]})}form;onSubmit(){return h(this,null,function*(){if(this.form.valid){let n=this.form.value;n.nome=n.nome.trim(),n.cantor=n.cantor.trim(),n.inicio=n.inicio.trim(),n.tom=n.tom.trim(),n.url=n.url.trim(),n.grupo=n.grupo.trim();try{let e=yield this.supabaseService.addLouvor(n);if(!e){console.error("Error adding louvor:",e);return}this.router.navigate([""])}catch(e){console.error("Error adding louvor:",e)}}})}static \u0275fac=function(e){return new(e||t)(D(Bn),D(Ue),D(ge))};static \u0275cmp=be({type:t,selectors:[["app-louvores-add"]],decls:48,vars:4,consts:[[3,"ngSubmit","formGroup"],[1,"row","mb-2","g-2"],[1,"col-12","col-md-7"],[1,"form-group"],["for","nome"],["type","text","id","nome","formControlName","nome","placeholder","Nome",1,"form-control","fw-medium"],[1,"col-12","col-md-5"],["for","cantor"],["type","text","id","cantor","formControlName","cantor","placeholder","Cantor",1,"form-control","fw-medium"],[1,"col-8"],["for","inicio"],["id","inicio","formControlName","inicio","maxlength","70","placeholder","Trecho inicial",1,"form-control","fw-medium"],[1,"col-4"],["for","grupo"],["id","grupo","formControlName","grupo","placeholder","Escolha o grupo",1,"form-control","fw-medium"],["value",""],["value","Irm\xE3s"],["value","Jovens"],["value","Var\xF5es"],["value","Outros"],[1,"col-12","col-md-9"],["for","url"],["type","url","id","url","formControlName","url",1,"form-control","fw-medium"],[1,"col-12","col-md-3"],["for","tom"],["type","text","id","tom","formControlName","tom","maxlength","3",1,"form-control","fw-medium"],["accesskey","s","type","submit",1,"btn","btn-outline-primary","me-2",3,"disabled"],[1,"fa-solid","fa-floppy-disk","me-2"],["accesskey","v",1,"btn","btn-outline-success",3,"routerLink"],[1,"fa-solid","fa-home","me-2"]],template:function(e,r){e&1&&(v(0,"form",0),W("ngSubmit",function(){return r.onSubmit()}),v(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),b(5,"Nome"),m(),T(6,"input",5),m()(),v(7,"div",6)(8,"div",3)(9,"label",7),b(10,"Cantor"),m(),T(11,"input",8),m()(),v(12,"div",9)(13,"div",3)(14,"label",10),b(15,"In\xEDcio"),m(),T(16,"input",11),m()(),v(17,"div",12)(18,"div",3)(19,"label",13),b(20,"Grupo"),m(),v(21,"select",14)(22,"option",15),b(23,"Selecione"),m(),v(24,"option",16),b(25,"Irm\xE3s"),m(),v(26,"option",17),b(27,"Jovens"),m(),v(28,"option",18),b(29,"Var\xF5es"),m(),v(30,"option",19),b(31,"Outros"),m()()()(),v(32,"div",20)(33,"div",3)(34,"label",21),b(35,"Url"),m(),T(36,"input",22),m()(),v(37,"div",23)(38,"div",3)(39,"label",24),b(40,"Tonalidade"),m(),T(41,"input",25),m()()(),v(42,"button",26),T(43,"i",27),b(44," Salvar "),m(),v(45,"a",28),T(46,"i",29),b(47," Voltar "),m()()),e&2&&(F("formGroup",r.form),M(42),F("disabled",r.form.invalid),M(3),F("routerLink",An(3,MA)))},dependencies:[Ke,$e,Un,$n,qt,Gt,lt,ut,ct,Vn,cs,gn,mn],encapsulation:2})};var Hc=class t{transform(n){return n?"intro":"estrofe"}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=Ct({name:"isIntro",type:t,pure:!0})};var Ho=class t{constructor(n){this.sanitizer=n}transform(n){let o=n.split(/(\s+)/).map(i=>i.includes("{")&&i.includes("}")?`<span style="white-space: nowrap;">${i.replace(/\{([^|]+)\|([^}]+)\}/g,(a,l,c)=>`<span class="nota"><small class="nota-label">${c}</small>${l}</span>`)}</span>`:i).join("");return this.sanitizer.bypassSecurityTrustHtml(o)}static \u0275fac=function(e){return new(e||t)(D(Fi,16))};static \u0275pipe=Ct({name:"formataNotas",type:t,pure:!0})};var zo=class t{transform(n){return n.replaceAll("qq","<br>")}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=Ct({name:"quebralinha",type:t,pure:!0})};var TA=t=>["/louvores/cantar",t],xA=()=>["/"],AA=t=>["/louvores",t,"letras","add"],NA=(t,n)=>["/louvores",t,"letras","edit",n];function RA(t,n){if(t&1&&(T(0,"div",54),ot(1,"quebralinha"),ot(2,"formataNotas")),t&2){let e=Z().$implicit;F("innerHTML",it(2,3,it(1,1,e.letra)),Tn)}}function OA(t,n){if(t&1&&(T(0,"div",54),ot(1,"quebralinha")),t&2){let e=Z().$implicit;F("innerHTML",it(1,1,e.letra),Tn)}}function kA(t,n){if(t&1){let e=rt();v(0,"li",42)(1,"div",43)(2,"section",44)(3,"span",45),b(4),m(),v(5,"span",46),W("click",function(){he(e);let o=Z();return pe(o.toggleMostrarNotas())}),b(6),ot(7,"isIntro"),m(),v(8,"div")(9,"span",47),T(10,"i",48),b(11," Editar "),m(),v(12,"span",49),W("click",function(){let o=he(e).$implicit,i=Z();return pe(i.deleteLetra(o.id))}),T(13,"i",50),b(14," Remover "),m(),v(15,"span",51),W("click",function(){let o=he(e).$implicit,i=Z();return pe(i.duplicar(o.id))}),T(16,"i",52),b(17," Duplicar "),m()()(),v(18,"section",53),re(19,RA,3,5,"div",54)(20,OA,2,3,"div",54),T(21,"div",55),ot(22,"formataNotas"),m()()()}if(t&2){let e=n.$implicit,r=Z();M(4),xn(e.ordem),M(2),xn(it(7,5,e.is_intro)),M(3),F("routerLink",yy(9,NA,e.louvor_id,e.id)),M(10),ae(r.mostrarNotas==!0?19:20),M(2),F("innerHTML",it(22,7,e.notas),Tn)}}var zc=class t{constructor(n,e,r,o){this.fb=n;this.supabaseService=e;this.route=r;this.router=o;this.form=this.fb.group({nome:["",ne.required],cantor:["",ne.required],inicio:["",ne.required],grupo:["",ne.required],tom:["",[ne.required,ne.minLength(1),ne.maxLength(3)]],url:[""]}),this.route.paramMap.subscribe(i=>{this.id=i.get("id")??"",this.id&&(this.carregaLouvor(),this.carregaLetras())})}mostrarNotas=!1;id="";form;letras=[];onSubmit(){return h(this,null,function*(){if(this.form.valid){let n=this.form.value;n.id=this.id,n.nome=n.nome.trim(),n.cantor=n.cantor.trim(),n.inicio=n.inicio.trim(),n.tom=n.tom.trim(),n.url=n.url.trim(),n.grupo=n.grupo.trim();try{let e=yield this.supabaseService.updateLouvor(n);if(!e){console.error("Error updating louvor:",e);return}yield this.carregaLetras(),this.router.navigate([""])}catch(e){console.error("Error updating louvor:",e)}}})}carregaLouvor(){return h(this,null,function*(){try{let n=yield this.supabaseService.getLouvorById(this.id);n?this.form.patchValue({nome:n.nome,cantor:n.cantor,inicio:n.inicio,tom:n.tom,url:n.url,grupo:n.grupo}):console.error("Louvor not found")}catch(n){console.error("Error fetching louvor:",n)}})}carregaLetras(){return h(this,null,function*(){try{let n=yield this.supabaseService.getLetrasByLouvorId(this.id);n&&(this.letras=n)}catch(n){console.error("Error fetching letras:",n)}})}deleteLetra(n){return h(this,null,function*(){if(confirm("Tem certeza que deseja remover essa letra?"))try{let r=yield this.supabaseService.removerLetra(n);r?this.carregaLetras():console.error("Error deleting letra:",r)}catch(r){console.error("Error deleting letra:",r)}})}getFullUrl(n){return`${window.location.origin}/louvoresnotas/louvores/cantar/${n}`}reordenar(){return h(this,null,function*(){yield this.supabaseService.ReordenarLetras(this.id)})}duplicar(n){this.supabaseService.duplicarLetra(n).then(e=>{e?this.carregaLetras():console.error("Error duplicating letra:",e)})}toggleMostrarNotas(){this.mostrarNotas=!this.mostrarNotas}static \u0275fac=function(e){return new(e||t)(D(Bn),D(Ue),D(Ce),D(ge))};static \u0275cmp=be({type:t,selectors:[["app-louvores-edit"]],decls:69,vars:10,consts:[[1,"mb-2",3,"ngSubmit","formGroup"],[1,"row","mb-2"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center"],[1,"m-0","text-primary"],[1,"btn","btn-sm","btn-outline-primary",3,"routerLink"],[1,"fa-solid","fa-tv"],[1,"row","mb-2","g-2"],[1,"col-12","col-md-7"],[1,"form-group"],["for","nome"],["type","text","id","nome","formControlName","nome",1,"form-control","fw-medium"],[1,"col-12","col-md-5"],["for","cantor"],["type","text","id","cantor","formControlName","cantor",1,"form-control","fw-medium"],[1,"col-8"],["for","inicio"],["id","inicio","formControlName","inicio","maxlength","70","placeholder","Trecho inicial",1,"form-control","fw-medium"],[1,"col-4"],["for","grupo"],["id","grupo","formControlName","grupo","placeholder","Escolha o grupo",1,"form-control","fw-medium"],["value",""],["value","Irm\xE3s"],["value","Jovens"],["value","Var\xF5es"],["value","Outros"],[1,"col-12","col-md-9"],["for","url"],["type","url","id","url","formControlName","url",1,"form-control","fw-medium"],[1,"col-12","col-md-3"],["for","tom"],["type","text","id","tom","formControlName","tom","maxlength","3",1,"form-control","fw-medium"],["accesskey","s","type","submit",1,"btn","btn-outline-primary","me-2",3,"disabled"],[1,"fa-solid","fa-floppy-disk","me-2"],["accesskey","r",1,"btn","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-arrows-rotate","me-2"],["accesskey","v",1,"btn","btn-outline-success",3,"routerLink"],[1,"fa-solid","fa-home","me-2"],["accesskey","a",1,"btn","btn-sm","btn-outline-success",3,"routerLink"],[1,"fa-solid","fa-plus"],["If","letras.length > 0"],[1,"list-group","mb-2"],[1,"list-group-item","mb-3","shadow-sm","p-2"],[1,""],[1,"d-flex","justify-content-between","align-items-center","bg-white"],[1,"fw-bold","text-black",2,"font-size","1.23rem"],[1,"fw-bold","text-black","cursor",2,"font-size","1.23rem",3,"click"],[1,"btn","btn-sm","btn-light","me-3",3,"routerLink"],[1,"fa-solid","fa-edit"],[1,"btn","btn-sm","btn-light","me-3",3,"click"],[1,"fa-solid","fa-trash"],[1,"btn","btn-sm","btn-light",3,"click"],[1,"fa-solid","fa-copy"],[1,"bg-white","mt-4"],[1,"mb-1","fw-medium",2,"font-size","1.2rem",3,"innerHTML"],[1,"fw-bold","text-primary","fs-5",3,"innerHTML"]],template:function(e,r){e&1&&(v(0,"form",0),W("ngSubmit",function(){return r.onSubmit()}),v(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),b(5,"Formul\xE1rio de Edi\xE7\xE3o"),m(),v(6,"span",5),T(7,"i",6),m()()()(),v(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),b(12,"Nome"),m(),T(13,"input",11),m()(),v(14,"div",12)(15,"div",9)(16,"label",13),b(17,"Cantor"),m(),T(18,"input",14),m()(),v(19,"div",15)(20,"div",9)(21,"label",16),b(22,"In\xEDcio"),m(),T(23,"input",17),m()(),v(24,"div",18)(25,"div",9)(26,"label",19),b(27,"Grupo"),m(),v(28,"select",20)(29,"option",21),b(30,"Selecione"),m(),v(31,"option",22),b(32,"Irm\xE3s"),m(),v(33,"option",23),b(34,"Jovens"),m(),v(35,"option",24),b(36,"Var\xF5es"),m(),v(37,"option",25),b(38,"Outros"),m()()()(),v(39,"div",26)(40,"div",9)(41,"label",27),b(42,"Url"),m(),T(43,"input",28),m()(),v(44,"div",29)(45,"div",9)(46,"label",30),b(47,"Tonalidade"),m(),T(48,"input",31),m()()(),v(49,"button",32),T(50,"i",33),b(51," Salvar "),m(),v(52,"span",34),W("click",function(){return r.reordenar()}),T(53,"i",35),b(54," Reordenar "),m(),v(55,"a",36),T(56,"i",37),b(57," Voltar "),m()(),v(58,"div",1)(59,"section",3)(60,"h4",4),b(61,"Letra da can\xE7\xE3o"),m(),v(62,"div")(63,"span",38),T(64,"i",39),m()()()(),v(65,"section",40)(66,"ul",41),ho(67,kA,23,12,"li",42,fo),m()()),e&2&&(F("formGroup",r.form),M(6),F("routerLink",$t(5,TA,r.id)),M(43),F("disabled",r.form.invalid),M(6),F("routerLink",An(7,xA)),M(8),F("routerLink",$t(8,AA,r.id)),M(4),po(r.letras))},dependencies:[Ke,$e,Un,$n,qt,Gt,lt,ut,ct,Vn,cs,gn,mn,Hc,Ho,zo],encapsulation:2})};var PA=t=>["/louvores","edit",t];function FA(t,n){t&1&&(v(0,"div",2)(1,"h4",10),b(2,"Formul\xE1rio de Edi\xE7\xE3o"),m()())}function LA(t,n){t&1&&(v(0,"label",6),b(1,"Letra"),m())}function jA(t,n){t&1&&(v(0,"div",4)(1,"div",5)(2,"label",11),b(3,"Notas"),m(),T(4,"input",12),m()(),v(5,"div",13)(6,"div",5)(7,"label",14),b(8,"Ordem"),m(),T(9,"input",15),m()(),v(10,"div",13)(11,"div",5)(12,"label",16),b(13,"Introdu\xE7\xE3o"),m(),v(14,"select",17)(15,"option",18),b(16,"N\xE3o"),m(),v(17,"option",18),b(18,"Sim"),m()()()()),t&2&&(M(15),F("ngValue",!1),M(2),F("ngValue",!0))}function VA(t,n){t&1&&b(0," Desligar Atalhos ")}function $A(t,n){t&1&&(T(0,"i",22),b(1," Ligar Atalhos "))}function BA(t,n){if(t&1){let e=rt();v(0,"a",19),T(1,"i",20),b(2," Voltar "),m(),v(3,"span",21),W("click",function(){he(e);let o=Z();return pe(o.toogleLigarAtalhos())}),re(4,VA,1,0)(5,$A,2,0),m()}if(t&2){let e=Z();F("routerLink",$t(2,PA,e.louvor_id)),M(4),ae(e.ligar_atalhos==!0?4:5)}}var qc=class t{constructor(n,e,r,o){this.fb=n;this.supabaseService=e;this.route=r;this.router=o;this.form=this.fb.group({ordem:[0,ne.required],letra:["",ne.required],notas:[""],is_intro:[!1],id:[""],louvor_id:[""]}),this.route.paramMap.subscribe(i=>{this.id=i.get("id")??"",this.louvor_id=i.get("louvor_id")??"",this.id&&this.carregaLetra()})}id="";louvor_id="";form;ligar_atalhos=!0;mostrar_controles=!0;onSubmit(){return h(this,null,function*(){if(this.form.valid){let n=this.form.value;n.id=this.id,n.louvor_id=this.louvor_id,n.letra=n.letra.trim().replace(/\n/g," ").replaceAll("  "," "),n.notas=n.notas.trim();try{let e=yield this.supabaseService.updateLetra(n);if(!e){console.error("Error updating letra:",e);return}this.carregaLetra()}catch(e){console.error("Error updating letra:",e)}}})}carregaLetra(){return h(this,null,function*(){if(this.id){let n=yield this.supabaseService.getLetraById(this.id);n?this.form.patchValue({louvor_id:this.louvor_id,id:this.id,ordem:n.ordem,letra:n.letra,notas:n.notas,is_intro:n.is_intro}):console.error("Error loading letra:",n)}})}toogleLigarAtalhos(){this.ligar_atalhos=!this.ligar_atalhos}toggoleMostrarControles(){debugger;this.mostrar_controles=!this.mostrar_controles}onKeyDown(n,e){if(!this.ligar_atalhos)return;let r=e.selectionStart,o=e.value;if(n.key==="+"||n.key==="-"||n.key==="*"||n.key==="/"){n.preventDefault();let i="",s=r,a=0;if(n.key==="+"){let u=prompt("Digite a nota musical:");if(u!==null&&u.trim()!==""){let d=o.charAt(r)||"";i=`{${d}|${u.trim()}}`,s=r+i.length,a=d?1:0}else return}else if(n.key==="-"){let u=prompt("Digite a nota musical:");if(u!==null&&u.trim()!==""){i=` ...{.|${u.trim()}}... `;let d=i.indexOf("}")+2;s=r+d}else return}else if(n.key==="*"){let u=prompt("Quantas vezes vai repetir?");if(u===null||u.trim()==="")return;i=` qq <span class='fw-bold text-danger'>Repetir (${u}X)</span>`,s=r+i.length+15}else if(n.key==="/"){let u=prompt("Digite a nota musical:");if(u!==null&&u.trim()!==""){i=` | ...{.|${u.trim()}}... `;let d=i.indexOf("}")+6;s=r+d}else return}let l=o.substring(0,r)+i+o.substring(r+a);e.value=l;let c=e.getAttribute("formControlName");c&&this.form.get(c)&&this.form.get(c)?.setValue(l),this.onSubmit(),setTimeout(()=>{e.selectionStart=e.selectionEnd=s,e.focus()},400)}}static \u0275fac=function(e){return new(e||t)(D(Bn),D(Ue),D(Ce),D(ge))};static \u0275cmp=be({type:t,selectors:[["app-letras-edit"]],decls:13,vars:6,consts:[["letraTextarea",""],[1,"mb-2",3,"ngSubmit","formGroup"],[1,"row","mb-2"],[1,"row","mb-2","g-2"],[1,"col-12"],[1,"form-group"],["for","letra"],["type","text","id","letra","formControlName","letra","rows","5",1,"form-control","fw-medium",3,"dblclick","keydown"],["accesskey","s","type","submit",1,"btn","btn-outline-primary","me-2",3,"disabled"],[1,"fa-solid","fa-floppy-disk","me-2"],[1,"m-0","text-primary"],["for","notas"],["type","text","id","notas","formControlName","notas",1,"form-control","fw-medium"],[1,"col-4"],["for","ordem"],["type","number","id","ordem","formControlName","ordem",1,"form-control","fw-medium"],["for","is_intro"],["id","is_intro","formControlName","is_intro",1,"form-control","form-select","fw-medium"],[3,"ngValue"],["accesskey","v",1,"btn","btn-outline-success","me-2",3,"routerLink"],[1,"fa-solid","fa-home","me-2"],["accesskey","d",1,"btn","btn-outline-danger",3,"click"],[1,"fa-solid","fa-keyboard","me-2"]],template:function(e,r){if(e&1){let o=rt();v(0,"form",1),W("ngSubmit",function(){return he(o),pe(r.onSubmit())}),re(1,FA,3,0,"div",2),v(2,"div",3)(3,"div",4)(4,"div",5),re(5,LA,2,0,"label",6),v(6,"textarea",7,0),W("dblclick",function(){return he(o),pe(r.toggoleMostrarControles())})("keydown",function(s){he(o);let a=gy(7);return pe(r.onKeyDown(s,a))}),m()()(),re(8,jA,19,2),m(),v(9,"button",8),T(10,"i",9),b(11," Salvar "),m(),re(12,BA,6,4),m()}e&2&&(F("formGroup",r.form),M(),ae(r.mostrar_controles==!0?1:-1),M(4),ae(r.mostrar_controles==!0?5:-1),M(3),ae(r.mostrar_controles==!0?8:-1),M(),F("disabled",r.form.invalid),M(3),ae(r.mostrar_controles==!0?12:-1))},dependencies:[Ke,$e,Un,$n,qt,Gt,lt,ls,ut,ct,Vn,gn,mn],encapsulation:2})};var UA=t=>["/louvores","edit",t];function HA(t,n){t&1&&(v(0,"div",2)(1,"h4",11),b(2,"Formul\xE1rio de Cria\xE7\xE3o"),m()())}function zA(t,n){t&1&&(v(0,"label",6),b(1,"Letra"),m())}function qA(t,n){t&1&&(v(0,"div",4)(1,"div",5)(2,"label",12),b(3,"Notas"),m(),T(4,"input",13),m()(),v(5,"div",14)(6,"div",5)(7,"label",15),b(8,"Ordem"),m(),T(9,"input",16),m()(),v(10,"div",14)(11,"div",5)(12,"label",17),b(13,"Introdu\xE7\xE3o"),m(),v(14,"select",18)(15,"option",19),b(16,"N\xE3o"),m(),v(17,"option",19),b(18,"Sim"),m()()()()),t&2&&(M(15),F("ngValue",!1),M(2),F("ngValue",!0))}function GA(t,n){if(t&1&&(v(0,"a",10),T(1,"i",20),b(2," Voltar "),m()),t&2){let e=Z();F("routerLink",$t(1,UA,e.louvor_id))}}var Gc=class t{constructor(n,e,r,o){this.fb=n;this.supabaseService=e;this.route=r;this.router=o;this.form=this.fb.group({ordem:[0,ne.required],letra:["",ne.required],notas:[""],is_intro:[!1],louvor_id:[""]}),this.route.paramMap.subscribe(i=>{this.louvor_id=i.get("louvor_id")??""}),this.supabaseService.getQtdLetrasByLouvorId(this.louvor_id).then(i=>{this.qtdLetras=i,i==0?(i=1,this.form.patchValue({ordem:i,is_intro:!0,letra:"Introdu\xE7\xE3o"})):(i=i+1,this.form.patchValue({ordem:i}))})}louvor_id="";form;qtdLetras=0;mostrar_controles=!0;toggoleMostrarControles(){debugger;this.mostrar_controles=!this.mostrar_controles}onSubmit(){return h(this,null,function*(){let n=this.form.value;n.louvor_id=this.louvor_id,n.letra=n.letra.trim().replace(/\n/g," ").replaceAll("  "," "),n.notas=n.notas.trim();try{let e=yield this.supabaseService.addLetra(n);if(e==""){console.error("Error adding letra:",e);return}let r=e;this.router.navigate(["/louvores",n.louvor_id,"letras","edit",r])}catch(e){console.error("Error adding letra:",e)}})}static \u0275fac=function(e){return new(e||t)(D(Bn),D(Ue),D(Ce),D(ge))};static \u0275cmp=be({type:t,selectors:[["app-letras-add"]],decls:13,vars:6,consts:[["letraTextarea",""],[1,"mb-2",3,"ngSubmit","formGroup"],[1,"row","mb-2"],[1,"row","mb-2","g-2"],[1,"col-12"],[1,"form-group"],["for","letra"],["type","text","id","letra","formControlName","letra","rows","5",1,"form-control","fw-medium",3,"dblclick"],["accesskey","s","type","submit",1,"btn","btn-outline-primary","me-2",3,"disabled"],[1,"fa-solid","fa-floppy-disk","me-2"],["accesskey","v",1,"btn","btn-outline-success",3,"routerLink"],[1,"m-0","text-primary"],["for","notas"],["type","text","id","notas","formControlName","notas",1,"form-control","fw-medium"],[1,"col-4"],["for","ordem"],["type","number","id","ordem","formControlName","ordem",1,"form-control","fw-medium"],["for","is_intro"],["id","is_intro","formControlName","is_intro",1,"form-control","form-select","fw-medium"],[3,"ngValue"],[1,"fa-solid","fa-home","me-2"]],template:function(e,r){if(e&1){let o=rt();v(0,"form",1),W("ngSubmit",function(){return he(o),pe(r.onSubmit())}),re(1,HA,3,0,"div",2),v(2,"div",3)(3,"div",4)(4,"div",5),re(5,zA,2,0,"label",6),v(6,"textarea",7,0),W("dblclick",function(){return he(o),pe(r.toggoleMostrarControles())}),m()()(),re(8,qA,19,2),m(),v(9,"button",8),T(10,"i",9),b(11," Salvar "),m(),re(12,GA,3,3,"a",10),m()}e&2&&(F("formGroup",r.form),M(),ae(r.mostrar_controles==!0?1:-1),M(4),ae(r.mostrar_controles==!0?5:-1),M(3),ae(r.mostrar_controles==!0?8:-1),M(),F("disabled",r.form.invalid),M(3),ae(r.mostrar_controles==!0?12:-1))},dependencies:[Ke,$e,Un,$n,qt,Gt,lt,ls,ut,ct,Vn,gn,mn],encapsulation:2})};var Wc=class t{constructor(n){this.sanitizer=n}transform(n){let e=n.replaceAll(","," | ").replaceAll("+","<br>");return this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(e){return new(e||t)(D(Fi,16))};static \u0275pipe=Ct({name:"formataIntro",type:t,pure:!0})};var Zc=class t{transform(n){return n.replace(/\{([^|]+)\|[^}]+\}/g,"$1")}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=Ct({name:"limpaNotas",type:t,pure:!0})};function WA(t,n){if(t&1&&(v(0,"option",11),b(1),m()),t&2){let e=n.$implicit,r=Z();F("value",e)("selected",e===r.tomOriginal),M(),fl("",e," ",e===r.tomOriginal?"(Original)":"","")}}function ZA(t,n){if(t&1&&(T(0,"div",22),ot(1,"quebralinha"),ot(2,"formataNotas")),t&2){let e=Z().$implicit,r=Z();Ei("font-size",r.fontSize+"em"),F("innerHTML",it(2,5,it(1,3,e.letra)),Tn)}}function KA(t,n){if(t&1&&(T(0,"div",22),ot(1,"quebralinha"),ot(2,"limpaNotas")),t&2){let e=Z().$implicit,r=Z();Ei("font-size",r.fontSize+"em"),F("innerHTML",it(2,5,it(1,3,e.letra)),Tn)}}function YA(t,n){if(t&1&&(v(0,"div",21),T(1,"span",23),ot(2,"formataIntro"),m()),t&2){let e=Z().$implicit,r=Z();M(),Ei("font-size",r.fontSize+"em"),F("innerHTML",it(2,3,e.notas),Tn)}}function QA(t,n){if(t&1){let e=rt();v(0,"div",12),W("click",function(){he(e);let o=Z();return pe(o.toggleScroll())}),v(1,"div",13)(2,"section",14)(3,"span",15),b(4),m(),v(5,"section")(6,"span",16),W("click",function(){he(e);let o=Z();return pe(o.diminuirFonte())}),T(7,"img",17),m(),v(8,"span",18),W("click",function(){he(e);let o=Z();return pe(o.aumentarFonte())}),T(9,"img",19),m()()(),re(10,ZA,3,7,"div",20)(11,KA,3,7,"div",20)(12,YA,3,5,"div",21),m()()}if(t&2){let e=n.$implicit,r=Z();M(4),dl(" ",e.ordem," "),M(6),ae(r.mostrarNotas==!0?10:11),M(2),ae(e.notas.length>0?12:-1)}}var Kc=class t{constructor(n,e,r,o,i){this.supabaseService=n;this.route=e;this.router=r;this.renderer=o;this.cdr=i;this.route.paramMap.subscribe(a=>{this.id=a.get("id")??"",this.id&&(this.supabaseService.onLetraChanged(this.id,()=>{this.carregaLetra()}),this.carregaLetra())});let s=localStorage.getItem("fontSizeLS");this.fontSize=s?parseFloat(s):1.4,localStorage.setItem("fontSizeLS",this.fontSize.toString())}tons=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];mapaTons=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];tomOriginal="";tomSelecionado="";tomDoLouvor="";mostrarNotas=!0;id="";Letras=[];LetrasOriginal=[];Apresentacao=[];fontSize=1;scrollInterval;scrollSpeed=60;scrollStep=1;isScrolling=!1;nomeDoLouvor="";carregaLetra(){return h(this,null,function*(){if(this.id){let n=yield this.supabaseService.getLetrasByLouvorId(this.id);if(n){this.LetrasOriginal=JSON.parse(JSON.stringify(n)),this.Letras=JSON.parse(JSON.stringify(n)),this.cdr.detectChanges();let e=yield this.supabaseService.getLouvorById(this.id);e&&(this.nomeDoLouvor=e.nome,this.tomOriginal=e.tom,this.tomSelecionado=e.tom,this.tomDoLouvor=e.tom,this.tomSelecionado=this.tomOriginal)}else console.error("Erro ao carregar letra:",n)}})}alterarTom(){if(!this.tomSelecionado||this.tomSelecionado===this.tomDoLouvor)return;let n=this.calcularSemitons(this.tomOriginal,this.tomSelecionado);console.log(`Transposi\xE7\xE3o: ${this.tomOriginal} \u2192 ${this.tomSelecionado} (${n} semitons)`),this.Letras=this.LetrasOriginal.map(e=>L(w({},e),{letra:this.transporLetra(e.letra,n)})),this.tomDoLouvor=this.tomSelecionado,this.cdr.detectChanges()}calcularSemitons(n,e){let r=this.converterParaSustenido(n),o=this.converterParaSustenido(e),i=this.mapaTons.indexOf(r),s=this.mapaTons.indexOf(o);if(i===-1||s===-1)return 0;let a=s-i;return a>6&&(a-=12),a<-6&&(a+=12),a}transporLetra(n,e){return n.replace(/\{([^|]+)\|([A-G](?:#|b)?(?:maj|min|m|M|\d+|sus|dim|aug|add)?(?:[^}\s]*))\}/g,(r,o,i)=>`{${o}|${this.transporAcorde(i,e)}}`)}transporAcorde(n,e){if(!n||n==="N.C.")return n;if(n.includes("/")){let[p,f]=n.split("/");return`${this.transporAcorde(p,e)}/${this.transporAcorde(f,e)}`}let r=n;Object.entries(this.equivalenciaBemolSustenido).forEach(([p,f])=>{r.startsWith(p)&&(r=f+r.slice(p.length))});let o=/^([A-G](?:#|b)?)(.*)$/,i=r.match(o);if(!i)return n;let[s,a,l]=i,c=this.mapaTons.indexOf(a);if(c===-1)return n;let u=(c+e)%12;u<0&&(u+=12);let d=this.mapaTons[u];return this.tons.includes(this.tomSelecionado)&&(d={"C#":"Db","D#":"Eb","F#":"Gb","G#":"Ab","A#":"Bb"}[d]||d),d+l}get transposicaoAtual(){let n=this.calcularSemitons(this.tomOriginal,this.tomSelecionado);return n===0?"":n>0?`(+${n})`:`(${n})`}resetarTom(){this.tomSelecionado=this.tomOriginal,this.alterarTom()}aumentarFonte(){this.fontSize=parseFloat((this.fontSize+.2).toFixed(2)),localStorage.setItem("fontSizeLS",this.fontSize.toString())}diminuirFonte(){this.fontSize=parseFloat((this.fontSize-.2).toFixed(2)),localStorage.setItem("fontSizeLS",this.fontSize.toString())}iniciarScroll(){this.scrollInterval||(this.isScrolling=!0,this.scrollInterval=setInterval(()=>{window.scrollBy({top:this.scrollStep,behavior:"smooth"})},this.scrollSpeed))}pararScroll(){this.isScrolling=!1,clearInterval(this.scrollInterval),this.scrollInterval=null}aumentarVelocidade(){this.scrollSpeed>20&&(this.scrollSpeed-=20),this.reiniciarScroll()}diminuirVelocidade(){this.scrollSpeed<1200&&(this.scrollSpeed+=40),this.reiniciarScroll()}reiniciarScroll(){this.isScrolling&&(this.pararScroll(),this.iniciarScroll())}toggleScroll(){this.isScrolling?this.pararScroll():this.iniciarScroll()}toggleMostrarNotas(){this.mostrarNotas=!this.mostrarNotas}equivalenciaBemolSustenido={Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#"};converterParaSustenido(n){return this.equivalenciaBemolSustenido[n]||n}testarTransposicoes(){[{acorde:"Bb",semitons:2,esperado:"C"},{acorde:"Eb",semitons:-1,esperado:"D"},{acorde:"Gb",semitons:3,esperado:"A"},{acorde:"Abm",semitons:-2,esperado:"Gbm"},{acorde:"Db/F",semitons:4,esperado:"F/A"}].forEach(e=>{let r=this.transporAcorde(e.acorde,e.semitons);console.log(`${e.acorde} + ${e.semitons} semitons => ${r}`,r===e.esperado?"\u2705":"\u274C (Esperado: "+e.esperado+")")})}static \u0275fac=function(e){return new(e||t)(D(Ue),D(Ce),D(ge),D(bt),D(hn))};static \u0275cmp=be({type:t,selectors:[["app-letras-cantar"]],decls:20,vars:4,consts:[[1,"row","mb-2"],[1,"col-12","col-md-10","col-lg-8","col-xl-7","mx-auto"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fw-bold","text-primary","me-2",2,"font-size","1.5rem"],[1,"row","mb-3"],[1,"d-flex","align-items-center"],["for","tomSelect",1,"me-2","fw-bold"],["id","tomSelect",1,"form-select","me-2",2,"width","auto",3,"ngModelChange","change","ngModel"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"btn","btn-outline-secondary",3,"click"],[1,"card","mb-2"],[3,"value","selected"],[1,"card","mb-2",3,"click"],[1,"card-body","p-3"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"no-select","fw-bold","text-black","m-0","cursor",2,"font-size","1.2rem"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],["src","./images/circle_minus.png","alt","+",1,"img-fluid",2,"width","1.1rem","height","1.1rem cursor"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],["src","./images/circle_plus.png","alt","+",1,"img-fluid",2,"width","1.1rem","height","1.1rem cursor"],[1,"no-select","mb-1",2,"text-align","justify","font-size","1.9rem","font-weight","500","line-height","2.8rem",3,"innerHTML","font-size"],[1,"d-flex","justify-content-between","align-items-center","mb-1"],[1,"no-select","mb-1",2,"text-align","justify","font-size","1.9rem","font-weight","500","line-height","2.8rem",3,"innerHTML"],[1,"no-select","fw-bold","text-primary","p-0","m-0",3,"innerHTML"]],template:function(e,r){e&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"section")(4,"span",3),b(5),m(),T(6,"section"),m()()()(),v(7,"div",4)(8,"div",1)(9,"div",5)(10,"label",6),b(11,"Tom:"),m(),v(12,"select",7),Si("ngModelChange",function(i){return hl(r.tomSelecionado,i)||(r.tomSelecionado=i),i}),W("change",function(){return r.alterarTom()}),re(13,WA,2,4,"option",8),m(),v(14,"button",9),W("click",function(){return r.resetarTom()}),b(15,"Resetar"),m()()()(),v(16,"div",0)(17,"div",1),ho(18,QA,13,3,"div",10,fo),m()()),e&2&&(M(5),fl("",r.nomeDoLouvor," - ",r.transposicaoAtual,""),M(7),Ii("ngModel",r.tomSelecionado),M(),F("ngForOf",r.tons),M(5),po(r.Letras))},dependencies:[Rn,_l,gc,qt,Gt,ut,ct,as,Ho,Wc,zo,Zc],encapsulation:2})};var RD=[{path:"",component:Bc},{path:"louvores/add",component:Uc},{path:"louvores/edit/:id",component:zc},{path:"louvores/:louvor_id/letras/edit/:id",component:qc},{path:"louvores/:louvor_id/letras/add",component:Gc},{path:"louvores/cantar/:id",component:Kc},{path:"**",redirectTo:""}];var OD={providers:[Cy({eventCoalescing:!0}),Ih(RD)]};var JA=()=>["/"];function XA(t,n){t&1&&(v(0,"div",1)(1,"div",2)(2,"h3",3),b(3,"Louvores e Notas"),m(),v(4,"span",4),b(5,"Wellington Rogerio"),m()()()),t&2&&(M(2),F("routerLink",An(1,JA)))}var Yc=class t{exibir=!0;constructor(){let n=localStorage.getItem("exibir");n?this.exibir=n==="s":(this.exibir=!0,localStorage.setItem("exibir","s"))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=be({type:t,selectors:[["app-home"]],decls:1,vars:1,consts:[["class","row mb-2",4,"ngIf"],[1,"row","mb-2"],[1,"col-12","text-center"],[1,"no-select","mb-0",3,"routerLink"],[1,"no-select","text-muted"]],template:function(e,r){e&1&&re(0,XA,6,2,"div",0),e&2&&F("ngIf",r.exibir)},dependencies:[Ke,$e,Rn,Ai],encapsulation:2})};var Qc=class t{title="Louvores Notas";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=be({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"canva_louvores","container","p-3"]],template:function(e,r){e&1&&(v(0,"div",0),T(1,"app-home")(2,"router-outlet"),m())},dependencies:[Qi,Yc],encapsulation:2})};Yf(Qc,OD).catch(t=>console.error(t));
